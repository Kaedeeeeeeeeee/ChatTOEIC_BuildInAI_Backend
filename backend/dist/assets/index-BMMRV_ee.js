(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))s(d);new MutationObserver(d=>{for(const h of d)if(h.type==="childList")for(const g of h.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&s(g)}).observe(document,{childList:!0,subtree:!0});function l(d){const h={};return d.integrity&&(h.integrity=d.integrity),d.referrerPolicy&&(h.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?h.credentials="include":d.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function s(d){if(d.ep)return;d.ep=!0;const h=l(d);fetch(d.href,h)}})();var Xy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Cp(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Vd={exports:{}},Js={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C0;function Fy(){if(C0)return Js;C0=1;var r=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function l(s,d,h){var g=null;if(h!==void 0&&(g=""+h),d.key!==void 0&&(g=""+d.key),"key"in d){h={};for(var b in d)b!=="key"&&(h[b]=d[b])}else h=d;return d=h.ref,{$$typeof:r,type:s,key:g,ref:d!==void 0?d:null,props:h}}return Js.Fragment=i,Js.jsx=l,Js.jsxs=l,Js}var O0;function Wy(){return O0||(O0=1,Vd.exports=Fy()),Vd.exports}var c=Wy(),Yd={exports:{}},st={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D0;function Zy(){if(D0)return st;D0=1;var r=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),g=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),j=Symbol.for("react.lazy"),R=Symbol.iterator;function A(O){return O===null||typeof O!="object"?null:(O=R&&O[R]||O["@@iterator"],typeof O=="function"?O:null)}var B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,D={};function Q(O,ue,Ne){this.props=O,this.context=ue,this.refs=D,this.updater=Ne||B}Q.prototype.isReactComponent={},Q.prototype.setState=function(O,ue){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,ue,"setState")},Q.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function X(){}X.prototype=Q.prototype;function ce(O,ue,Ne){this.props=O,this.context=ue,this.refs=D,this.updater=Ne||B}var Z=ce.prototype=new X;Z.constructor=ce,k(Z,Q.prototype),Z.isPureReactComponent=!0;var Se=Array.isArray,pe={H:null,A:null,T:null,S:null,V:null},I=Object.prototype.hasOwnProperty;function Me(O,ue,Ne,ve,De,at){return Ne=at.ref,{$$typeof:r,type:O,key:ue,ref:Ne!==void 0?Ne:null,props:at}}function Ie(O,ue){return Me(O.type,ue,void 0,void 0,void 0,O.props)}function Ye(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function Ct(O){var ue={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(Ne){return ue[Ne]})}var ct=/\/+/g;function jt(O,ue){return typeof O=="object"&&O!==null&&O.key!=null?Ct(""+O.key):ue.toString(36)}function nt(){}function yt(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(nt,nt):(O.status="pending",O.then(function(ue){O.status==="pending"&&(O.status="fulfilled",O.value=ue)},function(ue){O.status==="pending"&&(O.status="rejected",O.reason=ue)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function vt(O,ue,Ne,ve,De){var at=typeof O;(at==="undefined"||at==="boolean")&&(O=null);var Ke=!1;if(O===null)Ke=!0;else switch(at){case"bigint":case"string":case"number":Ke=!0;break;case"object":switch(O.$$typeof){case r:case i:Ke=!0;break;case j:return Ke=O._init,vt(Ke(O._payload),ue,Ne,ve,De)}}if(Ke)return De=De(O),Ke=ve===""?"."+jt(O,0):ve,Se(De)?(Ne="",Ke!=null&&(Ne=Ke.replace(ct,"$&/")+"/"),vt(De,ue,Ne,"",function(Ue){return Ue})):De!=null&&(Ye(De)&&(De=Ie(De,Ne+(De.key==null||O&&O.key===De.key?"":(""+De.key).replace(ct,"$&/")+"/")+Ke)),ue.push(De)),1;Ke=0;var sn=ve===""?".":ve+":";if(Se(O))for(var Ot=0;Ot<O.length;Ot++)ve=O[Ot],at=sn+jt(ve,Ot),Ke+=vt(ve,ue,Ne,at,De);else if(Ot=A(O),typeof Ot=="function")for(O=Ot.call(O),Ot=0;!(ve=O.next()).done;)ve=ve.value,at=sn+jt(ve,Ot++),Ke+=vt(ve,ue,Ne,at,De);else if(at==="object"){if(typeof O.then=="function")return vt(yt(O),ue,Ne,ve,De);throw ue=String(O),Error("Objects are not valid as a React child (found: "+(ue==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":ue)+"). If you meant to render a collection of children, use an array instead.")}return Ke}function te(O,ue,Ne){if(O==null)return O;var ve=[],De=0;return vt(O,ve,"","",function(at){return ue.call(Ne,at,De++)}),ve}function je(O){if(O._status===-1){var ue=O._result;ue=ue(),ue.then(function(Ne){(O._status===0||O._status===-1)&&(O._status=1,O._result=Ne)},function(Ne){(O._status===0||O._status===-1)&&(O._status=2,O._result=Ne)}),O._status===-1&&(O._status=0,O._result=ue)}if(O._status===1)return O._result.default;throw O._result}var Ce=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ue=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(ue))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function Ze(){}return st.Children={map:te,forEach:function(O,ue,Ne){te(O,function(){ue.apply(this,arguments)},Ne)},count:function(O){var ue=0;return te(O,function(){ue++}),ue},toArray:function(O){return te(O,function(ue){return ue})||[]},only:function(O){if(!Ye(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},st.Component=Q,st.Fragment=l,st.Profiler=d,st.PureComponent=ce,st.StrictMode=s,st.Suspense=v,st.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=pe,st.__COMPILER_RUNTIME={__proto__:null,c:function(O){return pe.H.useMemoCache(O)}},st.cache=function(O){return function(){return O.apply(null,arguments)}},st.cloneElement=function(O,ue,Ne){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var ve=k({},O.props),De=O.key,at=void 0;if(ue!=null)for(Ke in ue.ref!==void 0&&(at=void 0),ue.key!==void 0&&(De=""+ue.key),ue)!I.call(ue,Ke)||Ke==="key"||Ke==="__self"||Ke==="__source"||Ke==="ref"&&ue.ref===void 0||(ve[Ke]=ue[Ke]);var Ke=arguments.length-2;if(Ke===1)ve.children=Ne;else if(1<Ke){for(var sn=Array(Ke),Ot=0;Ot<Ke;Ot++)sn[Ot]=arguments[Ot+2];ve.children=sn}return Me(O.type,De,void 0,void 0,at,ve)},st.createContext=function(O){return O={$$typeof:g,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:h,_context:O},O},st.createElement=function(O,ue,Ne){var ve,De={},at=null;if(ue!=null)for(ve in ue.key!==void 0&&(at=""+ue.key),ue)I.call(ue,ve)&&ve!=="key"&&ve!=="__self"&&ve!=="__source"&&(De[ve]=ue[ve]);var Ke=arguments.length-2;if(Ke===1)De.children=Ne;else if(1<Ke){for(var sn=Array(Ke),Ot=0;Ot<Ke;Ot++)sn[Ot]=arguments[Ot+2];De.children=sn}if(O&&O.defaultProps)for(ve in Ke=O.defaultProps,Ke)De[ve]===void 0&&(De[ve]=Ke[ve]);return Me(O,at,void 0,void 0,null,De)},st.createRef=function(){return{current:null}},st.forwardRef=function(O){return{$$typeof:b,render:O}},st.isValidElement=Ye,st.lazy=function(O){return{$$typeof:j,_payload:{_status:-1,_result:O},_init:je}},st.memo=function(O,ue){return{$$typeof:y,type:O,compare:ue===void 0?null:ue}},st.startTransition=function(O){var ue=pe.T,Ne={};pe.T=Ne;try{var ve=O(),De=pe.S;De!==null&&De(Ne,ve),typeof ve=="object"&&ve!==null&&typeof ve.then=="function"&&ve.then(Ze,Ce)}catch(at){Ce(at)}finally{pe.T=ue}},st.unstable_useCacheRefresh=function(){return pe.H.useCacheRefresh()},st.use=function(O){return pe.H.use(O)},st.useActionState=function(O,ue,Ne){return pe.H.useActionState(O,ue,Ne)},st.useCallback=function(O,ue){return pe.H.useCallback(O,ue)},st.useContext=function(O){return pe.H.useContext(O)},st.useDebugValue=function(){},st.useDeferredValue=function(O,ue){return pe.H.useDeferredValue(O,ue)},st.useEffect=function(O,ue,Ne){var ve=pe.H;if(typeof Ne=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ve.useEffect(O,ue)},st.useId=function(){return pe.H.useId()},st.useImperativeHandle=function(O,ue,Ne){return pe.H.useImperativeHandle(O,ue,Ne)},st.useInsertionEffect=function(O,ue){return pe.H.useInsertionEffect(O,ue)},st.useLayoutEffect=function(O,ue){return pe.H.useLayoutEffect(O,ue)},st.useMemo=function(O,ue){return pe.H.useMemo(O,ue)},st.useOptimistic=function(O,ue){return pe.H.useOptimistic(O,ue)},st.useReducer=function(O,ue,Ne){return pe.H.useReducer(O,ue,Ne)},st.useRef=function(O){return pe.H.useRef(O)},st.useState=function(O){return pe.H.useState(O)},st.useSyncExternalStore=function(O,ue,Ne){return pe.H.useSyncExternalStore(O,ue,Ne)},st.useTransition=function(){return pe.H.useTransition()},st.version="19.1.0",st}var M0;function Sf(){return M0||(M0=1,Yd.exports=Zy()),Yd.exports}var z=Sf();const L0=Cp(z);var Id={exports:{}},eo={},$d={exports:{}},Xd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z0;function Jy(){return z0||(z0=1,function(r){function i(te,je){var Ce=te.length;te.push(je);e:for(;0<Ce;){var Ze=Ce-1>>>1,O=te[Ze];if(0<d(O,je))te[Ze]=je,te[Ce]=O,Ce=Ze;else break e}}function l(te){return te.length===0?null:te[0]}function s(te){if(te.length===0)return null;var je=te[0],Ce=te.pop();if(Ce!==je){te[0]=Ce;e:for(var Ze=0,O=te.length,ue=O>>>1;Ze<ue;){var Ne=2*(Ze+1)-1,ve=te[Ne],De=Ne+1,at=te[De];if(0>d(ve,Ce))De<O&&0>d(at,ve)?(te[Ze]=at,te[De]=Ce,Ze=De):(te[Ze]=ve,te[Ne]=Ce,Ze=Ne);else if(De<O&&0>d(at,Ce))te[Ze]=at,te[De]=Ce,Ze=De;else break e}}return je}function d(te,je){var Ce=te.sortIndex-je.sortIndex;return Ce!==0?Ce:te.id-je.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;r.unstable_now=function(){return h.now()}}else{var g=Date,b=g.now();r.unstable_now=function(){return g.now()-b}}var v=[],y=[],j=1,R=null,A=3,B=!1,k=!1,D=!1,Q=!1,X=typeof setTimeout=="function"?setTimeout:null,ce=typeof clearTimeout=="function"?clearTimeout:null,Z=typeof setImmediate<"u"?setImmediate:null;function Se(te){for(var je=l(y);je!==null;){if(je.callback===null)s(y);else if(je.startTime<=te)s(y),je.sortIndex=je.expirationTime,i(v,je);else break;je=l(y)}}function pe(te){if(D=!1,Se(te),!k)if(l(v)!==null)k=!0,I||(I=!0,jt());else{var je=l(y);je!==null&&vt(pe,je.startTime-te)}}var I=!1,Me=-1,Ie=5,Ye=-1;function Ct(){return Q?!0:!(r.unstable_now()-Ye<Ie)}function ct(){if(Q=!1,I){var te=r.unstable_now();Ye=te;var je=!0;try{e:{k=!1,D&&(D=!1,ce(Me),Me=-1),B=!0;var Ce=A;try{t:{for(Se(te),R=l(v);R!==null&&!(R.expirationTime>te&&Ct());){var Ze=R.callback;if(typeof Ze=="function"){R.callback=null,A=R.priorityLevel;var O=Ze(R.expirationTime<=te);if(te=r.unstable_now(),typeof O=="function"){R.callback=O,Se(te),je=!0;break t}R===l(v)&&s(v),Se(te)}else s(v);R=l(v)}if(R!==null)je=!0;else{var ue=l(y);ue!==null&&vt(pe,ue.startTime-te),je=!1}}break e}finally{R=null,A=Ce,B=!1}je=void 0}}finally{je?jt():I=!1}}}var jt;if(typeof Z=="function")jt=function(){Z(ct)};else if(typeof MessageChannel<"u"){var nt=new MessageChannel,yt=nt.port2;nt.port1.onmessage=ct,jt=function(){yt.postMessage(null)}}else jt=function(){X(ct,0)};function vt(te,je){Me=X(function(){te(r.unstable_now())},je)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(te){te.callback=null},r.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ie=0<te?Math.floor(1e3/te):5},r.unstable_getCurrentPriorityLevel=function(){return A},r.unstable_next=function(te){switch(A){case 1:case 2:case 3:var je=3;break;default:je=A}var Ce=A;A=je;try{return te()}finally{A=Ce}},r.unstable_requestPaint=function(){Q=!0},r.unstable_runWithPriority=function(te,je){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var Ce=A;A=te;try{return je()}finally{A=Ce}},r.unstable_scheduleCallback=function(te,je,Ce){var Ze=r.unstable_now();switch(typeof Ce=="object"&&Ce!==null?(Ce=Ce.delay,Ce=typeof Ce=="number"&&0<Ce?Ze+Ce:Ze):Ce=Ze,te){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=Ce+O,te={id:j++,callback:je,priorityLevel:te,startTime:Ce,expirationTime:O,sortIndex:-1},Ce>Ze?(te.sortIndex=Ce,i(y,te),l(v)===null&&te===l(y)&&(D?(ce(Me),Me=-1):D=!0,vt(pe,Ce-Ze))):(te.sortIndex=O,i(v,te),k||B||(k=!0,I||(I=!0,jt()))),te},r.unstable_shouldYield=Ct,r.unstable_wrapCallback=function(te){var je=A;return function(){var Ce=A;A=je;try{return te.apply(this,arguments)}finally{A=Ce}}}}(Xd)),Xd}var k0;function ev(){return k0||(k0=1,$d.exports=Jy()),$d.exports}var Fd={exports:{}},kn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U0;function tv(){if(U0)return kn;U0=1;var r=Sf();function i(v){var y="https://react.dev/errors/"+v;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var j=2;j<arguments.length;j++)y+="&args[]="+encodeURIComponent(arguments[j])}return"Minified React error #"+v+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var s={d:{f:l,r:function(){throw Error(i(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},d=Symbol.for("react.portal");function h(v,y,j){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:d,key:R==null?null:""+R,children:v,containerInfo:y,implementation:j}}var g=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function b(v,y){if(v==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return kn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,kn.createPortal=function(v,y){var j=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(i(299));return h(v,y,null,j)},kn.flushSync=function(v){var y=g.T,j=s.p;try{if(g.T=null,s.p=2,v)return v()}finally{g.T=y,s.p=j,s.d.f()}},kn.preconnect=function(v,y){typeof v=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(v,y))},kn.prefetchDNS=function(v){typeof v=="string"&&s.d.D(v)},kn.preinit=function(v,y){if(typeof v=="string"&&y&&typeof y.as=="string"){var j=y.as,R=b(j,y.crossOrigin),A=typeof y.integrity=="string"?y.integrity:void 0,B=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;j==="style"?s.d.S(v,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:R,integrity:A,fetchPriority:B}):j==="script"&&s.d.X(v,{crossOrigin:R,integrity:A,fetchPriority:B,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},kn.preinitModule=function(v,y){if(typeof v=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var j=b(y.as,y.crossOrigin);s.d.M(v,{crossOrigin:j,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(v)},kn.preload=function(v,y){if(typeof v=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var j=y.as,R=b(j,y.crossOrigin);s.d.L(v,j,{crossOrigin:R,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},kn.preloadModule=function(v,y){if(typeof v=="string")if(y){var j=b(y.as,y.crossOrigin);s.d.m(v,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:j,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(v)},kn.requestFormReset=function(v){s.d.r(v)},kn.unstable_batchedUpdates=function(v,y){return v(y)},kn.useFormState=function(v,y,j){return g.H.useFormState(v,y,j)},kn.useFormStatus=function(){return g.H.useHostTransitionStatus()},kn.version="19.1.0",kn}var q0;function Op(){if(q0)return Fd.exports;q0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(i){console.error(i)}}return r(),Fd.exports=tv(),Fd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B0;function nv(){if(B0)return eo;B0=1;var r=ev(),i=Sf(),l=Op();function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function g(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function b(e){if(h(e)!==e)throw Error(s(188))}function v(e){var t=e.alternate;if(!t){if(t=h(e),t===null)throw Error(s(188));return t!==e?null:e}for(var n=e,a=t;;){var u=n.return;if(u===null)break;var m=u.alternate;if(m===null){if(a=u.return,a!==null){n=a;continue}break}if(u.child===m.child){for(m=u.child;m;){if(m===n)return b(u),e;if(m===a)return b(u),t;m=m.sibling}throw Error(s(188))}if(n.return!==a.return)n=u,a=m;else{for(var w=!1,N=u.child;N;){if(N===n){w=!0,n=u,a=m;break}if(N===a){w=!0,a=u,n=m;break}N=N.sibling}if(!w){for(N=m.child;N;){if(N===n){w=!0,n=m,a=u;break}if(N===a){w=!0,a=m,n=u;break}N=N.sibling}if(!w)throw Error(s(189))}}if(n.alternate!==a)throw Error(s(190))}if(n.tag!==3)throw Error(s(188));return n.stateNode.current===n?e:t}function y(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=y(e),t!==null)return t;e=e.sibling}return null}var j=Object.assign,R=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),B=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),Q=Symbol.for("react.profiler"),X=Symbol.for("react.provider"),ce=Symbol.for("react.consumer"),Z=Symbol.for("react.context"),Se=Symbol.for("react.forward_ref"),pe=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),Me=Symbol.for("react.memo"),Ie=Symbol.for("react.lazy"),Ye=Symbol.for("react.activity"),Ct=Symbol.for("react.memo_cache_sentinel"),ct=Symbol.iterator;function jt(e){return e===null||typeof e!="object"?null:(e=ct&&e[ct]||e["@@iterator"],typeof e=="function"?e:null)}var nt=Symbol.for("react.client.reference");function yt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===nt?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case k:return"Fragment";case Q:return"Profiler";case D:return"StrictMode";case pe:return"Suspense";case I:return"SuspenseList";case Ye:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case B:return"Portal";case Z:return(e.displayName||"Context")+".Provider";case ce:return(e._context.displayName||"Context")+".Consumer";case Se:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Me:return t=e.displayName||null,t!==null?t:yt(e.type)||"Memo";case Ie:t=e._payload,e=e._init;try{return yt(e(t))}catch{}}return null}var vt=Array.isArray,te=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,je=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ce={pending:!1,data:null,method:null,action:null},Ze=[],O=-1;function ue(e){return{current:e}}function Ne(e){0>O||(e.current=Ze[O],Ze[O]=null,O--)}function ve(e,t){O++,Ze[O]=e.current,e.current=t}var De=ue(null),at=ue(null),Ke=ue(null),sn=ue(null);function Ot(e,t){switch(ve(Ke,t),ve(at,e),ve(De,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?a0(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=a0(t),e=i0(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Ne(De),ve(De,e)}function Ue(){Ne(De),Ne(at),Ne(Ke)}function Vt(e){e.memoizedState!==null&&ve(sn,e);var t=De.current,n=i0(t,e.type);t!==n&&(ve(at,e),ve(De,n))}function An(e){at.current===e&&(Ne(De),Ne(at)),sn.current===e&&(Ne(sn),$s._currentValue=Ce)}var xt=Object.prototype.hasOwnProperty,Cr=r.unstable_scheduleCallback,ar=r.unstable_cancelCallback,Or=r.unstable_shouldYield,Xl=r.unstable_requestPaint,qn=r.unstable_now,Fl=r.unstable_getCurrentPriorityLevel,Zi=r.unstable_ImmediatePriority,Ca=r.unstable_UserBlockingPriority,Sn=r.unstable_NormalPriority,hr=r.unstable_LowPriority,$n=r.unstable_IdlePriority,bi=r.log,Dr=r.unstable_setDisableYieldValue,$t=null,Nt=null;function Bn(e){if(typeof bi=="function"&&Dr(e),Nt&&typeof Nt.setStrictMode=="function")try{Nt.setStrictMode($t,e)}catch{}}var Yt=Math.clz32?Math.clz32:mr,wi=Math.log,Hn=Math.LN2;function mr(e){return e>>>=0,e===0?32:31-(wi(e)/Hn|0)|0}var pr=256,Mr=4194304;function fn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ze(e,t,n){var a=e.pendingLanes;if(a===0)return 0;var u=0,m=e.suspendedLanes,w=e.pingedLanes;e=e.warmLanes;var N=a&134217727;return N!==0?(a=N&~m,a!==0?u=fn(a):(w&=N,w!==0?u=fn(w):n||(n=N&~e,n!==0&&(u=fn(n))))):(N=a&~m,N!==0?u=fn(N):w!==0?u=fn(w):n||(n=a&~e,n!==0&&(u=fn(n)))),u===0?0:t!==0&&t!==u&&(t&m)===0&&(m=u&-u,n=t&-t,m>=n||m===32&&(n&4194048)!==0)?t:u}function _n(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function gr(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lr(){var e=pr;return pr<<=1,(pr&4194048)===0&&(pr=256),e}function _e(){var e=Mr;return Mr<<=1,(Mr&62914560)===0&&(Mr=4194304),e}function Vr(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Yr(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Oa(e,t,n,a,u,m){var w=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var N=e.entanglements,C=e.expirationTimes,ee=e.hiddenUpdates;for(n=w&~n;0<n;){var fe=31-Yt(n),ye=1<<fe;N[fe]=0,C[fe]=-1;var re=ee[fe];if(re!==null)for(ee[fe]=null,fe=0;fe<re.length;fe++){var ae=re[fe];ae!==null&&(ae.lane&=-536870913)}n&=~ye}a!==0&&Ir(e,a,0),m!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=m&~(w&~t))}function Ir(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-Yt(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|n&4194090}function zr(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-Yt(n),u=1<<a;u&t|e[a]&t&&(e[a]|=t),n&=~u}}function Si(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ji(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function L(){var e=je.p;return e!==0?e:(e=window.event,e===void 0?32:E0(e.type))}function W(e,t){var n=je.p;try{return je.p=e,t()}finally{je.p=n}}var ie=Math.random().toString(36).slice(2),ge="__reactFiber$"+ie,he="__reactProps$"+ie,Te="__reactContainer$"+ie,He="__reactEvents$"+ie,ke="__reactListeners$"+ie,Pe="__reactHandles$"+ie,Ge="__reactResources$"+ie,Be="__reactMarker$"+ie;function Le(e){delete e[ge],delete e[he],delete e[He],delete e[ke],delete e[Pe]}function tt(e){var t=e[ge];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Te]||n[ge]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=u0(e);e!==null;){if(n=e[ge])return n;e=u0(e)}return t}e=n,n=e.parentNode}return null}function ft(e){if(e=e[ge]||e[Te]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function kt(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(s(33))}function Kt(e){var t=e[Ge];return t||(t=e[Ge]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Fe(e){e[Be]=!0}var Rt=new Set,hn={};function Cn(e,t){on(e,t),on(e+"Capture",t)}function on(e,t){for(hn[e]=t,e=0;e<t.length;e++)Rt.add(t[e])}var bt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Xn={},mn={};function yr(e){return xt.call(mn,e)?!0:xt.call(Xn,e)?!1:bt.test(e)?mn[e]=!0:(Xn[e]=!0,!1)}function On(e,t,n){if(yr(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Fn(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function it(e,t,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+a)}}var Qt,Pn;function Kn(e){if(Qt===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Qt=t&&t[1]||"",Pn=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Qt+e+Pn}var Dt=!1;function kr(e,t){if(!e||Dt)return"";Dt=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var ye=function(){throw Error()};if(Object.defineProperty(ye.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ye,[])}catch(ae){var re=ae}Reflect.construct(e,[],ye)}else{try{ye.call()}catch(ae){re=ae}e.call(ye.prototype)}}else{try{throw Error()}catch(ae){re=ae}(ye=e())&&typeof ye.catch=="function"&&ye.catch(function(){})}}catch(ae){if(ae&&re&&typeof ae.stack=="string")return[ae.stack,re.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=a.DetermineComponentFrameRoot(),w=m[0],N=m[1];if(w&&N){var C=w.split(`
`),ee=N.split(`
`);for(u=a=0;a<C.length&&!C[a].includes("DetermineComponentFrameRoot");)a++;for(;u<ee.length&&!ee[u].includes("DetermineComponentFrameRoot");)u++;if(a===C.length||u===ee.length)for(a=C.length-1,u=ee.length-1;1<=a&&0<=u&&C[a]!==ee[u];)u--;for(;1<=a&&0<=u;a--,u--)if(C[a]!==ee[u]){if(a!==1||u!==1)do if(a--,u--,0>u||C[a]!==ee[u]){var fe=`
`+C[a].replace(" at new "," at ");return e.displayName&&fe.includes("<anonymous>")&&(fe=fe.replace("<anonymous>",e.displayName)),fe}while(1<=a&&0<=u);break}}}finally{Dt=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Kn(n):""}function ut(e){switch(e.tag){case 26:case 27:case 5:return Kn(e.type);case 16:return Kn("Lazy");case 13:return Kn("Suspense");case 19:return Kn("SuspenseList");case 0:case 15:return kr(e.type,!1);case 11:return kr(e.type.render,!1);case 1:return kr(e.type,!0);case 31:return Kn("Activity");default:return""}}function Ei(e){try{var t="";do t+=ut(e),e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function Qn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Wl(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ut(e){var t=Wl(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var u=n.get,m=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(w){a=""+w,m.call(this,w)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(w){a=""+w},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function $r(e){e._valueTracker||(e._valueTracker=Ut(e))}function Da(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=Wl(e)?e.checked?"true":"false":e.value),e=a,e!==n?(t.setValue(e),!0):!1}function Ur(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Zl=/[\n"\\]/g;function Dn(e){return e.replace(Zl,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Ma(e,t,n,a,u,m,w,N){e.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?e.type=w:e.removeAttribute("type"),t!=null?w==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Qn(t)):e.value!==""+Qn(t)&&(e.value=""+Qn(t)):w!=="submit"&&w!=="reset"||e.removeAttribute("value"),t!=null?La(e,w,Qn(t)):n!=null?La(e,w,Qn(n)):a!=null&&e.removeAttribute("value"),u==null&&m!=null&&(e.defaultChecked=!!m),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?e.name=""+Qn(N):e.removeAttribute("name")}function Jl(e,t,n,a,u,m,w,N){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.type=m),t!=null||n!=null){if(!(m!=="submit"&&m!=="reset"||t!=null))return;n=n!=null?""+Qn(n):"",t=t!=null?""+Qn(t):n,N||t===e.value||(e.value=t),e.defaultValue=t}a=a??u,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=N?e.checked:!!a,e.defaultChecked=!!a,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(e.name=w)}function La(e,t,n){t==="number"&&Ur(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function sa(e,t,n,a){if(e=e.options,t){t={};for(var u=0;u<n.length;u++)t["$"+n[u]]=!0;for(n=0;n<e.length;n++)u=t.hasOwnProperty("$"+e[n].value),e[n].selected!==u&&(e[n].selected=u),u&&a&&(e[n].defaultSelected=!0)}else{for(n=""+Qn(n),t=null,u=0;u<e.length;u++){if(e[u].value===n){e[u].selected=!0,a&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function za(e,t,n){if(t!=null&&(t=""+Qn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Qn(n):""}function es(e,t,n,a){if(t==null){if(a!=null){if(n!=null)throw Error(s(92));if(vt(a)){if(1<a.length)throw Error(s(93));a=a[0]}n=a}n==null&&(n=""),t=n}n=Qn(t),e.defaultValue=n,a=e.textContent,a===n&&a!==""&&a!==null&&(e.value=a)}function ka(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var wt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ji(e,t,n){var a=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,n):typeof n!="number"||n===0||wt.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function bo(e,t,n){if(t!=null&&typeof t!="object")throw Error(s(62));if(e=e.style,n!=null){for(var a in n)!n.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var u in t)a=t[u],t.hasOwnProperty(u)&&n[u]!==a&&Ji(e,u,a)}else for(var m in t)t.hasOwnProperty(m)&&Ji(e,m,t[m])}function ts(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gn=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ua=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function oa(e){return Ua.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var vr=null;function el(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ua=null,Ht=null;function ir(e){var t=ft(e);if(t&&(e=t.stateNode)){var n=e[he]||null;e:switch(e=t.stateNode,t.type){case"input":if(Ma(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Dn(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var u=a[he]||null;if(!u)throw Error(s(90));Ma(a,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(t=0;t<n.length;t++)a=n[t],a.form===e.form&&Da(a)}break e;case"textarea":za(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&sa(e,!!n.multiple,t,!1)}}}var ca=!1;function qa(e,t,n){if(ca)return e(t,n);ca=!0;try{var a=e(t);return a}finally{if(ca=!1,(ua!==null||Ht!==null)&&(ou(),ua&&(t=ua,e=Ht,Ht=ua=null,ir(t),e)))for(t=0;t<e.length;t++)ir(e[t])}}function da(e,t){var n=e.stateNode;if(n===null)return null;var a=n[he]||null;if(a===null)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(s(231,t,typeof n));return n}var pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ns=!1;if(pn)try{var Mn={};Object.defineProperty(Mn,"passive",{get:function(){ns=!0}}),window.addEventListener("test",Mn,Mn),window.removeEventListener("test",Mn,Mn)}catch{ns=!1}var xr=null,tl=null,Ba=null;function Ha(){if(Ba)return Ba;var e,t=tl,n=t.length,a,u="value"in xr?xr.value:xr.textContent,m=u.length;for(e=0;e<n&&t[e]===u[e];e++);var w=n-e;for(a=1;a<=w&&t[n-a]===u[m-a];a++);return Ba=u.slice(e,1<a?1-a:void 0)}function Pa(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ni(){return!0}function wo(){return!1}function tn(e){function t(n,a,u,m,w){this._reactName=n,this._targetInst=u,this.type=a,this.nativeEvent=m,this.target=w,this.currentTarget=null;for(var N in e)e.hasOwnProperty(N)&&(n=e[N],this[N]=n?n(m):m[N]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Ni:wo,this.isPropagationStopped=wo,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ni)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ni)},persist:function(){},isPersistent:Ni}),t}var fa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nl=tn(fa),Xr=j({},fa,{view:0,detail:0}),rl=tn(Xr),Ri,rs,Ti,al=j({},Xr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ha,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ti&&(Ti&&e.type==="mousemove"?(Ri=e.screenX-Ti.screenX,rs=e.screenY-Ti.screenY):rs=Ri=0,Ti=e),Ri)},movementY:function(e){return"movementY"in e?e.movementY:rs}}),il=tn(al),as=j({},al,{dataTransfer:0}),So=tn(as),ll=j({},Xr,{relatedTarget:0}),Ka=tn(ll),sl=j({},fa,{animationName:0,elapsedTime:0,pseudoElement:0}),jo=tn(sl),ic=j({},fa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ol=tn(ic),is=j({},fa,{data:0}),ul=tn(is),ls={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ss={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ai(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=gn[e])?!!t[e]:!1}function ha(){return Ai}var Eo=j({},Xr,{key:function(e){if(e.key){var t=ls[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Pa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ss[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ha,charCode:function(e){return e.type==="keypress"?Pa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Pa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),cl=tn(Eo),No=j({},al,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),os=tn(No),dl=j({},Xr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ha}),us=tn(dl),ma=j({},fa,{propertyName:0,elapsedTime:0,pseudoElement:0}),cs=tn(ma),ds=j({},al,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),fl=tn(ds),fs=j({},fa,{newState:0,oldState:0}),Ro=tn(fs),lc=[9,13,27,32],_i=pn&&"CompositionEvent"in window,Fr=null;pn&&"documentMode"in document&&(Fr=document.documentMode);var sc=pn&&"TextEvent"in window&&!Fr,hl=pn&&(!_i||Fr&&8<Fr&&11>=Fr),ml=" ",To=!1;function hs(e,t){switch(e){case"keyup":return lc.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ao(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var pa=!1;function _o(e,t){switch(e){case"compositionend":return Ao(t);case"keypress":return t.which!==32?null:(To=!0,ml);case"textInput":return e=t.data,e===ml&&To?null:e;default:return null}}function oc(e,t){if(pa)return e==="compositionend"||!_i&&hs(e,t)?(e=Ha(),Ba=tl=xr=null,pa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return hl&&t.locale!=="ko"?null:t.data;default:return null}}var Co={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Co[e.type]:t==="textarea"}function ms(e,t,n,a){ua?Ht?Ht.push(a):Ht=[a]:ua=a,t=mu(t,"onChange"),0<t.length&&(n=new nl("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var Qa=null,Ci=null;function uc(e){Jm(e,0)}function gl(e){var t=kt(e);if(Da(t))return e}function Oi(e,t){if(e==="change")return t}var br=!1;if(pn){var Pt;if(pn){var Ga="oninput"in document;if(!Ga){var Vn=document.createElement("div");Vn.setAttribute("oninput","return;"),Ga=typeof Vn.oninput=="function"}Pt=Ga}else Pt=!1;br=Pt&&(!document.documentMode||9<document.documentMode)}function Oo(){Qa&&(Qa.detachEvent("onpropertychange",yl),Ci=Qa=null)}function yl(e){if(e.propertyName==="value"&&gl(Ci)){var t=[];ms(t,Ci,e,el(e)),qa(uc,t)}}function Do(e,t,n){e==="focusin"?(Oo(),Qa=t,Ci=n,Qa.attachEvent("onpropertychange",yl)):e==="focusout"&&Oo()}function ga(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return gl(Ci)}function ps(e,t){if(e==="click")return gl(t)}function Va(e,t){if(e==="input"||e==="change")return gl(t)}function Wr(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ln=typeof Object.is=="function"?Object.is:Wr;function o(e,t){if(Ln(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var u=n[a];if(!xt.call(t,u)||!Ln(e[u],t[u]))return!1}return!0}function f(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function p(e,t){var n=f(e);e=0;for(var a;n;){if(n.nodeType===3){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=f(n)}}function x(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?x(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function S(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Ur(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ur(e.document)}return t}function E(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var T=pn&&"documentMode"in document&&11>=document.documentMode,_=null,q=null,P=null,V=!1;function M(e,t,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;V||_==null||_!==Ur(a)||(a=_,"selectionStart"in a&&E(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),P&&o(P,a)||(P=a,a=mu(q,"onSelect"),0<a.length&&(t=new nl("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=_)))}function $(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var U={animationend:$("Animation","AnimationEnd"),animationiteration:$("Animation","AnimationIteration"),animationstart:$("Animation","AnimationStart"),transitionrun:$("Transition","TransitionRun"),transitionstart:$("Transition","TransitionStart"),transitioncancel:$("Transition","TransitionCancel"),transitionend:$("Transition","TransitionEnd")},G={},F={};pn&&(F=document.createElement("div").style,"AnimationEvent"in window||(delete U.animationend.animation,delete U.animationiteration.animation,delete U.animationstart.animation),"TransitionEvent"in window||delete U.transitionend.transition);function K(e){if(G[e])return G[e];if(!U[e])return e;var t=U[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in F)return G[e]=t[n];return e}var ne=K("animationend"),le=K("animationiteration"),se=K("animationstart"),de=K("transitionrun"),we=K("transitionstart"),Re=K("transitioncancel"),xe=K("transitionend"),Ee=new Map,Ae="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ae.push("scrollEnd");function be(e,t){Ee.set(e,t),Cn(t,[e])}var Oe=new WeakMap;function Ve(e,t){if(typeof e=="object"&&e!==null){var n=Oe.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Ei(t)},Oe.set(e,t),t)}return{value:e,source:t,stack:Ei(t)}}var $e=[],rt=0,jn=0;function Je(){for(var e=rt,t=jn=rt=0;t<e;){var n=$e[t];$e[t++]=null;var a=$e[t];$e[t++]=null;var u=$e[t];$e[t++]=null;var m=$e[t];if($e[t++]=null,a!==null&&u!==null){var w=a.pending;w===null?u.next=u:(u.next=w.next,w.next=u),a.pending=u}m!==0&&yn(n,u,m)}}function Zt(e,t,n,a){$e[rt++]=e,$e[rt++]=t,$e[rt++]=n,$e[rt++]=a,jn|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function nn(e,t,n,a){return Zt(e,t,n,a),wr(e)}function qr(e,t){return Zt(e,null,null,t),wr(e)}function yn(e,t,n){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n);for(var u=!1,m=e.return;m!==null;)m.childLanes|=n,a=m.alternate,a!==null&&(a.childLanes|=n),m.tag===22&&(e=m.stateNode,e===null||e._visibility&1||(u=!0)),e=m,m=m.return;return e.tag===3?(m=e.stateNode,u&&t!==null&&(u=31-Yt(n),e=m.hiddenUpdates,a=e[u],a===null?e[u]=[t]:a.push(t),t.lane=n|536870912),m):null}function wr(e){if(50<Hs)throw Hs=0,pd=null,Error(s(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Zr={};function Lg(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function lr(e,t,n,a){return new Lg(e,t,n,a)}function cc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ya(e,t){var n=e.alternate;return n===null?(n=lr(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function qf(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Mo(e,t,n,a,u,m){var w=0;if(a=e,typeof e=="function")cc(e)&&(w=1);else if(typeof e=="string")w=ky(e,n,De.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Ye:return e=lr(31,n,t,u),e.elementType=Ye,e.lanes=m,e;case k:return Di(n.children,u,m,t);case D:w=8,u|=24;break;case Q:return e=lr(12,n,t,u|2),e.elementType=Q,e.lanes=m,e;case pe:return e=lr(13,n,t,u),e.elementType=pe,e.lanes=m,e;case I:return e=lr(19,n,t,u),e.elementType=I,e.lanes=m,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case X:case Z:w=10;break e;case ce:w=9;break e;case Se:w=11;break e;case Me:w=14;break e;case Ie:w=16,a=null;break e}w=29,n=Error(s(130,e===null?"null":typeof e,"")),a=null}return t=lr(w,n,t,u),t.elementType=e,t.type=a,t.lanes=m,t}function Di(e,t,n,a){return e=lr(7,e,a,t),e.lanes=n,e}function dc(e,t,n){return e=lr(6,e,null,t),e.lanes=n,e}function fc(e,t,n){return t=lr(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var vl=[],xl=0,Lo=null,zo=0,Sr=[],jr=0,Mi=null,va=1,xa="";function Li(e,t){vl[xl++]=zo,vl[xl++]=Lo,Lo=e,zo=t}function Bf(e,t,n){Sr[jr++]=va,Sr[jr++]=xa,Sr[jr++]=Mi,Mi=e;var a=va;e=xa;var u=32-Yt(a)-1;a&=~(1<<u),n+=1;var m=32-Yt(t)+u;if(30<m){var w=u-u%5;m=(a&(1<<w)-1).toString(32),a>>=w,u-=w,va=1<<32-Yt(t)+u|n<<u|a,xa=m+e}else va=1<<m|n<<u|a,xa=e}function hc(e){e.return!==null&&(Li(e,1),Bf(e,1,0))}function mc(e){for(;e===Lo;)Lo=vl[--xl],vl[xl]=null,zo=vl[--xl],vl[xl]=null;for(;e===Mi;)Mi=Sr[--jr],Sr[jr]=null,xa=Sr[--jr],Sr[jr]=null,va=Sr[--jr],Sr[jr]=null}var Yn=null,Xt=null,Tt=!1,zi=null,Jr=!1,pc=Error(s(519));function ki(e){var t=Error(s(418,""));throw vs(Ve(t,e)),pc}function Hf(e){var t=e.stateNode,n=e.type,a=e.memoizedProps;switch(t[ge]=e,t[he]=a,n){case"dialog":pt("cancel",t),pt("close",t);break;case"iframe":case"object":case"embed":pt("load",t);break;case"video":case"audio":for(n=0;n<Ks.length;n++)pt(Ks[n],t);break;case"source":pt("error",t);break;case"img":case"image":case"link":pt("error",t),pt("load",t);break;case"details":pt("toggle",t);break;case"input":pt("invalid",t),Jl(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0),$r(t);break;case"select":pt("invalid",t);break;case"textarea":pt("invalid",t),es(t,a.value,a.defaultValue,a.children),$r(t)}n=a.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||a.suppressHydrationWarning===!0||r0(t.textContent,n)?(a.popover!=null&&(pt("beforetoggle",t),pt("toggle",t)),a.onScroll!=null&&pt("scroll",t),a.onScrollEnd!=null&&pt("scrollend",t),a.onClick!=null&&(t.onclick=pu),t=!0):t=!1,t||ki(e)}function Pf(e){for(Yn=e.return;Yn;)switch(Yn.tag){case 5:case 13:Jr=!1;return;case 27:case 3:Jr=!0;return;default:Yn=Yn.return}}function gs(e){if(e!==Yn)return!1;if(!Tt)return Pf(e),Tt=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Od(e.type,e.memoizedProps)),n=!n),n&&Xt&&ki(e),Pf(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(n=e.data,n==="/$"){if(t===0){Xt=Hr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++;e=e.nextSibling}Xt=null}}else t===27?(t=Xt,si(e.type)?(e=zd,zd=null,Xt=e):Xt=t):Xt=Yn?Hr(e.stateNode.nextSibling):null;return!0}function ys(){Xt=Yn=null,Tt=!1}function Kf(){var e=zi;return e!==null&&(Jn===null?Jn=e:Jn.push.apply(Jn,e),zi=null),e}function vs(e){zi===null?zi=[e]:zi.push(e)}var gc=ue(null),Ui=null,ba=null;function Ya(e,t,n){ve(gc,t._currentValue),t._currentValue=n}function wa(e){e._currentValue=gc.current,Ne(gc)}function yc(e,t,n){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function vc(e,t,n,a){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var m=u.dependencies;if(m!==null){var w=u.child;m=m.firstContext;e:for(;m!==null;){var N=m;m=u;for(var C=0;C<t.length;C++)if(N.context===t[C]){m.lanes|=n,N=m.alternate,N!==null&&(N.lanes|=n),yc(m.return,n,e),a||(w=null);break e}m=N.next}}else if(u.tag===18){if(w=u.return,w===null)throw Error(s(341));w.lanes|=n,m=w.alternate,m!==null&&(m.lanes|=n),yc(w,n,e),w=null}else w=u.child;if(w!==null)w.return=u;else for(w=u;w!==null;){if(w===e){w=null;break}if(u=w.sibling,u!==null){u.return=w.return,w=u;break}w=w.return}u=w}}function xs(e,t,n,a){e=null;for(var u=t,m=!1;u!==null;){if(!m){if((u.flags&524288)!==0)m=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var w=u.alternate;if(w===null)throw Error(s(387));if(w=w.memoizedProps,w!==null){var N=u.type;Ln(u.pendingProps.value,w.value)||(e!==null?e.push(N):e=[N])}}else if(u===sn.current){if(w=u.alternate,w===null)throw Error(s(387));w.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push($s):e=[$s])}u=u.return}e!==null&&vc(t,e,n,a),t.flags|=262144}function ko(e){for(e=e.firstContext;e!==null;){if(!Ln(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function qi(e){Ui=e,ba=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function zn(e){return Qf(Ui,e)}function Uo(e,t){return Ui===null&&qi(e),Qf(e,t)}function Qf(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},ba===null){if(e===null)throw Error(s(308));ba=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ba=ba.next=t;return n}var zg=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},kg=r.unstable_scheduleCallback,Ug=r.unstable_NormalPriority,un={$$typeof:Z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function xc(){return{controller:new zg,data:new Map,refCount:0}}function bs(e){e.refCount--,e.refCount===0&&kg(Ug,function(){e.controller.abort()})}var ws=null,bc=0,bl=0,wl=null;function qg(e,t){if(ws===null){var n=ws=[];bc=0,bl=Sd(),wl={status:"pending",value:void 0,then:function(a){n.push(a)}}}return bc++,t.then(Gf,Gf),t}function Gf(){if(--bc===0&&ws!==null){wl!==null&&(wl.status="fulfilled");var e=ws;ws=null,bl=0,wl=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Bg(e,t){var n=[],a={status:"pending",value:null,reason:null,then:function(u){n.push(u)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var u=0;u<n.length;u++)(0,n[u])(t)},function(u){for(a.status="rejected",a.reason=u,u=0;u<n.length;u++)(0,n[u])(void 0)}),a}var Vf=te.S;te.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&qg(e,t),Vf!==null&&Vf(e,t)};var Bi=ue(null);function wc(){var e=Bi.current;return e!==null?e:Bt.pooledCache}function qo(e,t){t===null?ve(Bi,Bi.current):ve(Bi,t.pool)}function Yf(){var e=wc();return e===null?null:{parent:un._currentValue,pool:e}}var Ss=Error(s(460)),If=Error(s(474)),Bo=Error(s(542)),Sc={then:function(){}};function $f(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ho(){}function Xf(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Ho,Ho),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Wf(e),e;default:if(typeof t.status=="string")t.then(Ho,Ho);else{if(e=Bt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var u=t;u.status="fulfilled",u.value=a}},function(a){if(t.status==="pending"){var u=t;u.status="rejected",u.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Wf(e),e}throw js=t,Ss}}var js=null;function Ff(){if(js===null)throw Error(s(459));var e=js;return js=null,e}function Wf(e){if(e===Ss||e===Bo)throw Error(s(483))}var Ia=!1;function jc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ec(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function $a(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Xa(e,t,n){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(At&2)!==0){var u=a.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),a.pending=t,t=wr(e),yn(e,null,n),t}return Zt(e,a,t,n),wr(e)}function Es(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,zr(e,n)}}function Nc(e,t){var n=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var u=null,m=null;if(n=n.firstBaseUpdate,n!==null){do{var w={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};m===null?u=m=w:m=m.next=w,n=n.next}while(n!==null);m===null?u=m=t:m=m.next=t}else u=m=t;n={baseState:a.baseState,firstBaseUpdate:u,lastBaseUpdate:m,shared:a.shared,callbacks:a.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Rc=!1;function Ns(){if(Rc){var e=wl;if(e!==null)throw e}}function Rs(e,t,n,a){Rc=!1;var u=e.updateQueue;Ia=!1;var m=u.firstBaseUpdate,w=u.lastBaseUpdate,N=u.shared.pending;if(N!==null){u.shared.pending=null;var C=N,ee=C.next;C.next=null,w===null?m=ee:w.next=ee,w=C;var fe=e.alternate;fe!==null&&(fe=fe.updateQueue,N=fe.lastBaseUpdate,N!==w&&(N===null?fe.firstBaseUpdate=ee:N.next=ee,fe.lastBaseUpdate=C))}if(m!==null){var ye=u.baseState;w=0,fe=ee=C=null,N=m;do{var re=N.lane&-536870913,ae=re!==N.lane;if(ae?(St&re)===re:(a&re)===re){re!==0&&re===bl&&(Rc=!0),fe!==null&&(fe=fe.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});e:{var et=e,Xe=N;re=t;var zt=n;switch(Xe.tag){case 1:if(et=Xe.payload,typeof et=="function"){ye=et.call(zt,ye,re);break e}ye=et;break e;case 3:et.flags=et.flags&-65537|128;case 0:if(et=Xe.payload,re=typeof et=="function"?et.call(zt,ye,re):et,re==null)break e;ye=j({},ye,re);break e;case 2:Ia=!0}}re=N.callback,re!==null&&(e.flags|=64,ae&&(e.flags|=8192),ae=u.callbacks,ae===null?u.callbacks=[re]:ae.push(re))}else ae={lane:re,tag:N.tag,payload:N.payload,callback:N.callback,next:null},fe===null?(ee=fe=ae,C=ye):fe=fe.next=ae,w|=re;if(N=N.next,N===null){if(N=u.shared.pending,N===null)break;ae=N,N=ae.next,ae.next=null,u.lastBaseUpdate=ae,u.shared.pending=null}}while(!0);fe===null&&(C=ye),u.baseState=C,u.firstBaseUpdate=ee,u.lastBaseUpdate=fe,m===null&&(u.shared.lanes=0),ri|=w,e.lanes=w,e.memoizedState=ye}}function Zf(e,t){if(typeof e!="function")throw Error(s(191,e));e.call(t)}function Jf(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Zf(n[e],t)}var Sl=ue(null),Po=ue(0);function eh(e,t){e=Aa,ve(Po,e),ve(Sl,t),Aa=e|t.baseLanes}function Tc(){ve(Po,Aa),ve(Sl,Sl.current)}function Ac(){Aa=Po.current,Ne(Sl),Ne(Po)}var Fa=0,dt=null,Mt=null,rn=null,Ko=!1,jl=!1,Hi=!1,Qo=0,Ts=0,El=null,Hg=0;function Jt(){throw Error(s(321))}function _c(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ln(e[n],t[n]))return!1;return!0}function Cc(e,t,n,a,u,m){return Fa=m,dt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,te.H=e===null||e.memoizedState===null?Uh:qh,Hi=!1,m=n(a,u),Hi=!1,jl&&(m=nh(t,n,a,u)),th(e),m}function th(e){te.H=Xo;var t=Mt!==null&&Mt.next!==null;if(Fa=0,rn=Mt=dt=null,Ko=!1,Ts=0,El=null,t)throw Error(s(300));e===null||vn||(e=e.dependencies,e!==null&&ko(e)&&(vn=!0))}function nh(e,t,n,a){dt=e;var u=0;do{if(jl&&(El=null),Ts=0,jl=!1,25<=u)throw Error(s(301));if(u+=1,rn=Mt=null,e.updateQueue!=null){var m=e.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}te.H=Ig,m=t(n,a)}while(jl);return m}function Pg(){var e=te.H,t=e.useState()[0];return t=typeof t.then=="function"?As(t):t,e=e.useState()[0],(Mt!==null?Mt.memoizedState:null)!==e&&(dt.flags|=1024),t}function Oc(){var e=Qo!==0;return Qo=0,e}function Dc(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Mc(e){if(Ko){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Ko=!1}Fa=0,rn=Mt=dt=null,jl=!1,Ts=Qo=0,El=null}function Wn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rn===null?dt.memoizedState=rn=e:rn=rn.next=e,rn}function an(){if(Mt===null){var e=dt.alternate;e=e!==null?e.memoizedState:null}else e=Mt.next;var t=rn===null?dt.memoizedState:rn.next;if(t!==null)rn=t,Mt=e;else{if(e===null)throw dt.alternate===null?Error(s(467)):Error(s(310));Mt=e,e={memoizedState:Mt.memoizedState,baseState:Mt.baseState,baseQueue:Mt.baseQueue,queue:Mt.queue,next:null},rn===null?dt.memoizedState=rn=e:rn=rn.next=e}return rn}function Lc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function As(e){var t=Ts;return Ts+=1,El===null&&(El=[]),e=Xf(El,e,t),t=dt,(rn===null?t.memoizedState:rn.next)===null&&(t=t.alternate,te.H=t===null||t.memoizedState===null?Uh:qh),e}function Go(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return As(e);if(e.$$typeof===Z)return zn(e)}throw Error(s(438,String(e)))}function zc(e){var t=null,n=dt.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var a=dt.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(u){return u.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Lc(),dt.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),a=0;a<e;a++)n[a]=Ct;return t.index++,n}function Sa(e,t){return typeof t=="function"?t(e):t}function Vo(e){var t=an();return kc(t,Mt,e)}function kc(e,t,n){var a=e.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var u=e.baseQueue,m=a.pending;if(m!==null){if(u!==null){var w=u.next;u.next=m.next,m.next=w}t.baseQueue=u=m,a.pending=null}if(m=e.baseState,u===null)e.memoizedState=m;else{t=u.next;var N=w=null,C=null,ee=t,fe=!1;do{var ye=ee.lane&-536870913;if(ye!==ee.lane?(St&ye)===ye:(Fa&ye)===ye){var re=ee.revertLane;if(re===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),ye===bl&&(fe=!0);else if((Fa&re)===re){ee=ee.next,re===bl&&(fe=!0);continue}else ye={lane:0,revertLane:ee.revertLane,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},C===null?(N=C=ye,w=m):C=C.next=ye,dt.lanes|=re,ri|=re;ye=ee.action,Hi&&n(m,ye),m=ee.hasEagerState?ee.eagerState:n(m,ye)}else re={lane:ye,revertLane:ee.revertLane,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},C===null?(N=C=re,w=m):C=C.next=re,dt.lanes|=ye,ri|=ye;ee=ee.next}while(ee!==null&&ee!==t);if(C===null?w=m:C.next=N,!Ln(m,e.memoizedState)&&(vn=!0,fe&&(n=wl,n!==null)))throw n;e.memoizedState=m,e.baseState=w,e.baseQueue=C,a.lastRenderedState=m}return u===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function Uc(e){var t=an(),n=t.queue;if(n===null)throw Error(s(311));n.lastRenderedReducer=e;var a=n.dispatch,u=n.pending,m=t.memoizedState;if(u!==null){n.pending=null;var w=u=u.next;do m=e(m,w.action),w=w.next;while(w!==u);Ln(m,t.memoizedState)||(vn=!0),t.memoizedState=m,t.baseQueue===null&&(t.baseState=m),n.lastRenderedState=m}return[m,a]}function rh(e,t,n){var a=dt,u=an(),m=Tt;if(m){if(n===void 0)throw Error(s(407));n=n()}else n=t();var w=!Ln((Mt||u).memoizedState,n);w&&(u.memoizedState=n,vn=!0),u=u.queue;var N=lh.bind(null,a,u,e);if(_s(2048,8,N,[e]),u.getSnapshot!==t||w||rn!==null&&rn.memoizedState.tag&1){if(a.flags|=2048,Nl(9,Yo(),ih.bind(null,a,u,n,t),null),Bt===null)throw Error(s(349));m||(Fa&124)!==0||ah(a,t,n)}return n}function ah(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=dt.updateQueue,t===null?(t=Lc(),dt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function ih(e,t,n,a){t.value=n,t.getSnapshot=a,sh(t)&&oh(e)}function lh(e,t,n){return n(function(){sh(t)&&oh(e)})}function sh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ln(e,n)}catch{return!0}}function oh(e){var t=qr(e,2);t!==null&&dr(t,e,2)}function qc(e){var t=Wn();if(typeof e=="function"){var n=e;if(e=n(),Hi){Bn(!0);try{n()}finally{Bn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sa,lastRenderedState:e},t}function uh(e,t,n,a){return e.baseState=n,kc(e,Mt,typeof a=="function"?a:Sa)}function Kg(e,t,n,a,u){if($o(e))throw Error(s(485));if(e=t.action,e!==null){var m={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){m.listeners.push(w)}};te.T!==null?n(!0):m.isTransition=!1,a(m),n=t.pending,n===null?(m.next=t.pending=m,ch(t,m)):(m.next=n.next,t.pending=n.next=m)}}function ch(e,t){var n=t.action,a=t.payload,u=e.state;if(t.isTransition){var m=te.T,w={};te.T=w;try{var N=n(u,a),C=te.S;C!==null&&C(w,N),dh(e,t,N)}catch(ee){Bc(e,t,ee)}finally{te.T=m}}else try{m=n(u,a),dh(e,t,m)}catch(ee){Bc(e,t,ee)}}function dh(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(a){fh(e,t,a)},function(a){return Bc(e,t,a)}):fh(e,t,n)}function fh(e,t,n){t.status="fulfilled",t.value=n,hh(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,ch(e,n)))}function Bc(e,t,n){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=n,hh(t),t=t.next;while(t!==a)}e.action=null}function hh(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function mh(e,t){return t}function ph(e,t){if(Tt){var n=Bt.formState;if(n!==null){e:{var a=dt;if(Tt){if(Xt){t:{for(var u=Xt,m=Jr;u.nodeType!==8;){if(!m){u=null;break t}if(u=Hr(u.nextSibling),u===null){u=null;break t}}m=u.data,u=m==="F!"||m==="F"?u:null}if(u){Xt=Hr(u.nextSibling),a=u.data==="F!";break e}}ki(a)}a=!1}a&&(t=n[0])}}return n=Wn(),n.memoizedState=n.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mh,lastRenderedState:t},n.queue=a,n=Lh.bind(null,dt,a),a.dispatch=n,a=qc(!1),m=Gc.bind(null,dt,!1,a.queue),a=Wn(),u={state:t,dispatch:null,action:e,pending:null},a.queue=u,n=Kg.bind(null,dt,u,m,n),u.dispatch=n,a.memoizedState=e,[t,n,!1]}function gh(e){var t=an();return yh(t,Mt,e)}function yh(e,t,n){if(t=kc(e,t,mh)[0],e=Vo(Sa)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=As(t)}catch(w){throw w===Ss?Bo:w}else a=t;t=an();var u=t.queue,m=u.dispatch;return n!==t.memoizedState&&(dt.flags|=2048,Nl(9,Yo(),Qg.bind(null,u,n),null)),[a,m,e]}function Qg(e,t){e.action=t}function vh(e){var t=an(),n=Mt;if(n!==null)return yh(t,n,e);an(),t=t.memoizedState,n=an();var a=n.queue.dispatch;return n.memoizedState=e,[t,a,!1]}function Nl(e,t,n,a){return e={tag:e,create:n,deps:a,inst:t,next:null},t=dt.updateQueue,t===null&&(t=Lc(),dt.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function Yo(){return{destroy:void 0,resource:void 0}}function xh(){return an().memoizedState}function Io(e,t,n,a){var u=Wn();a=a===void 0?null:a,dt.flags|=e,u.memoizedState=Nl(1|t,Yo(),n,a)}function _s(e,t,n,a){var u=an();a=a===void 0?null:a;var m=u.memoizedState.inst;Mt!==null&&a!==null&&_c(a,Mt.memoizedState.deps)?u.memoizedState=Nl(t,m,n,a):(dt.flags|=e,u.memoizedState=Nl(1|t,m,n,a))}function bh(e,t){Io(8390656,8,e,t)}function wh(e,t){_s(2048,8,e,t)}function Sh(e,t){return _s(4,2,e,t)}function jh(e,t){return _s(4,4,e,t)}function Eh(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Nh(e,t,n){n=n!=null?n.concat([e]):null,_s(4,4,Eh.bind(null,t,e),n)}function Hc(){}function Rh(e,t){var n=an();t=t===void 0?null:t;var a=n.memoizedState;return t!==null&&_c(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function Th(e,t){var n=an();t=t===void 0?null:t;var a=n.memoizedState;if(t!==null&&_c(t,a[1]))return a[0];if(a=e(),Hi){Bn(!0);try{e()}finally{Bn(!1)}}return n.memoizedState=[a,t],a}function Pc(e,t,n){return n===void 0||(Fa&1073741824)!==0?e.memoizedState=t:(e.memoizedState=n,e=Cm(),dt.lanes|=e,ri|=e,n)}function Ah(e,t,n,a){return Ln(n,t)?n:Sl.current!==null?(e=Pc(e,n,a),Ln(e,t)||(vn=!0),e):(Fa&42)===0?(vn=!0,e.memoizedState=n):(e=Cm(),dt.lanes|=e,ri|=e,t)}function _h(e,t,n,a,u){var m=je.p;je.p=m!==0&&8>m?m:8;var w=te.T,N={};te.T=N,Gc(e,!1,t,n);try{var C=u(),ee=te.S;if(ee!==null&&ee(N,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var fe=Bg(C,a);Cs(e,t,fe,cr(e))}else Cs(e,t,a,cr(e))}catch(ye){Cs(e,t,{then:function(){},status:"rejected",reason:ye},cr())}finally{je.p=m,te.T=w}}function Gg(){}function Kc(e,t,n,a){if(e.tag!==5)throw Error(s(476));var u=Ch(e).queue;_h(e,u,t,Ce,n===null?Gg:function(){return Oh(e),n(a)})}function Ch(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Ce,baseState:Ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sa,lastRenderedState:Ce},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sa,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Oh(e){var t=Ch(e).next.queue;Cs(e,t,{},cr())}function Qc(){return zn($s)}function Dh(){return an().memoizedState}function Mh(){return an().memoizedState}function Vg(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=cr();e=$a(n);var a=Xa(t,e,n);a!==null&&(dr(a,t,n),Es(a,t,n)),t={cache:xc()},e.payload=t;return}t=t.return}}function Yg(e,t,n){var a=cr();n={lane:a,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},$o(e)?zh(t,n):(n=nn(e,t,n,a),n!==null&&(dr(n,e,a),kh(n,t,a)))}function Lh(e,t,n){var a=cr();Cs(e,t,n,a)}function Cs(e,t,n,a){var u={lane:a,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if($o(e))zh(t,u);else{var m=e.alternate;if(e.lanes===0&&(m===null||m.lanes===0)&&(m=t.lastRenderedReducer,m!==null))try{var w=t.lastRenderedState,N=m(w,n);if(u.hasEagerState=!0,u.eagerState=N,Ln(N,w))return Zt(e,t,u,0),Bt===null&&Je(),!1}catch{}finally{}if(n=nn(e,t,u,a),n!==null)return dr(n,e,a),kh(n,t,a),!0}return!1}function Gc(e,t,n,a){if(a={lane:2,revertLane:Sd(),action:a,hasEagerState:!1,eagerState:null,next:null},$o(e)){if(t)throw Error(s(479))}else t=nn(e,n,a,2),t!==null&&dr(t,e,2)}function $o(e){var t=e.alternate;return e===dt||t!==null&&t===dt}function zh(e,t){jl=Ko=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function kh(e,t,n){if((n&4194048)!==0){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,zr(e,n)}}var Xo={readContext:zn,use:Go,useCallback:Jt,useContext:Jt,useEffect:Jt,useImperativeHandle:Jt,useLayoutEffect:Jt,useInsertionEffect:Jt,useMemo:Jt,useReducer:Jt,useRef:Jt,useState:Jt,useDebugValue:Jt,useDeferredValue:Jt,useTransition:Jt,useSyncExternalStore:Jt,useId:Jt,useHostTransitionStatus:Jt,useFormState:Jt,useActionState:Jt,useOptimistic:Jt,useMemoCache:Jt,useCacheRefresh:Jt},Uh={readContext:zn,use:Go,useCallback:function(e,t){return Wn().memoizedState=[e,t===void 0?null:t],e},useContext:zn,useEffect:bh,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Io(4194308,4,Eh.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Io(4194308,4,e,t)},useInsertionEffect:function(e,t){Io(4,2,e,t)},useMemo:function(e,t){var n=Wn();t=t===void 0?null:t;var a=e();if(Hi){Bn(!0);try{e()}finally{Bn(!1)}}return n.memoizedState=[a,t],a},useReducer:function(e,t,n){var a=Wn();if(n!==void 0){var u=n(t);if(Hi){Bn(!0);try{n(t)}finally{Bn(!1)}}}else u=t;return a.memoizedState=a.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},a.queue=e,e=e.dispatch=Yg.bind(null,dt,e),[a.memoizedState,e]},useRef:function(e){var t=Wn();return e={current:e},t.memoizedState=e},useState:function(e){e=qc(e);var t=e.queue,n=Lh.bind(null,dt,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Hc,useDeferredValue:function(e,t){var n=Wn();return Pc(n,e,t)},useTransition:function(){var e=qc(!1);return e=_h.bind(null,dt,e.queue,!0,!1),Wn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var a=dt,u=Wn();if(Tt){if(n===void 0)throw Error(s(407));n=n()}else{if(n=t(),Bt===null)throw Error(s(349));(St&124)!==0||ah(a,t,n)}u.memoizedState=n;var m={value:n,getSnapshot:t};return u.queue=m,bh(lh.bind(null,a,m,e),[e]),a.flags|=2048,Nl(9,Yo(),ih.bind(null,a,m,n,t),null),n},useId:function(){var e=Wn(),t=Bt.identifierPrefix;if(Tt){var n=xa,a=va;n=(a&~(1<<32-Yt(a)-1)).toString(32)+n,t="«"+t+"R"+n,n=Qo++,0<n&&(t+="H"+n.toString(32)),t+="»"}else n=Hg++,t="«"+t+"r"+n.toString(32)+"»";return e.memoizedState=t},useHostTransitionStatus:Qc,useFormState:ph,useActionState:ph,useOptimistic:function(e){var t=Wn();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Gc.bind(null,dt,!0,n),n.dispatch=t,[e,t]},useMemoCache:zc,useCacheRefresh:function(){return Wn().memoizedState=Vg.bind(null,dt)}},qh={readContext:zn,use:Go,useCallback:Rh,useContext:zn,useEffect:wh,useImperativeHandle:Nh,useInsertionEffect:Sh,useLayoutEffect:jh,useMemo:Th,useReducer:Vo,useRef:xh,useState:function(){return Vo(Sa)},useDebugValue:Hc,useDeferredValue:function(e,t){var n=an();return Ah(n,Mt.memoizedState,e,t)},useTransition:function(){var e=Vo(Sa)[0],t=an().memoizedState;return[typeof e=="boolean"?e:As(e),t]},useSyncExternalStore:rh,useId:Dh,useHostTransitionStatus:Qc,useFormState:gh,useActionState:gh,useOptimistic:function(e,t){var n=an();return uh(n,Mt,e,t)},useMemoCache:zc,useCacheRefresh:Mh},Ig={readContext:zn,use:Go,useCallback:Rh,useContext:zn,useEffect:wh,useImperativeHandle:Nh,useInsertionEffect:Sh,useLayoutEffect:jh,useMemo:Th,useReducer:Uc,useRef:xh,useState:function(){return Uc(Sa)},useDebugValue:Hc,useDeferredValue:function(e,t){var n=an();return Mt===null?Pc(n,e,t):Ah(n,Mt.memoizedState,e,t)},useTransition:function(){var e=Uc(Sa)[0],t=an().memoizedState;return[typeof e=="boolean"?e:As(e),t]},useSyncExternalStore:rh,useId:Dh,useHostTransitionStatus:Qc,useFormState:vh,useActionState:vh,useOptimistic:function(e,t){var n=an();return Mt!==null?uh(n,Mt,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:zc,useCacheRefresh:Mh},Rl=null,Os=0;function Fo(e){var t=Os;return Os+=1,Rl===null&&(Rl=[]),Xf(Rl,e,t)}function Ds(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Wo(e,t){throw t.$$typeof===R?Error(s(525)):(e=Object.prototype.toString.call(t),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Bh(e){var t=e._init;return t(e._payload)}function Hh(e){function t(Y,H){if(e){var J=Y.deletions;J===null?(Y.deletions=[H],Y.flags|=16):J.push(H)}}function n(Y,H){if(!e)return null;for(;H!==null;)t(Y,H),H=H.sibling;return null}function a(Y){for(var H=new Map;Y!==null;)Y.key!==null?H.set(Y.key,Y):H.set(Y.index,Y),Y=Y.sibling;return H}function u(Y,H){return Y=ya(Y,H),Y.index=0,Y.sibling=null,Y}function m(Y,H,J){return Y.index=J,e?(J=Y.alternate,J!==null?(J=J.index,J<H?(Y.flags|=67108866,H):J):(Y.flags|=67108866,H)):(Y.flags|=1048576,H)}function w(Y){return e&&Y.alternate===null&&(Y.flags|=67108866),Y}function N(Y,H,J,me){return H===null||H.tag!==6?(H=dc(J,Y.mode,me),H.return=Y,H):(H=u(H,J),H.return=Y,H)}function C(Y,H,J,me){var qe=J.type;return qe===k?fe(Y,H,J.props.children,me,J.key):H!==null&&(H.elementType===qe||typeof qe=="object"&&qe!==null&&qe.$$typeof===Ie&&Bh(qe)===H.type)?(H=u(H,J.props),Ds(H,J),H.return=Y,H):(H=Mo(J.type,J.key,J.props,null,Y.mode,me),Ds(H,J),H.return=Y,H)}function ee(Y,H,J,me){return H===null||H.tag!==4||H.stateNode.containerInfo!==J.containerInfo||H.stateNode.implementation!==J.implementation?(H=fc(J,Y.mode,me),H.return=Y,H):(H=u(H,J.children||[]),H.return=Y,H)}function fe(Y,H,J,me,qe){return H===null||H.tag!==7?(H=Di(J,Y.mode,me,qe),H.return=Y,H):(H=u(H,J),H.return=Y,H)}function ye(Y,H,J){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=dc(""+H,Y.mode,J),H.return=Y,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case A:return J=Mo(H.type,H.key,H.props,null,Y.mode,J),Ds(J,H),J.return=Y,J;case B:return H=fc(H,Y.mode,J),H.return=Y,H;case Ie:var me=H._init;return H=me(H._payload),ye(Y,H,J)}if(vt(H)||jt(H))return H=Di(H,Y.mode,J,null),H.return=Y,H;if(typeof H.then=="function")return ye(Y,Fo(H),J);if(H.$$typeof===Z)return ye(Y,Uo(Y,H),J);Wo(Y,H)}return null}function re(Y,H,J,me){var qe=H!==null?H.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return qe!==null?null:N(Y,H,""+J,me);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case A:return J.key===qe?C(Y,H,J,me):null;case B:return J.key===qe?ee(Y,H,J,me):null;case Ie:return qe=J._init,J=qe(J._payload),re(Y,H,J,me)}if(vt(J)||jt(J))return qe!==null?null:fe(Y,H,J,me,null);if(typeof J.then=="function")return re(Y,H,Fo(J),me);if(J.$$typeof===Z)return re(Y,H,Uo(Y,J),me);Wo(Y,J)}return null}function ae(Y,H,J,me,qe){if(typeof me=="string"&&me!==""||typeof me=="number"||typeof me=="bigint")return Y=Y.get(J)||null,N(H,Y,""+me,qe);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case A:return Y=Y.get(me.key===null?J:me.key)||null,C(H,Y,me,qe);case B:return Y=Y.get(me.key===null?J:me.key)||null,ee(H,Y,me,qe);case Ie:var ht=me._init;return me=ht(me._payload),ae(Y,H,J,me,qe)}if(vt(me)||jt(me))return Y=Y.get(J)||null,fe(H,Y,me,qe,null);if(typeof me.then=="function")return ae(Y,H,J,Fo(me),qe);if(me.$$typeof===Z)return ae(Y,H,J,Uo(H,me),qe);Wo(H,me)}return null}function et(Y,H,J,me){for(var qe=null,ht=null,Qe=H,We=H=0,bn=null;Qe!==null&&We<J.length;We++){Qe.index>We?(bn=Qe,Qe=null):bn=Qe.sibling;var Et=re(Y,Qe,J[We],me);if(Et===null){Qe===null&&(Qe=bn);break}e&&Qe&&Et.alternate===null&&t(Y,Qe),H=m(Et,H,We),ht===null?qe=Et:ht.sibling=Et,ht=Et,Qe=bn}if(We===J.length)return n(Y,Qe),Tt&&Li(Y,We),qe;if(Qe===null){for(;We<J.length;We++)Qe=ye(Y,J[We],me),Qe!==null&&(H=m(Qe,H,We),ht===null?qe=Qe:ht.sibling=Qe,ht=Qe);return Tt&&Li(Y,We),qe}for(Qe=a(Qe);We<J.length;We++)bn=ae(Qe,Y,We,J[We],me),bn!==null&&(e&&bn.alternate!==null&&Qe.delete(bn.key===null?We:bn.key),H=m(bn,H,We),ht===null?qe=bn:ht.sibling=bn,ht=bn);return e&&Qe.forEach(function(fi){return t(Y,fi)}),Tt&&Li(Y,We),qe}function Xe(Y,H,J,me){if(J==null)throw Error(s(151));for(var qe=null,ht=null,Qe=H,We=H=0,bn=null,Et=J.next();Qe!==null&&!Et.done;We++,Et=J.next()){Qe.index>We?(bn=Qe,Qe=null):bn=Qe.sibling;var fi=re(Y,Qe,Et.value,me);if(fi===null){Qe===null&&(Qe=bn);break}e&&Qe&&fi.alternate===null&&t(Y,Qe),H=m(fi,H,We),ht===null?qe=fi:ht.sibling=fi,ht=fi,Qe=bn}if(Et.done)return n(Y,Qe),Tt&&Li(Y,We),qe;if(Qe===null){for(;!Et.done;We++,Et=J.next())Et=ye(Y,Et.value,me),Et!==null&&(H=m(Et,H,We),ht===null?qe=Et:ht.sibling=Et,ht=Et);return Tt&&Li(Y,We),qe}for(Qe=a(Qe);!Et.done;We++,Et=J.next())Et=ae(Qe,Y,We,Et.value,me),Et!==null&&(e&&Et.alternate!==null&&Qe.delete(Et.key===null?We:Et.key),H=m(Et,H,We),ht===null?qe=Et:ht.sibling=Et,ht=Et);return e&&Qe.forEach(function($y){return t(Y,$y)}),Tt&&Li(Y,We),qe}function zt(Y,H,J,me){if(typeof J=="object"&&J!==null&&J.type===k&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case A:e:{for(var qe=J.key;H!==null;){if(H.key===qe){if(qe=J.type,qe===k){if(H.tag===7){n(Y,H.sibling),me=u(H,J.props.children),me.return=Y,Y=me;break e}}else if(H.elementType===qe||typeof qe=="object"&&qe!==null&&qe.$$typeof===Ie&&Bh(qe)===H.type){n(Y,H.sibling),me=u(H,J.props),Ds(me,J),me.return=Y,Y=me;break e}n(Y,H);break}else t(Y,H);H=H.sibling}J.type===k?(me=Di(J.props.children,Y.mode,me,J.key),me.return=Y,Y=me):(me=Mo(J.type,J.key,J.props,null,Y.mode,me),Ds(me,J),me.return=Y,Y=me)}return w(Y);case B:e:{for(qe=J.key;H!==null;){if(H.key===qe)if(H.tag===4&&H.stateNode.containerInfo===J.containerInfo&&H.stateNode.implementation===J.implementation){n(Y,H.sibling),me=u(H,J.children||[]),me.return=Y,Y=me;break e}else{n(Y,H);break}else t(Y,H);H=H.sibling}me=fc(J,Y.mode,me),me.return=Y,Y=me}return w(Y);case Ie:return qe=J._init,J=qe(J._payload),zt(Y,H,J,me)}if(vt(J))return et(Y,H,J,me);if(jt(J)){if(qe=jt(J),typeof qe!="function")throw Error(s(150));return J=qe.call(J),Xe(Y,H,J,me)}if(typeof J.then=="function")return zt(Y,H,Fo(J),me);if(J.$$typeof===Z)return zt(Y,H,Uo(Y,J),me);Wo(Y,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,H!==null&&H.tag===6?(n(Y,H.sibling),me=u(H,J),me.return=Y,Y=me):(n(Y,H),me=dc(J,Y.mode,me),me.return=Y,Y=me),w(Y)):n(Y,H)}return function(Y,H,J,me){try{Os=0;var qe=zt(Y,H,J,me);return Rl=null,qe}catch(Qe){if(Qe===Ss||Qe===Bo)throw Qe;var ht=lr(29,Qe,null,Y.mode);return ht.lanes=me,ht.return=Y,ht}finally{}}}var Tl=Hh(!0),Ph=Hh(!1),Er=ue(null),ea=null;function Wa(e){var t=e.alternate;ve(cn,cn.current&1),ve(Er,e),ea===null&&(t===null||Sl.current!==null||t.memoizedState!==null)&&(ea=e)}function Kh(e){if(e.tag===22){if(ve(cn,cn.current),ve(Er,e),ea===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(ea=e)}}else Za()}function Za(){ve(cn,cn.current),ve(Er,Er.current)}function ja(e){Ne(Er),ea===e&&(ea=null),Ne(cn)}var cn=ue(0);function Zo(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||Ld(n)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Vc(e,t,n,a){t=e.memoizedState,n=n(a,t),n=n==null?t:j({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Yc={enqueueSetState:function(e,t,n){e=e._reactInternals;var a=cr(),u=$a(a);u.payload=t,n!=null&&(u.callback=n),t=Xa(e,u,a),t!==null&&(dr(t,e,a),Es(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=cr(),u=$a(a);u.tag=1,u.payload=t,n!=null&&(u.callback=n),t=Xa(e,u,a),t!==null&&(dr(t,e,a),Es(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=cr(),a=$a(n);a.tag=2,t!=null&&(a.callback=t),t=Xa(e,a,n),t!==null&&(dr(t,e,n),Es(t,e,n))}};function Qh(e,t,n,a,u,m,w){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,m,w):t.prototype&&t.prototype.isPureReactComponent?!o(n,a)||!o(u,m):!0}function Gh(e,t,n,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&Yc.enqueueReplaceState(t,t.state,null)}function Pi(e,t){var n=t;if("ref"in t){n={};for(var a in t)a!=="ref"&&(n[a]=t[a])}if(e=e.defaultProps){n===t&&(n=j({},n));for(var u in e)n[u]===void 0&&(n[u]=e[u])}return n}var Jo=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Vh(e){Jo(e)}function Yh(e){console.error(e)}function Ih(e){Jo(e)}function eu(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function $h(e,t,n){try{var a=e.onCaughtError;a(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function Ic(e,t,n){return n=$a(n),n.tag=3,n.payload={element:null},n.callback=function(){eu(e,t)},n}function Xh(e){return e=$a(e),e.tag=3,e}function Fh(e,t,n,a){var u=n.type.getDerivedStateFromError;if(typeof u=="function"){var m=a.value;e.payload=function(){return u(m)},e.callback=function(){$h(t,n,a)}}var w=n.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(e.callback=function(){$h(t,n,a),typeof u!="function"&&(ai===null?ai=new Set([this]):ai.add(this));var N=a.stack;this.componentDidCatch(a.value,{componentStack:N!==null?N:""})})}function $g(e,t,n,a,u){if(n.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=n.alternate,t!==null&&xs(t,n,u,!0),n=Er.current,n!==null){switch(n.tag){case 13:return ea===null?yd():n.alternate===null&&Ft===0&&(Ft=3),n.flags&=-257,n.flags|=65536,n.lanes=u,a===Sc?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([a]):t.add(a),xd(e,a,u)),!1;case 22:return n.flags|=65536,a===Sc?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([a]):n.add(a)),xd(e,a,u)),!1}throw Error(s(435,n.tag))}return xd(e,a,u),yd(),!1}if(Tt)return t=Er.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=u,a!==pc&&(e=Error(s(422),{cause:a}),vs(Ve(e,n)))):(a!==pc&&(t=Error(s(423),{cause:a}),vs(Ve(t,n))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,a=Ve(a,n),u=Ic(e.stateNode,a,u),Nc(e,u),Ft!==4&&(Ft=2)),!1;var m=Error(s(520),{cause:a});if(m=Ve(m,n),Bs===null?Bs=[m]:Bs.push(m),Ft!==4&&(Ft=2),t===null)return!0;a=Ve(a,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=u&-u,n.lanes|=e,e=Ic(n.stateNode,a,e),Nc(n,e),!1;case 1:if(t=n.type,m=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(ai===null||!ai.has(m))))return n.flags|=65536,u&=-u,n.lanes|=u,u=Xh(u),Fh(u,e,n,a),Nc(n,u),!1}n=n.return}while(n!==null);return!1}var Wh=Error(s(461)),vn=!1;function En(e,t,n,a){t.child=e===null?Ph(t,null,n,a):Tl(t,e.child,n,a)}function Zh(e,t,n,a,u){n=n.render;var m=t.ref;if("ref"in a){var w={};for(var N in a)N!=="ref"&&(w[N]=a[N])}else w=a;return qi(t),a=Cc(e,t,n,w,m,u),N=Oc(),e!==null&&!vn?(Dc(e,t,u),Ea(e,t,u)):(Tt&&N&&hc(t),t.flags|=1,En(e,t,a,u),t.child)}function Jh(e,t,n,a,u){if(e===null){var m=n.type;return typeof m=="function"&&!cc(m)&&m.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=m,em(e,t,m,a,u)):(e=Mo(n.type,null,a,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(m=e.child,!td(e,u)){var w=m.memoizedProps;if(n=n.compare,n=n!==null?n:o,n(w,a)&&e.ref===t.ref)return Ea(e,t,u)}return t.flags|=1,e=ya(m,a),e.ref=t.ref,e.return=t,t.child=e}function em(e,t,n,a,u){if(e!==null){var m=e.memoizedProps;if(o(m,a)&&e.ref===t.ref)if(vn=!1,t.pendingProps=a=m,td(e,u))(e.flags&131072)!==0&&(vn=!0);else return t.lanes=e.lanes,Ea(e,t,u)}return $c(e,t,n,a,u)}function tm(e,t,n){var a=t.pendingProps,u=a.children,m=e!==null?e.memoizedState:null;if(a.mode==="hidden"){if((t.flags&128)!==0){if(a=m!==null?m.baseLanes|n:n,e!==null){for(u=t.child=e.child,m=0;u!==null;)m=m|u.lanes|u.childLanes,u=u.sibling;t.childLanes=m&~a}else t.childLanes=0,t.child=null;return nm(e,t,a,n)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&qo(t,m!==null?m.cachePool:null),m!==null?eh(t,m):Tc(),Kh(t);else return t.lanes=t.childLanes=536870912,nm(e,t,m!==null?m.baseLanes|n:n,n)}else m!==null?(qo(t,m.cachePool),eh(t,m),Za(),t.memoizedState=null):(e!==null&&qo(t,null),Tc(),Za());return En(e,t,u,n),t.child}function nm(e,t,n,a){var u=wc();return u=u===null?null:{parent:un._currentValue,pool:u},t.memoizedState={baseLanes:n,cachePool:u},e!==null&&qo(t,null),Tc(),Kh(t),e!==null&&xs(e,t,a,!0),null}function tu(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(s(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function $c(e,t,n,a,u){return qi(t),n=Cc(e,t,n,a,void 0,u),a=Oc(),e!==null&&!vn?(Dc(e,t,u),Ea(e,t,u)):(Tt&&a&&hc(t),t.flags|=1,En(e,t,n,u),t.child)}function rm(e,t,n,a,u,m){return qi(t),t.updateQueue=null,n=nh(t,a,n,u),th(e),a=Oc(),e!==null&&!vn?(Dc(e,t,m),Ea(e,t,m)):(Tt&&a&&hc(t),t.flags|=1,En(e,t,n,m),t.child)}function am(e,t,n,a,u){if(qi(t),t.stateNode===null){var m=Zr,w=n.contextType;typeof w=="object"&&w!==null&&(m=zn(w)),m=new n(a,m),t.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Yc,t.stateNode=m,m._reactInternals=t,m=t.stateNode,m.props=a,m.state=t.memoizedState,m.refs={},jc(t),w=n.contextType,m.context=typeof w=="object"&&w!==null?zn(w):Zr,m.state=t.memoizedState,w=n.getDerivedStateFromProps,typeof w=="function"&&(Vc(t,n,w,a),m.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(w=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),w!==m.state&&Yc.enqueueReplaceState(m,m.state,null),Rs(t,a,m,u),Ns(),m.state=t.memoizedState),typeof m.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){m=t.stateNode;var N=t.memoizedProps,C=Pi(n,N);m.props=C;var ee=m.context,fe=n.contextType;w=Zr,typeof fe=="object"&&fe!==null&&(w=zn(fe));var ye=n.getDerivedStateFromProps;fe=typeof ye=="function"||typeof m.getSnapshotBeforeUpdate=="function",N=t.pendingProps!==N,fe||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(N||ee!==w)&&Gh(t,m,a,w),Ia=!1;var re=t.memoizedState;m.state=re,Rs(t,a,m,u),Ns(),ee=t.memoizedState,N||re!==ee||Ia?(typeof ye=="function"&&(Vc(t,n,ye,a),ee=t.memoizedState),(C=Ia||Qh(t,n,C,a,re,ee,w))?(fe||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(t.flags|=4194308)):(typeof m.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=ee),m.props=a,m.state=ee,m.context=w,a=C):(typeof m.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{m=t.stateNode,Ec(e,t),w=t.memoizedProps,fe=Pi(n,w),m.props=fe,ye=t.pendingProps,re=m.context,ee=n.contextType,C=Zr,typeof ee=="object"&&ee!==null&&(C=zn(ee)),N=n.getDerivedStateFromProps,(ee=typeof N=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(w!==ye||re!==C)&&Gh(t,m,a,C),Ia=!1,re=t.memoizedState,m.state=re,Rs(t,a,m,u),Ns();var ae=t.memoizedState;w!==ye||re!==ae||Ia||e!==null&&e.dependencies!==null&&ko(e.dependencies)?(typeof N=="function"&&(Vc(t,n,N,a),ae=t.memoizedState),(fe=Ia||Qh(t,n,fe,a,re,ae,C)||e!==null&&e.dependencies!==null&&ko(e.dependencies))?(ee||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(a,ae,C),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(a,ae,C)),typeof m.componentDidUpdate=="function"&&(t.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof m.componentDidUpdate!="function"||w===e.memoizedProps&&re===e.memoizedState||(t.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&re===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=ae),m.props=a,m.state=ae,m.context=C,a=fe):(typeof m.componentDidUpdate!="function"||w===e.memoizedProps&&re===e.memoizedState||(t.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&re===e.memoizedState||(t.flags|=1024),a=!1)}return m=a,tu(e,t),a=(t.flags&128)!==0,m||a?(m=t.stateNode,n=a&&typeof n.getDerivedStateFromError!="function"?null:m.render(),t.flags|=1,e!==null&&a?(t.child=Tl(t,e.child,null,u),t.child=Tl(t,null,n,u)):En(e,t,n,u),t.memoizedState=m.state,e=t.child):e=Ea(e,t,u),e}function im(e,t,n,a){return ys(),t.flags|=256,En(e,t,n,a),t.child}var Xc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Fc(e){return{baseLanes:e,cachePool:Yf()}}function Wc(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Nr),e}function lm(e,t,n){var a=t.pendingProps,u=!1,m=(t.flags&128)!==0,w;if((w=m)||(w=e!==null&&e.memoizedState===null?!1:(cn.current&2)!==0),w&&(u=!0,t.flags&=-129),w=(t.flags&32)!==0,t.flags&=-33,e===null){if(Tt){if(u?Wa(t):Za(),Tt){var N=Xt,C;if(C=N){e:{for(C=N,N=Jr;C.nodeType!==8;){if(!N){N=null;break e}if(C=Hr(C.nextSibling),C===null){N=null;break e}}N=C}N!==null?(t.memoizedState={dehydrated:N,treeContext:Mi!==null?{id:va,overflow:xa}:null,retryLane:536870912,hydrationErrors:null},C=lr(18,null,null,0),C.stateNode=N,C.return=t,t.child=C,Yn=t,Xt=null,C=!0):C=!1}C||ki(t)}if(N=t.memoizedState,N!==null&&(N=N.dehydrated,N!==null))return Ld(N)?t.lanes=32:t.lanes=536870912,null;ja(t)}return N=a.children,a=a.fallback,u?(Za(),u=t.mode,N=nu({mode:"hidden",children:N},u),a=Di(a,u,n,null),N.return=t,a.return=t,N.sibling=a,t.child=N,u=t.child,u.memoizedState=Fc(n),u.childLanes=Wc(e,w,n),t.memoizedState=Xc,a):(Wa(t),Zc(t,N))}if(C=e.memoizedState,C!==null&&(N=C.dehydrated,N!==null)){if(m)t.flags&256?(Wa(t),t.flags&=-257,t=Jc(e,t,n)):t.memoizedState!==null?(Za(),t.child=e.child,t.flags|=128,t=null):(Za(),u=a.fallback,N=t.mode,a=nu({mode:"visible",children:a.children},N),u=Di(u,N,n,null),u.flags|=2,a.return=t,u.return=t,a.sibling=u,t.child=a,Tl(t,e.child,null,n),a=t.child,a.memoizedState=Fc(n),a.childLanes=Wc(e,w,n),t.memoizedState=Xc,t=u);else if(Wa(t),Ld(N)){if(w=N.nextSibling&&N.nextSibling.dataset,w)var ee=w.dgst;w=ee,a=Error(s(419)),a.stack="",a.digest=w,vs({value:a,source:null,stack:null}),t=Jc(e,t,n)}else if(vn||xs(e,t,n,!1),w=(n&e.childLanes)!==0,vn||w){if(w=Bt,w!==null&&(a=n&-n,a=(a&42)!==0?1:Si(a),a=(a&(w.suspendedLanes|n))!==0?0:a,a!==0&&a!==C.retryLane))throw C.retryLane=a,qr(e,a),dr(w,e,a),Wh;N.data==="$?"||yd(),t=Jc(e,t,n)}else N.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=C.treeContext,Xt=Hr(N.nextSibling),Yn=t,Tt=!0,zi=null,Jr=!1,e!==null&&(Sr[jr++]=va,Sr[jr++]=xa,Sr[jr++]=Mi,va=e.id,xa=e.overflow,Mi=t),t=Zc(t,a.children),t.flags|=4096);return t}return u?(Za(),u=a.fallback,N=t.mode,C=e.child,ee=C.sibling,a=ya(C,{mode:"hidden",children:a.children}),a.subtreeFlags=C.subtreeFlags&65011712,ee!==null?u=ya(ee,u):(u=Di(u,N,n,null),u.flags|=2),u.return=t,a.return=t,a.sibling=u,t.child=a,a=u,u=t.child,N=e.child.memoizedState,N===null?N=Fc(n):(C=N.cachePool,C!==null?(ee=un._currentValue,C=C.parent!==ee?{parent:ee,pool:ee}:C):C=Yf(),N={baseLanes:N.baseLanes|n,cachePool:C}),u.memoizedState=N,u.childLanes=Wc(e,w,n),t.memoizedState=Xc,a):(Wa(t),n=e.child,e=n.sibling,n=ya(n,{mode:"visible",children:a.children}),n.return=t,n.sibling=null,e!==null&&(w=t.deletions,w===null?(t.deletions=[e],t.flags|=16):w.push(e)),t.child=n,t.memoizedState=null,n)}function Zc(e,t){return t=nu({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function nu(e,t){return e=lr(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Jc(e,t,n){return Tl(t,e.child,null,n),e=Zc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function sm(e,t,n){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),yc(e.return,t,n)}function ed(e,t,n,a,u){var m=e.memoizedState;m===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:u}:(m.isBackwards=t,m.rendering=null,m.renderingStartTime=0,m.last=a,m.tail=n,m.tailMode=u)}function om(e,t,n){var a=t.pendingProps,u=a.revealOrder,m=a.tail;if(En(e,t,a.children,n),a=cn.current,(a&2)!==0)a=a&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&sm(e,n,t);else if(e.tag===19)sm(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}switch(ve(cn,a),u){case"forwards":for(n=t.child,u=null;n!==null;)e=n.alternate,e!==null&&Zo(e)===null&&(u=n),n=n.sibling;n=u,n===null?(u=t.child,t.child=null):(u=n.sibling,n.sibling=null),ed(t,!1,u,n,m);break;case"backwards":for(n=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&Zo(e)===null){t.child=u;break}e=u.sibling,u.sibling=n,n=u,u=e}ed(t,!0,n,null,m);break;case"together":ed(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ea(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ri|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(xs(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(s(153));if(t.child!==null){for(e=t.child,n=ya(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ya(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function td(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&ko(e)))}function Xg(e,t,n){switch(t.tag){case 3:Ot(t,t.stateNode.containerInfo),Ya(t,un,e.memoizedState.cache),ys();break;case 27:case 5:Vt(t);break;case 4:Ot(t,t.stateNode.containerInfo);break;case 10:Ya(t,t.type,t.memoizedProps.value);break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(Wa(t),t.flags|=128,null):(n&t.child.childLanes)!==0?lm(e,t,n):(Wa(t),e=Ea(e,t,n),e!==null?e.sibling:null);Wa(t);break;case 19:var u=(e.flags&128)!==0;if(a=(n&t.childLanes)!==0,a||(xs(e,t,n,!1),a=(n&t.childLanes)!==0),u){if(a)return om(e,t,n);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),ve(cn,cn.current),a)break;return null;case 22:case 23:return t.lanes=0,tm(e,t,n);case 24:Ya(t,un,e.memoizedState.cache)}return Ea(e,t,n)}function um(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)vn=!0;else{if(!td(e,n)&&(t.flags&128)===0)return vn=!1,Xg(e,t,n);vn=(e.flags&131072)!==0}else vn=!1,Tt&&(t.flags&1048576)!==0&&Bf(t,zo,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var a=t.elementType,u=a._init;if(a=u(a._payload),t.type=a,typeof a=="function")cc(a)?(e=Pi(a,e),t.tag=1,t=am(null,t,a,e,n)):(t.tag=0,t=$c(null,t,a,e,n));else{if(a!=null){if(u=a.$$typeof,u===Se){t.tag=11,t=Zh(null,t,a,e,n);break e}else if(u===Me){t.tag=14,t=Jh(null,t,a,e,n);break e}}throw t=yt(a)||a,Error(s(306,t,""))}}return t;case 0:return $c(e,t,t.type,t.pendingProps,n);case 1:return a=t.type,u=Pi(a,t.pendingProps),am(e,t,a,u,n);case 3:e:{if(Ot(t,t.stateNode.containerInfo),e===null)throw Error(s(387));a=t.pendingProps;var m=t.memoizedState;u=m.element,Ec(e,t),Rs(t,a,null,n);var w=t.memoizedState;if(a=w.cache,Ya(t,un,a),a!==m.cache&&vc(t,[un],n,!0),Ns(),a=w.element,m.isDehydrated)if(m={element:a,isDehydrated:!1,cache:w.cache},t.updateQueue.baseState=m,t.memoizedState=m,t.flags&256){t=im(e,t,a,n);break e}else if(a!==u){u=Ve(Error(s(424)),t),vs(u),t=im(e,t,a,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Xt=Hr(e.firstChild),Yn=t,Tt=!0,zi=null,Jr=!0,n=Ph(t,null,a,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(ys(),a===u){t=Ea(e,t,n);break e}En(e,t,a,n)}t=t.child}return t;case 26:return tu(e,t),e===null?(n=h0(t.type,null,t.pendingProps,null))?t.memoizedState=n:Tt||(n=t.type,e=t.pendingProps,a=gu(Ke.current).createElement(n),a[ge]=t,a[he]=e,Rn(a,n,e),Fe(a),t.stateNode=a):t.memoizedState=h0(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Vt(t),e===null&&Tt&&(a=t.stateNode=c0(t.type,t.pendingProps,Ke.current),Yn=t,Jr=!0,u=Xt,si(t.type)?(zd=u,Xt=Hr(a.firstChild)):Xt=u),En(e,t,t.pendingProps.children,n),tu(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Tt&&((u=a=Xt)&&(a=jy(a,t.type,t.pendingProps,Jr),a!==null?(t.stateNode=a,Yn=t,Xt=Hr(a.firstChild),Jr=!1,u=!0):u=!1),u||ki(t)),Vt(t),u=t.type,m=t.pendingProps,w=e!==null?e.memoizedProps:null,a=m.children,Od(u,m)?a=null:w!==null&&Od(u,w)&&(t.flags|=32),t.memoizedState!==null&&(u=Cc(e,t,Pg,null,null,n),$s._currentValue=u),tu(e,t),En(e,t,a,n),t.child;case 6:return e===null&&Tt&&((e=n=Xt)&&(n=Ey(n,t.pendingProps,Jr),n!==null?(t.stateNode=n,Yn=t,Xt=null,e=!0):e=!1),e||ki(t)),null;case 13:return lm(e,t,n);case 4:return Ot(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Tl(t,null,a,n):En(e,t,a,n),t.child;case 11:return Zh(e,t,t.type,t.pendingProps,n);case 7:return En(e,t,t.pendingProps,n),t.child;case 8:return En(e,t,t.pendingProps.children,n),t.child;case 12:return En(e,t,t.pendingProps.children,n),t.child;case 10:return a=t.pendingProps,Ya(t,t.type,a.value),En(e,t,a.children,n),t.child;case 9:return u=t.type._context,a=t.pendingProps.children,qi(t),u=zn(u),a=a(u),t.flags|=1,En(e,t,a,n),t.child;case 14:return Jh(e,t,t.type,t.pendingProps,n);case 15:return em(e,t,t.type,t.pendingProps,n);case 19:return om(e,t,n);case 31:return a=t.pendingProps,n=t.mode,a={mode:a.mode,children:a.children},e===null?(n=nu(a,n),n.ref=t.ref,t.child=n,n.return=t,t=n):(n=ya(e.child,a),n.ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return tm(e,t,n);case 24:return qi(t),a=zn(un),e===null?(u=wc(),u===null&&(u=Bt,m=xc(),u.pooledCache=m,m.refCount++,m!==null&&(u.pooledCacheLanes|=n),u=m),t.memoizedState={parent:a,cache:u},jc(t),Ya(t,un,u)):((e.lanes&n)!==0&&(Ec(e,t),Rs(t,null,null,n),Ns()),u=e.memoizedState,m=t.memoizedState,u.parent!==a?(u={parent:a,cache:a},t.memoizedState=u,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=u),Ya(t,un,a)):(a=m.cache,Ya(t,un,a),a!==u.cache&&vc(t,[un],n,!0))),En(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function Na(e){e.flags|=4}function cm(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!v0(t)){if(t=Er.current,t!==null&&((St&4194048)===St?ea!==null:(St&62914560)!==St&&(St&536870912)===0||t!==ea))throw js=Sc,If;e.flags|=8192}}function ru(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?_e():536870912,e.lanes|=t,Ol|=t)}function Ms(e,t){if(!Tt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function It(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,a=0;if(t)for(var u=e.child;u!==null;)n|=u.lanes|u.childLanes,a|=u.subtreeFlags&65011712,a|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)n|=u.lanes|u.childLanes,a|=u.subtreeFlags,a|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function Fg(e,t,n){var a=t.pendingProps;switch(mc(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return It(t),null;case 1:return It(t),null;case 3:return n=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),wa(un),Ue(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(gs(t)?Na(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Kf())),It(t),null;case 26:return n=t.memoizedState,e===null?(Na(t),n!==null?(It(t),cm(t,n)):(It(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Na(t),It(t),cm(t,n)):(It(t),t.flags&=-16777217):(e.memoizedProps!==a&&Na(t),It(t),t.flags&=-16777217),null;case 27:An(t),n=Ke.current;var u=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==a&&Na(t);else{if(!a){if(t.stateNode===null)throw Error(s(166));return It(t),null}e=De.current,gs(t)?Hf(t):(e=c0(u,a,n),t.stateNode=e,Na(t))}return It(t),null;case 5:if(An(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&Na(t);else{if(!a){if(t.stateNode===null)throw Error(s(166));return It(t),null}if(e=De.current,gs(t))Hf(t);else{switch(u=gu(Ke.current),e){case 1:e=u.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=u.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=u.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=u.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":e=u.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof a.is=="string"?u.createElement("select",{is:a.is}):u.createElement("select"),a.multiple?e.multiple=!0:a.size&&(e.size=a.size);break;default:e=typeof a.is=="string"?u.createElement(n,{is:a.is}):u.createElement(n)}}e[ge]=t,e[he]=a;e:for(u=t.child;u!==null;){if(u.tag===5||u.tag===6)e.appendChild(u.stateNode);else if(u.tag!==4&&u.tag!==27&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===t)break e;for(;u.sibling===null;){if(u.return===null||u.return===t)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}t.stateNode=e;e:switch(Rn(e,n,a),n){case"button":case"input":case"select":case"textarea":e=!!a.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Na(t)}}return It(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&Na(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(s(166));if(e=Ke.current,gs(t)){if(e=t.stateNode,n=t.memoizedProps,a=null,u=Yn,u!==null)switch(u.tag){case 27:case 5:a=u.memoizedProps}e[ge]=t,e=!!(e.nodeValue===n||a!==null&&a.suppressHydrationWarning===!0||r0(e.nodeValue,n)),e||ki(t)}else e=gu(e).createTextNode(a),e[ge]=t,t.stateNode=e}return It(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=gs(t),a!==null&&a.dehydrated!==null){if(e===null){if(!u)throw Error(s(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(s(317));u[ge]=t}else ys(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;It(t),u=!1}else u=Kf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return t.flags&256?(ja(t),t):(ja(t),null)}if(ja(t),(t.flags&128)!==0)return t.lanes=n,t;if(n=a!==null,e=e!==null&&e.memoizedState!==null,n){a=t.child,u=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(u=a.alternate.memoizedState.cachePool.pool);var m=null;a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(m=a.memoizedState.cachePool.pool),m!==u&&(a.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),ru(t,t.updateQueue),It(t),null;case 4:return Ue(),e===null&&Rd(t.stateNode.containerInfo),It(t),null;case 10:return wa(t.type),It(t),null;case 19:if(Ne(cn),u=t.memoizedState,u===null)return It(t),null;if(a=(t.flags&128)!==0,m=u.rendering,m===null)if(a)Ms(u,!1);else{if(Ft!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(m=Zo(e),m!==null){for(t.flags|=128,Ms(u,!1),e=m.updateQueue,t.updateQueue=e,ru(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)qf(n,e),n=n.sibling;return ve(cn,cn.current&1|2),t.child}e=e.sibling}u.tail!==null&&qn()>lu&&(t.flags|=128,a=!0,Ms(u,!1),t.lanes=4194304)}else{if(!a)if(e=Zo(m),e!==null){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,ru(t,e),Ms(u,!0),u.tail===null&&u.tailMode==="hidden"&&!m.alternate&&!Tt)return It(t),null}else 2*qn()-u.renderingStartTime>lu&&n!==536870912&&(t.flags|=128,a=!0,Ms(u,!1),t.lanes=4194304);u.isBackwards?(m.sibling=t.child,t.child=m):(e=u.last,e!==null?e.sibling=m:t.child=m,u.last=m)}return u.tail!==null?(t=u.tail,u.rendering=t,u.tail=t.sibling,u.renderingStartTime=qn(),t.sibling=null,e=cn.current,ve(cn,a?e&1|2:e&1),t):(It(t),null);case 22:case 23:return ja(t),Ac(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?(n&536870912)!==0&&(t.flags&128)===0&&(It(t),t.subtreeFlags&6&&(t.flags|=8192)):It(t),n=t.updateQueue,n!==null&&ru(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==n&&(t.flags|=2048),e!==null&&Ne(Bi),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),wa(un),It(t),null;case 25:return null;case 30:return null}throw Error(s(156,t.tag))}function Wg(e,t){switch(mc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return wa(un),Ue(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return An(t),null;case 13:if(ja(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(s(340));ys()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ne(cn),null;case 4:return Ue(),null;case 10:return wa(t.type),null;case 22:case 23:return ja(t),Ac(),e!==null&&Ne(Bi),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return wa(un),null;case 25:return null;default:return null}}function dm(e,t){switch(mc(t),t.tag){case 3:wa(un),Ue();break;case 26:case 27:case 5:An(t);break;case 4:Ue();break;case 13:ja(t);break;case 19:Ne(cn);break;case 10:wa(t.type);break;case 22:case 23:ja(t),Ac(),e!==null&&Ne(Bi);break;case 24:wa(un)}}function Ls(e,t){try{var n=t.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var u=a.next;n=u;do{if((n.tag&e)===e){a=void 0;var m=n.create,w=n.inst;a=m(),w.destroy=a}n=n.next}while(n!==u)}}catch(N){qt(t,t.return,N)}}function Ja(e,t,n){try{var a=t.updateQueue,u=a!==null?a.lastEffect:null;if(u!==null){var m=u.next;a=m;do{if((a.tag&e)===e){var w=a.inst,N=w.destroy;if(N!==void 0){w.destroy=void 0,u=t;var C=n,ee=N;try{ee()}catch(fe){qt(u,C,fe)}}}a=a.next}while(a!==m)}}catch(fe){qt(t,t.return,fe)}}function fm(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Jf(t,n)}catch(a){qt(e,e.return,a)}}}function hm(e,t,n){n.props=Pi(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(a){qt(e,t,a)}}function zs(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof n=="function"?e.refCleanup=n(a):n.current=a}}catch(u){qt(e,t,u)}}function ta(e,t){var n=e.ref,a=e.refCleanup;if(n!==null)if(typeof a=="function")try{a()}catch(u){qt(e,t,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(u){qt(e,t,u)}else n.current=null}function mm(e){var t=e.type,n=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break e;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(u){qt(e,e.return,u)}}function nd(e,t,n){try{var a=e.stateNode;vy(a,e.type,n,t),a[he]=t}catch(u){qt(e,e.return,u)}}function pm(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&si(e.type)||e.tag===4}function rd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||pm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&si(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ad(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=pu));else if(a!==4&&(a===27&&si(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(ad(e,t,n),e=e.sibling;e!==null;)ad(e,t,n),e=e.sibling}function au(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(a!==4&&(a===27&&si(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(au(e,t,n),e=e.sibling;e!==null;)au(e,t,n),e=e.sibling}function gm(e){var t=e.stateNode,n=e.memoizedProps;try{for(var a=e.type,u=t.attributes;u.length;)t.removeAttributeNode(u[0]);Rn(t,a,n),t[ge]=e,t[he]=n}catch(m){qt(e,e.return,m)}}var Ra=!1,en=!1,id=!1,ym=typeof WeakSet=="function"?WeakSet:Set,xn=null;function Zg(e,t){if(e=e.containerInfo,_d=Su,e=S(e),E(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var u=a.anchorOffset,m=a.focusNode;a=a.focusOffset;try{n.nodeType,m.nodeType}catch{n=null;break e}var w=0,N=-1,C=-1,ee=0,fe=0,ye=e,re=null;t:for(;;){for(var ae;ye!==n||u!==0&&ye.nodeType!==3||(N=w+u),ye!==m||a!==0&&ye.nodeType!==3||(C=w+a),ye.nodeType===3&&(w+=ye.nodeValue.length),(ae=ye.firstChild)!==null;)re=ye,ye=ae;for(;;){if(ye===e)break t;if(re===n&&++ee===u&&(N=w),re===m&&++fe===a&&(C=w),(ae=ye.nextSibling)!==null)break;ye=re,re=ye.parentNode}ye=ae}n=N===-1||C===-1?null:{start:N,end:C}}else n=null}n=n||{start:0,end:0}}else n=null;for(Cd={focusedElem:e,selectionRange:n},Su=!1,xn=t;xn!==null;)if(t=xn,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,xn=e;else for(;xn!==null;){switch(t=xn,m=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&m!==null){e=void 0,n=t,u=m.memoizedProps,m=m.memoizedState,a=n.stateNode;try{var et=Pi(n.type,u,n.elementType===n.type);e=a.getSnapshotBeforeUpdate(et,m),a.__reactInternalSnapshotBeforeUpdate=e}catch(Xe){qt(n,n.return,Xe)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Md(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Md(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=t.sibling,e!==null){e.return=t.return,xn=e;break}xn=t.return}}function vm(e,t,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:ei(e,n),a&4&&Ls(5,n);break;case 1:if(ei(e,n),a&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(w){qt(n,n.return,w)}else{var u=Pi(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(u,t,e.__reactInternalSnapshotBeforeUpdate)}catch(w){qt(n,n.return,w)}}a&64&&fm(n),a&512&&zs(n,n.return);break;case 3:if(ei(e,n),a&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Jf(e,t)}catch(w){qt(n,n.return,w)}}break;case 27:t===null&&a&4&&gm(n);case 26:case 5:ei(e,n),t===null&&a&4&&mm(n),a&512&&zs(n,n.return);break;case 12:ei(e,n);break;case 13:ei(e,n),a&4&&wm(e,n),a&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=sy.bind(null,n),Ny(e,n))));break;case 22:if(a=n.memoizedState!==null||Ra,!a){t=t!==null&&t.memoizedState!==null||en,u=Ra;var m=en;Ra=a,(en=t)&&!m?ti(e,n,(n.subtreeFlags&8772)!==0):ei(e,n),Ra=u,en=m}break;case 30:break;default:ei(e,n)}}function xm(e){var t=e.alternate;t!==null&&(e.alternate=null,xm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Le(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Gt=null,Zn=!1;function Ta(e,t,n){for(n=n.child;n!==null;)bm(e,t,n),n=n.sibling}function bm(e,t,n){if(Nt&&typeof Nt.onCommitFiberUnmount=="function")try{Nt.onCommitFiberUnmount($t,n)}catch{}switch(n.tag){case 26:en||ta(n,t),Ta(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:en||ta(n,t);var a=Gt,u=Zn;si(n.type)&&(Gt=n.stateNode,Zn=!1),Ta(e,t,n),Gs(n.stateNode),Gt=a,Zn=u;break;case 5:en||ta(n,t);case 6:if(a=Gt,u=Zn,Gt=null,Ta(e,t,n),Gt=a,Zn=u,Gt!==null)if(Zn)try{(Gt.nodeType===9?Gt.body:Gt.nodeName==="HTML"?Gt.ownerDocument.body:Gt).removeChild(n.stateNode)}catch(m){qt(n,t,m)}else try{Gt.removeChild(n.stateNode)}catch(m){qt(n,t,m)}break;case 18:Gt!==null&&(Zn?(e=Gt,o0(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Zs(e)):o0(Gt,n.stateNode));break;case 4:a=Gt,u=Zn,Gt=n.stateNode.containerInfo,Zn=!0,Ta(e,t,n),Gt=a,Zn=u;break;case 0:case 11:case 14:case 15:en||Ja(2,n,t),en||Ja(4,n,t),Ta(e,t,n);break;case 1:en||(ta(n,t),a=n.stateNode,typeof a.componentWillUnmount=="function"&&hm(n,t,a)),Ta(e,t,n);break;case 21:Ta(e,t,n);break;case 22:en=(a=en)||n.memoizedState!==null,Ta(e,t,n),en=a;break;default:Ta(e,t,n)}}function wm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Zs(e)}catch(n){qt(t,t.return,n)}}function Jg(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new ym),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new ym),t;default:throw Error(s(435,e.tag))}}function ld(e,t){var n=Jg(e);t.forEach(function(a){var u=oy.bind(null,e,a);n.has(a)||(n.add(a),a.then(u,u))})}function sr(e,t){var n=t.deletions;if(n!==null)for(var a=0;a<n.length;a++){var u=n[a],m=e,w=t,N=w;e:for(;N!==null;){switch(N.tag){case 27:if(si(N.type)){Gt=N.stateNode,Zn=!1;break e}break;case 5:Gt=N.stateNode,Zn=!1;break e;case 3:case 4:Gt=N.stateNode.containerInfo,Zn=!0;break e}N=N.return}if(Gt===null)throw Error(s(160));bm(m,w,u),Gt=null,Zn=!1,m=u.alternate,m!==null&&(m.return=null),u.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)Sm(t,e),t=t.sibling}var Br=null;function Sm(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:sr(t,e),or(e),a&4&&(Ja(3,e,e.return),Ls(3,e),Ja(5,e,e.return));break;case 1:sr(t,e),or(e),a&512&&(en||n===null||ta(n,n.return)),a&64&&Ra&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?a:n.concat(a))));break;case 26:var u=Br;if(sr(t,e),or(e),a&512&&(en||n===null||ta(n,n.return)),a&4){var m=n!==null?n.memoizedState:null;if(a=e.memoizedState,n===null)if(a===null)if(e.stateNode===null){e:{a=e.type,n=e.memoizedProps,u=u.ownerDocument||u;t:switch(a){case"title":m=u.getElementsByTagName("title")[0],(!m||m[Be]||m[ge]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=u.createElement(a),u.head.insertBefore(m,u.querySelector("head > title"))),Rn(m,a,n),m[ge]=e,Fe(m),a=m;break e;case"link":var w=g0("link","href",u).get(a+(n.href||""));if(w){for(var N=0;N<w.length;N++)if(m=w[N],m.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&m.getAttribute("rel")===(n.rel==null?null:n.rel)&&m.getAttribute("title")===(n.title==null?null:n.title)&&m.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){w.splice(N,1);break t}}m=u.createElement(a),Rn(m,a,n),u.head.appendChild(m);break;case"meta":if(w=g0("meta","content",u).get(a+(n.content||""))){for(N=0;N<w.length;N++)if(m=w[N],m.getAttribute("content")===(n.content==null?null:""+n.content)&&m.getAttribute("name")===(n.name==null?null:n.name)&&m.getAttribute("property")===(n.property==null?null:n.property)&&m.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&m.getAttribute("charset")===(n.charSet==null?null:n.charSet)){w.splice(N,1);break t}}m=u.createElement(a),Rn(m,a,n),u.head.appendChild(m);break;default:throw Error(s(468,a))}m[ge]=e,Fe(m),a=m}e.stateNode=a}else y0(u,e.type,e.stateNode);else e.stateNode=p0(u,a,e.memoizedProps);else m!==a?(m===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):m.count--,a===null?y0(u,e.type,e.stateNode):p0(u,a,e.memoizedProps)):a===null&&e.stateNode!==null&&nd(e,e.memoizedProps,n.memoizedProps)}break;case 27:sr(t,e),or(e),a&512&&(en||n===null||ta(n,n.return)),n!==null&&a&4&&nd(e,e.memoizedProps,n.memoizedProps);break;case 5:if(sr(t,e),or(e),a&512&&(en||n===null||ta(n,n.return)),e.flags&32){u=e.stateNode;try{ka(u,"")}catch(ae){qt(e,e.return,ae)}}a&4&&e.stateNode!=null&&(u=e.memoizedProps,nd(e,u,n!==null?n.memoizedProps:u)),a&1024&&(id=!0);break;case 6:if(sr(t,e),or(e),a&4){if(e.stateNode===null)throw Error(s(162));a=e.memoizedProps,n=e.stateNode;try{n.nodeValue=a}catch(ae){qt(e,e.return,ae)}}break;case 3:if(xu=null,u=Br,Br=yu(t.containerInfo),sr(t,e),Br=u,or(e),a&4&&n!==null&&n.memoizedState.isDehydrated)try{Zs(t.containerInfo)}catch(ae){qt(e,e.return,ae)}id&&(id=!1,jm(e));break;case 4:a=Br,Br=yu(e.stateNode.containerInfo),sr(t,e),or(e),Br=a;break;case 12:sr(t,e),or(e);break;case 13:sr(t,e),or(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(fd=qn()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,ld(e,a)));break;case 22:u=e.memoizedState!==null;var C=n!==null&&n.memoizedState!==null,ee=Ra,fe=en;if(Ra=ee||u,en=fe||C,sr(t,e),en=fe,Ra=ee,or(e),a&8192)e:for(t=e.stateNode,t._visibility=u?t._visibility&-2:t._visibility|1,u&&(n===null||C||Ra||en||Ki(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){C=n=t;try{if(m=C.stateNode,u)w=m.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{N=C.stateNode;var ye=C.memoizedProps.style,re=ye!=null&&ye.hasOwnProperty("display")?ye.display:null;N.style.display=re==null||typeof re=="boolean"?"":(""+re).trim()}}catch(ae){qt(C,C.return,ae)}}}else if(t.tag===6){if(n===null){C=t;try{C.stateNode.nodeValue=u?"":C.memoizedProps}catch(ae){qt(C,C.return,ae)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(n=a.retryQueue,n!==null&&(a.retryQueue=null,ld(e,n))));break;case 19:sr(t,e),or(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,ld(e,a)));break;case 30:break;case 21:break;default:sr(t,e),or(e)}}function or(e){var t=e.flags;if(t&2){try{for(var n,a=e.return;a!==null;){if(pm(a)){n=a;break}a=a.return}if(n==null)throw Error(s(160));switch(n.tag){case 27:var u=n.stateNode,m=rd(e);au(e,m,u);break;case 5:var w=n.stateNode;n.flags&32&&(ka(w,""),n.flags&=-33);var N=rd(e);au(e,N,w);break;case 3:case 4:var C=n.stateNode.containerInfo,ee=rd(e);ad(e,ee,C);break;default:throw Error(s(161))}}catch(fe){qt(e,e.return,fe)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function jm(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;jm(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ei(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)vm(e,t.alternate,t),t=t.sibling}function Ki(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ja(4,t,t.return),Ki(t);break;case 1:ta(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&hm(t,t.return,n),Ki(t);break;case 27:Gs(t.stateNode);case 26:case 5:ta(t,t.return),Ki(t);break;case 22:t.memoizedState===null&&Ki(t);break;case 30:Ki(t);break;default:Ki(t)}e=e.sibling}}function ti(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,u=e,m=t,w=m.flags;switch(m.tag){case 0:case 11:case 15:ti(u,m,n),Ls(4,m);break;case 1:if(ti(u,m,n),a=m,u=a.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(ee){qt(a,a.return,ee)}if(a=m,u=a.updateQueue,u!==null){var N=a.stateNode;try{var C=u.shared.hiddenCallbacks;if(C!==null)for(u.shared.hiddenCallbacks=null,u=0;u<C.length;u++)Zf(C[u],N)}catch(ee){qt(a,a.return,ee)}}n&&w&64&&fm(m),zs(m,m.return);break;case 27:gm(m);case 26:case 5:ti(u,m,n),n&&a===null&&w&4&&mm(m),zs(m,m.return);break;case 12:ti(u,m,n);break;case 13:ti(u,m,n),n&&w&4&&wm(u,m);break;case 22:m.memoizedState===null&&ti(u,m,n),zs(m,m.return);break;case 30:break;default:ti(u,m,n)}t=t.sibling}}function sd(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&bs(n))}function od(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&bs(e))}function na(e,t,n,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Em(e,t,n,a),t=t.sibling}function Em(e,t,n,a){var u=t.flags;switch(t.tag){case 0:case 11:case 15:na(e,t,n,a),u&2048&&Ls(9,t);break;case 1:na(e,t,n,a);break;case 3:na(e,t,n,a),u&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&bs(e)));break;case 12:if(u&2048){na(e,t,n,a),e=t.stateNode;try{var m=t.memoizedProps,w=m.id,N=m.onPostCommit;typeof N=="function"&&N(w,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){qt(t,t.return,C)}}else na(e,t,n,a);break;case 13:na(e,t,n,a);break;case 23:break;case 22:m=t.stateNode,w=t.alternate,t.memoizedState!==null?m._visibility&2?na(e,t,n,a):ks(e,t):m._visibility&2?na(e,t,n,a):(m._visibility|=2,Al(e,t,n,a,(t.subtreeFlags&10256)!==0)),u&2048&&sd(w,t);break;case 24:na(e,t,n,a),u&2048&&od(t.alternate,t);break;default:na(e,t,n,a)}}function Al(e,t,n,a,u){for(u=u&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var m=e,w=t,N=n,C=a,ee=w.flags;switch(w.tag){case 0:case 11:case 15:Al(m,w,N,C,u),Ls(8,w);break;case 23:break;case 22:var fe=w.stateNode;w.memoizedState!==null?fe._visibility&2?Al(m,w,N,C,u):ks(m,w):(fe._visibility|=2,Al(m,w,N,C,u)),u&&ee&2048&&sd(w.alternate,w);break;case 24:Al(m,w,N,C,u),u&&ee&2048&&od(w.alternate,w);break;default:Al(m,w,N,C,u)}t=t.sibling}}function ks(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,a=t,u=a.flags;switch(a.tag){case 22:ks(n,a),u&2048&&sd(a.alternate,a);break;case 24:ks(n,a),u&2048&&od(a.alternate,a);break;default:ks(n,a)}t=t.sibling}}var Us=8192;function _l(e){if(e.subtreeFlags&Us)for(e=e.child;e!==null;)Nm(e),e=e.sibling}function Nm(e){switch(e.tag){case 26:_l(e),e.flags&Us&&e.memoizedState!==null&&qy(Br,e.memoizedState,e.memoizedProps);break;case 5:_l(e);break;case 3:case 4:var t=Br;Br=yu(e.stateNode.containerInfo),_l(e),Br=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=Us,Us=16777216,_l(e),Us=t):_l(e));break;default:_l(e)}}function Rm(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function qs(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];xn=a,Am(a,e)}Rm(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Tm(e),e=e.sibling}function Tm(e){switch(e.tag){case 0:case 11:case 15:qs(e),e.flags&2048&&Ja(9,e,e.return);break;case 3:qs(e);break;case 12:qs(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,iu(e)):qs(e);break;default:qs(e)}}function iu(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];xn=a,Am(a,e)}Rm(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ja(8,t,t.return),iu(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,iu(t));break;default:iu(t)}e=e.sibling}}function Am(e,t){for(;xn!==null;){var n=xn;switch(n.tag){case 0:case 11:case 15:Ja(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var a=n.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:bs(n.memoizedState.cache)}if(a=n.child,a!==null)a.return=n,xn=a;else e:for(n=e;xn!==null;){a=xn;var u=a.sibling,m=a.return;if(xm(a),a===n){xn=null;break e}if(u!==null){u.return=m,xn=u;break e}xn=m}}}var ey={getCacheForType:function(e){var t=zn(un),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n}},ty=typeof WeakMap=="function"?WeakMap:Map,At=0,Bt=null,mt=null,St=0,_t=0,ur=null,ni=!1,Cl=!1,ud=!1,Aa=0,Ft=0,ri=0,Qi=0,cd=0,Nr=0,Ol=0,Bs=null,Jn=null,dd=!1,fd=0,lu=1/0,su=null,ai=null,Nn=0,ii=null,Dl=null,Ml=0,hd=0,md=null,_m=null,Hs=0,pd=null;function cr(){if((At&2)!==0&&St!==0)return St&-St;if(te.T!==null){var e=bl;return e!==0?e:Sd()}return L()}function Cm(){Nr===0&&(Nr=(St&536870912)===0||Tt?Lr():536870912);var e=Er.current;return e!==null&&(e.flags|=32),Nr}function dr(e,t,n){(e===Bt&&(_t===2||_t===9)||e.cancelPendingCommit!==null)&&(Ll(e,0),li(e,St,Nr,!1)),Yr(e,n),((At&2)===0||e!==Bt)&&(e===Bt&&((At&2)===0&&(Qi|=n),Ft===4&&li(e,St,Nr,!1)),ra(e))}function Om(e,t,n){if((At&6)!==0)throw Error(s(327));var a=!n&&(t&124)===0&&(t&e.expiredLanes)===0||_n(e,t),u=a?ay(e,t):vd(e,t,!0),m=a;do{if(u===0){Cl&&!a&&li(e,t,0,!1);break}else{if(n=e.current.alternate,m&&!ny(n)){u=vd(e,t,!1),m=!1;continue}if(u===2){if(m=t,e.errorRecoveryDisabledLanes&m)var w=0;else w=e.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){t=w;e:{var N=e;u=Bs;var C=N.current.memoizedState.isDehydrated;if(C&&(Ll(N,w).flags|=256),w=vd(N,w,!1),w!==2){if(ud&&!C){N.errorRecoveryDisabledLanes|=m,Qi|=m,u=4;break e}m=Jn,Jn=u,m!==null&&(Jn===null?Jn=m:Jn.push.apply(Jn,m))}u=w}if(m=!1,u!==2)continue}}if(u===1){Ll(e,0),li(e,t,0,!0);break}e:{switch(a=e,m=u,m){case 0:case 1:throw Error(s(345));case 4:if((t&4194048)!==t)break;case 6:li(a,t,Nr,!ni);break e;case 2:Jn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((t&62914560)===t&&(u=fd+300-qn(),10<u)){if(li(a,t,Nr,!ni),ze(a,0,!0)!==0)break e;a.timeoutHandle=l0(Dm.bind(null,a,n,Jn,su,dd,t,Nr,Qi,Ol,ni,m,2,-0,0),u);break e}Dm(a,n,Jn,su,dd,t,Nr,Qi,Ol,ni,m,0,-0,0)}}break}while(!0);ra(e)}function Dm(e,t,n,a,u,m,w,N,C,ee,fe,ye,re,ae){if(e.timeoutHandle=-1,ye=t.subtreeFlags,(ye&8192||(ye&16785408)===16785408)&&(Is={stylesheets:null,count:0,unsuspend:Uy},Nm(t),ye=By(),ye!==null)){e.cancelPendingCommit=ye(Bm.bind(null,e,t,m,n,a,u,w,N,C,fe,1,re,ae)),li(e,m,w,!ee);return}Bm(e,t,m,n,a,u,w,N,C)}function ny(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var a=0;a<n.length;a++){var u=n[a],m=u.getSnapshot;u=u.value;try{if(!Ln(m(),u))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function li(e,t,n,a){t&=~cd,t&=~Qi,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var u=t;0<u;){var m=31-Yt(u),w=1<<m;a[m]=-1,u&=~w}n!==0&&Ir(e,n,t)}function ou(){return(At&6)===0?(Ps(0),!1):!0}function gd(){if(mt!==null){if(_t===0)var e=mt.return;else e=mt,ba=Ui=null,Mc(e),Rl=null,Os=0,e=mt;for(;e!==null;)dm(e.alternate,e),e=e.return;mt=null}}function Ll(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,by(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),gd(),Bt=e,mt=n=ya(e.current,null),St=t,_t=0,ur=null,ni=!1,Cl=_n(e,t),ud=!1,Ol=Nr=cd=Qi=ri=Ft=0,Jn=Bs=null,dd=!1,(t&8)!==0&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var u=31-Yt(a),m=1<<u;t|=e[u],a&=~m}return Aa=t,Je(),n}function Mm(e,t){dt=null,te.H=Xo,t===Ss||t===Bo?(t=Ff(),_t=3):t===If?(t=Ff(),_t=4):_t=t===Wh?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,ur=t,mt===null&&(Ft=1,eu(e,Ve(t,e.current)))}function Lm(){var e=te.H;return te.H=Xo,e===null?Xo:e}function zm(){var e=te.A;return te.A=ey,e}function yd(){Ft=4,ni||(St&4194048)!==St&&Er.current!==null||(Cl=!0),(ri&134217727)===0&&(Qi&134217727)===0||Bt===null||li(Bt,St,Nr,!1)}function vd(e,t,n){var a=At;At|=2;var u=Lm(),m=zm();(Bt!==e||St!==t)&&(su=null,Ll(e,t)),t=!1;var w=Ft;e:do try{if(_t!==0&&mt!==null){var N=mt,C=ur;switch(_t){case 8:gd(),w=6;break e;case 3:case 2:case 9:case 6:Er.current===null&&(t=!0);var ee=_t;if(_t=0,ur=null,zl(e,N,C,ee),n&&Cl){w=0;break e}break;default:ee=_t,_t=0,ur=null,zl(e,N,C,ee)}}ry(),w=Ft;break}catch(fe){Mm(e,fe)}while(!0);return t&&e.shellSuspendCounter++,ba=Ui=null,At=a,te.H=u,te.A=m,mt===null&&(Bt=null,St=0,Je()),w}function ry(){for(;mt!==null;)km(mt)}function ay(e,t){var n=At;At|=2;var a=Lm(),u=zm();Bt!==e||St!==t?(su=null,lu=qn()+500,Ll(e,t)):Cl=_n(e,t);e:do try{if(_t!==0&&mt!==null){t=mt;var m=ur;t:switch(_t){case 1:_t=0,ur=null,zl(e,t,m,1);break;case 2:case 9:if($f(m)){_t=0,ur=null,Um(t);break}t=function(){_t!==2&&_t!==9||Bt!==e||(_t=7),ra(e)},m.then(t,t);break e;case 3:_t=7;break e;case 4:_t=5;break e;case 7:$f(m)?(_t=0,ur=null,Um(t)):(_t=0,ur=null,zl(e,t,m,7));break;case 5:var w=null;switch(mt.tag){case 26:w=mt.memoizedState;case 5:case 27:var N=mt;if(!w||v0(w)){_t=0,ur=null;var C=N.sibling;if(C!==null)mt=C;else{var ee=N.return;ee!==null?(mt=ee,uu(ee)):mt=null}break t}}_t=0,ur=null,zl(e,t,m,5);break;case 6:_t=0,ur=null,zl(e,t,m,6);break;case 8:gd(),Ft=6;break e;default:throw Error(s(462))}}iy();break}catch(fe){Mm(e,fe)}while(!0);return ba=Ui=null,te.H=a,te.A=u,At=n,mt!==null?0:(Bt=null,St=0,Je(),Ft)}function iy(){for(;mt!==null&&!Or();)km(mt)}function km(e){var t=um(e.alternate,e,Aa);e.memoizedProps=e.pendingProps,t===null?uu(e):mt=t}function Um(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=rm(n,t,t.pendingProps,t.type,void 0,St);break;case 11:t=rm(n,t,t.pendingProps,t.type.render,t.ref,St);break;case 5:Mc(t);default:dm(n,t),t=mt=qf(t,Aa),t=um(n,t,Aa)}e.memoizedProps=e.pendingProps,t===null?uu(e):mt=t}function zl(e,t,n,a){ba=Ui=null,Mc(t),Rl=null,Os=0;var u=t.return;try{if($g(e,u,t,n,St)){Ft=1,eu(e,Ve(n,e.current)),mt=null;return}}catch(m){if(u!==null)throw mt=u,m;Ft=1,eu(e,Ve(n,e.current)),mt=null;return}t.flags&32768?(Tt||a===1?e=!0:Cl||(St&536870912)!==0?e=!1:(ni=e=!0,(a===2||a===9||a===3||a===6)&&(a=Er.current,a!==null&&a.tag===13&&(a.flags|=16384))),qm(t,e)):uu(t)}function uu(e){var t=e;do{if((t.flags&32768)!==0){qm(t,ni);return}e=t.return;var n=Fg(t.alternate,t,Aa);if(n!==null){mt=n;return}if(t=t.sibling,t!==null){mt=t;return}mt=t=e}while(t!==null);Ft===0&&(Ft=5)}function qm(e,t){do{var n=Wg(e.alternate,e);if(n!==null){n.flags&=32767,mt=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){mt=e;return}mt=e=n}while(e!==null);Ft=6,mt=null}function Bm(e,t,n,a,u,m,w,N,C){e.cancelPendingCommit=null;do cu();while(Nn!==0);if((At&6)!==0)throw Error(s(327));if(t!==null){if(t===e.current)throw Error(s(177));if(m=t.lanes|t.childLanes,m|=jn,Oa(e,n,m,w,N,C),e===Bt&&(mt=Bt=null,St=0),Dl=t,ii=e,Ml=n,hd=m,md=u,_m=a,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,uy(Sn,function(){return Gm(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||a){a=te.T,te.T=null,u=je.p,je.p=2,w=At,At|=4;try{Zg(e,t,n)}finally{At=w,je.p=u,te.T=a}}Nn=1,Hm(),Pm(),Km()}}function Hm(){if(Nn===1){Nn=0;var e=ii,t=Dl,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=te.T,te.T=null;var a=je.p;je.p=2;var u=At;At|=4;try{Sm(t,e);var m=Cd,w=S(e.containerInfo),N=m.focusedElem,C=m.selectionRange;if(w!==N&&N&&N.ownerDocument&&x(N.ownerDocument.documentElement,N)){if(C!==null&&E(N)){var ee=C.start,fe=C.end;if(fe===void 0&&(fe=ee),"selectionStart"in N)N.selectionStart=ee,N.selectionEnd=Math.min(fe,N.value.length);else{var ye=N.ownerDocument||document,re=ye&&ye.defaultView||window;if(re.getSelection){var ae=re.getSelection(),et=N.textContent.length,Xe=Math.min(C.start,et),zt=C.end===void 0?Xe:Math.min(C.end,et);!ae.extend&&Xe>zt&&(w=zt,zt=Xe,Xe=w);var Y=p(N,Xe),H=p(N,zt);if(Y&&H&&(ae.rangeCount!==1||ae.anchorNode!==Y.node||ae.anchorOffset!==Y.offset||ae.focusNode!==H.node||ae.focusOffset!==H.offset)){var J=ye.createRange();J.setStart(Y.node,Y.offset),ae.removeAllRanges(),Xe>zt?(ae.addRange(J),ae.extend(H.node,H.offset)):(J.setEnd(H.node,H.offset),ae.addRange(J))}}}}for(ye=[],ae=N;ae=ae.parentNode;)ae.nodeType===1&&ye.push({element:ae,left:ae.scrollLeft,top:ae.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<ye.length;N++){var me=ye[N];me.element.scrollLeft=me.left,me.element.scrollTop=me.top}}Su=!!_d,Cd=_d=null}finally{At=u,je.p=a,te.T=n}}e.current=t,Nn=2}}function Pm(){if(Nn===2){Nn=0;var e=ii,t=Dl,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=te.T,te.T=null;var a=je.p;je.p=2;var u=At;At|=4;try{vm(e,t.alternate,t)}finally{At=u,je.p=a,te.T=n}}Nn=3}}function Km(){if(Nn===4||Nn===3){Nn=0,Xl();var e=ii,t=Dl,n=Ml,a=_m;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Nn=5:(Nn=0,Dl=ii=null,Qm(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(ai=null),ji(n),t=t.stateNode,Nt&&typeof Nt.onCommitFiberRoot=="function")try{Nt.onCommitFiberRoot($t,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=te.T,u=je.p,je.p=2,te.T=null;try{for(var m=e.onRecoverableError,w=0;w<a.length;w++){var N=a[w];m(N.value,{componentStack:N.stack})}}finally{te.T=t,je.p=u}}(Ml&3)!==0&&cu(),ra(e),u=e.pendingLanes,(n&4194090)!==0&&(u&42)!==0?e===pd?Hs++:(Hs=0,pd=e):Hs=0,Ps(0)}}function Qm(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,bs(t)))}function cu(e){return Hm(),Pm(),Km(),Gm()}function Gm(){if(Nn!==5)return!1;var e=ii,t=hd;hd=0;var n=ji(Ml),a=te.T,u=je.p;try{je.p=32>n?32:n,te.T=null,n=md,md=null;var m=ii,w=Ml;if(Nn=0,Dl=ii=null,Ml=0,(At&6)!==0)throw Error(s(331));var N=At;if(At|=4,Tm(m.current),Em(m,m.current,w,n),At=N,Ps(0,!1),Nt&&typeof Nt.onPostCommitFiberRoot=="function")try{Nt.onPostCommitFiberRoot($t,m)}catch{}return!0}finally{je.p=u,te.T=a,Qm(e,t)}}function Vm(e,t,n){t=Ve(n,t),t=Ic(e.stateNode,t,2),e=Xa(e,t,2),e!==null&&(Yr(e,2),ra(e))}function qt(e,t,n){if(e.tag===3)Vm(e,e,n);else for(;t!==null;){if(t.tag===3){Vm(t,e,n);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(ai===null||!ai.has(a))){e=Ve(n,e),n=Xh(2),a=Xa(t,n,2),a!==null&&(Fh(n,a,t,e),Yr(a,2),ra(a));break}}t=t.return}}function xd(e,t,n){var a=e.pingCache;if(a===null){a=e.pingCache=new ty;var u=new Set;a.set(t,u)}else u=a.get(t),u===void 0&&(u=new Set,a.set(t,u));u.has(n)||(ud=!0,u.add(n),e=ly.bind(null,e,t,n),t.then(e,e))}function ly(e,t,n){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Bt===e&&(St&n)===n&&(Ft===4||Ft===3&&(St&62914560)===St&&300>qn()-fd?(At&2)===0&&Ll(e,0):cd|=n,Ol===St&&(Ol=0)),ra(e)}function Ym(e,t){t===0&&(t=_e()),e=qr(e,t),e!==null&&(Yr(e,t),ra(e))}function sy(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Ym(e,n)}function oy(e,t){var n=0;switch(e.tag){case 13:var a=e.stateNode,u=e.memoizedState;u!==null&&(n=u.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(s(314))}a!==null&&a.delete(t),Ym(e,n)}function uy(e,t){return Cr(e,t)}var du=null,kl=null,bd=!1,fu=!1,wd=!1,Gi=0;function ra(e){e!==kl&&e.next===null&&(kl===null?du=kl=e:kl=kl.next=e),fu=!0,bd||(bd=!0,dy())}function Ps(e,t){if(!wd&&fu){wd=!0;do for(var n=!1,a=du;a!==null;){if(e!==0){var u=a.pendingLanes;if(u===0)var m=0;else{var w=a.suspendedLanes,N=a.pingedLanes;m=(1<<31-Yt(42|e)+1)-1,m&=u&~(w&~N),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(n=!0,Fm(a,m))}else m=St,m=ze(a,a===Bt?m:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(m&3)===0||_n(a,m)||(n=!0,Fm(a,m));a=a.next}while(n);wd=!1}}function cy(){Im()}function Im(){fu=bd=!1;var e=0;Gi!==0&&(xy()&&(e=Gi),Gi=0);for(var t=qn(),n=null,a=du;a!==null;){var u=a.next,m=$m(a,t);m===0?(a.next=null,n===null?du=u:n.next=u,u===null&&(kl=n)):(n=a,(e!==0||(m&3)!==0)&&(fu=!0)),a=u}Ps(e)}function $m(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,u=e.expirationTimes,m=e.pendingLanes&-62914561;0<m;){var w=31-Yt(m),N=1<<w,C=u[w];C===-1?((N&n)===0||(N&a)!==0)&&(u[w]=gr(N,t)):C<=t&&(e.expiredLanes|=N),m&=~N}if(t=Bt,n=St,n=ze(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,n===0||e===t&&(_t===2||_t===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&ar(a),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||_n(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(a!==null&&ar(a),ji(n)){case 2:case 8:n=Ca;break;case 32:n=Sn;break;case 268435456:n=$n;break;default:n=Sn}return a=Xm.bind(null,e),n=Cr(n,a),e.callbackPriority=t,e.callbackNode=n,t}return a!==null&&a!==null&&ar(a),e.callbackPriority=2,e.callbackNode=null,2}function Xm(e,t){if(Nn!==0&&Nn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(cu()&&e.callbackNode!==n)return null;var a=St;return a=ze(e,e===Bt?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(Om(e,a,t),$m(e,qn()),e.callbackNode!=null&&e.callbackNode===n?Xm.bind(null,e):null)}function Fm(e,t){if(cu())return null;Om(e,t,!0)}function dy(){wy(function(){(At&6)!==0?Cr(Zi,cy):Im()})}function Sd(){return Gi===0&&(Gi=Lr()),Gi}function Wm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:oa(""+e)}function Zm(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function fy(e,t,n,a,u){if(t==="submit"&&n&&n.stateNode===u){var m=Wm((u[he]||null).action),w=a.submitter;w&&(t=(t=w[he]||null)?Wm(t.formAction):w.getAttribute("formAction"),t!==null&&(m=t,w=null));var N=new nl("action","action",null,a,u);e.push({event:N,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(Gi!==0){var C=w?Zm(u,w):new FormData(u);Kc(n,{pending:!0,data:C,method:u.method,action:m},null,C)}}else typeof m=="function"&&(N.preventDefault(),C=w?Zm(u,w):new FormData(u),Kc(n,{pending:!0,data:C,method:u.method,action:m},m,C))},currentTarget:u}]})}}for(var jd=0;jd<Ae.length;jd++){var Ed=Ae[jd],hy=Ed.toLowerCase(),my=Ed[0].toUpperCase()+Ed.slice(1);be(hy,"on"+my)}be(ne,"onAnimationEnd"),be(le,"onAnimationIteration"),be(se,"onAnimationStart"),be("dblclick","onDoubleClick"),be("focusin","onFocus"),be("focusout","onBlur"),be(de,"onTransitionRun"),be(we,"onTransitionStart"),be(Re,"onTransitionCancel"),be(xe,"onTransitionEnd"),on("onMouseEnter",["mouseout","mouseover"]),on("onMouseLeave",["mouseout","mouseover"]),on("onPointerEnter",["pointerout","pointerover"]),on("onPointerLeave",["pointerout","pointerover"]),Cn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Cn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Cn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Cn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Cn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Cn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ks="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),py=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ks));function Jm(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var a=e[n],u=a.event;a=a.listeners;e:{var m=void 0;if(t)for(var w=a.length-1;0<=w;w--){var N=a[w],C=N.instance,ee=N.currentTarget;if(N=N.listener,C!==m&&u.isPropagationStopped())break e;m=N,u.currentTarget=ee;try{m(u)}catch(fe){Jo(fe)}u.currentTarget=null,m=C}else for(w=0;w<a.length;w++){if(N=a[w],C=N.instance,ee=N.currentTarget,N=N.listener,C!==m&&u.isPropagationStopped())break e;m=N,u.currentTarget=ee;try{m(u)}catch(fe){Jo(fe)}u.currentTarget=null,m=C}}}}function pt(e,t){var n=t[He];n===void 0&&(n=t[He]=new Set);var a=e+"__bubble";n.has(a)||(e0(t,e,2,!1),n.add(a))}function Nd(e,t,n){var a=0;t&&(a|=4),e0(n,e,a,t)}var hu="_reactListening"+Math.random().toString(36).slice(2);function Rd(e){if(!e[hu]){e[hu]=!0,Rt.forEach(function(n){n!=="selectionchange"&&(py.has(n)||Nd(n,!1,e),Nd(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[hu]||(t[hu]=!0,Nd("selectionchange",!1,t))}}function e0(e,t,n,a){switch(E0(t)){case 2:var u=Ky;break;case 8:u=Qy;break;default:u=Hd}n=u.bind(null,t,n,e),u=void 0,!ns||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),a?u!==void 0?e.addEventListener(t,n,{capture:!0,passive:u}):e.addEventListener(t,n,!0):u!==void 0?e.addEventListener(t,n,{passive:u}):e.addEventListener(t,n,!1)}function Td(e,t,n,a,u){var m=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var w=a.tag;if(w===3||w===4){var N=a.stateNode.containerInfo;if(N===u)break;if(w===4)for(w=a.return;w!==null;){var C=w.tag;if((C===3||C===4)&&w.stateNode.containerInfo===u)return;w=w.return}for(;N!==null;){if(w=tt(N),w===null)return;if(C=w.tag,C===5||C===6||C===26||C===27){a=m=w;continue e}N=N.parentNode}}a=a.return}qa(function(){var ee=m,fe=el(n),ye=[];e:{var re=Ee.get(e);if(re!==void 0){var ae=nl,et=e;switch(e){case"keypress":if(Pa(n)===0)break e;case"keydown":case"keyup":ae=cl;break;case"focusin":et="focus",ae=Ka;break;case"focusout":et="blur",ae=Ka;break;case"beforeblur":case"afterblur":ae=Ka;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=il;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=So;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=us;break;case ne:case le:case se:ae=jo;break;case xe:ae=cs;break;case"scroll":case"scrollend":ae=rl;break;case"wheel":ae=fl;break;case"copy":case"cut":case"paste":ae=ol;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=os;break;case"toggle":case"beforetoggle":ae=Ro}var Xe=(t&4)!==0,zt=!Xe&&(e==="scroll"||e==="scrollend"),Y=Xe?re!==null?re+"Capture":null:re;Xe=[];for(var H=ee,J;H!==null;){var me=H;if(J=me.stateNode,me=me.tag,me!==5&&me!==26&&me!==27||J===null||Y===null||(me=da(H,Y),me!=null&&Xe.push(Qs(H,me,J))),zt)break;H=H.return}0<Xe.length&&(re=new ae(re,et,null,n,fe),ye.push({event:re,listeners:Xe}))}}if((t&7)===0){e:{if(re=e==="mouseover"||e==="pointerover",ae=e==="mouseout"||e==="pointerout",re&&n!==vr&&(et=n.relatedTarget||n.fromElement)&&(tt(et)||et[Te]))break e;if((ae||re)&&(re=fe.window===fe?fe:(re=fe.ownerDocument)?re.defaultView||re.parentWindow:window,ae?(et=n.relatedTarget||n.toElement,ae=ee,et=et?tt(et):null,et!==null&&(zt=h(et),Xe=et.tag,et!==zt||Xe!==5&&Xe!==27&&Xe!==6)&&(et=null)):(ae=null,et=ee),ae!==et)){if(Xe=il,me="onMouseLeave",Y="onMouseEnter",H="mouse",(e==="pointerout"||e==="pointerover")&&(Xe=os,me="onPointerLeave",Y="onPointerEnter",H="pointer"),zt=ae==null?re:kt(ae),J=et==null?re:kt(et),re=new Xe(me,H+"leave",ae,n,fe),re.target=zt,re.relatedTarget=J,me=null,tt(fe)===ee&&(Xe=new Xe(Y,H+"enter",et,n,fe),Xe.target=J,Xe.relatedTarget=zt,me=Xe),zt=me,ae&&et)t:{for(Xe=ae,Y=et,H=0,J=Xe;J;J=Ul(J))H++;for(J=0,me=Y;me;me=Ul(me))J++;for(;0<H-J;)Xe=Ul(Xe),H--;for(;0<J-H;)Y=Ul(Y),J--;for(;H--;){if(Xe===Y||Y!==null&&Xe===Y.alternate)break t;Xe=Ul(Xe),Y=Ul(Y)}Xe=null}else Xe=null;ae!==null&&t0(ye,re,ae,Xe,!1),et!==null&&zt!==null&&t0(ye,zt,et,Xe,!0)}}e:{if(re=ee?kt(ee):window,ae=re.nodeName&&re.nodeName.toLowerCase(),ae==="select"||ae==="input"&&re.type==="file")var qe=Oi;else if(pl(re))if(br)qe=Va;else{qe=ga;var ht=Do}else ae=re.nodeName,!ae||ae.toLowerCase()!=="input"||re.type!=="checkbox"&&re.type!=="radio"?ee&&ts(ee.elementType)&&(qe=Oi):qe=ps;if(qe&&(qe=qe(e,ee))){ms(ye,qe,n,fe);break e}ht&&ht(e,re,ee),e==="focusout"&&ee&&re.type==="number"&&ee.memoizedProps.value!=null&&La(re,"number",re.value)}switch(ht=ee?kt(ee):window,e){case"focusin":(pl(ht)||ht.contentEditable==="true")&&(_=ht,q=ee,P=null);break;case"focusout":P=q=_=null;break;case"mousedown":V=!0;break;case"contextmenu":case"mouseup":case"dragend":V=!1,M(ye,n,fe);break;case"selectionchange":if(T)break;case"keydown":case"keyup":M(ye,n,fe)}var Qe;if(_i)e:{switch(e){case"compositionstart":var We="onCompositionStart";break e;case"compositionend":We="onCompositionEnd";break e;case"compositionupdate":We="onCompositionUpdate";break e}We=void 0}else pa?hs(e,n)&&(We="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(We="onCompositionStart");We&&(hl&&n.locale!=="ko"&&(pa||We!=="onCompositionStart"?We==="onCompositionEnd"&&pa&&(Qe=Ha()):(xr=fe,tl="value"in xr?xr.value:xr.textContent,pa=!0)),ht=mu(ee,We),0<ht.length&&(We=new ul(We,e,null,n,fe),ye.push({event:We,listeners:ht}),Qe?We.data=Qe:(Qe=Ao(n),Qe!==null&&(We.data=Qe)))),(Qe=sc?_o(e,n):oc(e,n))&&(We=mu(ee,"onBeforeInput"),0<We.length&&(ht=new ul("onBeforeInput","beforeinput",null,n,fe),ye.push({event:ht,listeners:We}),ht.data=Qe)),fy(ye,e,ee,n,fe)}Jm(ye,t)})}function Qs(e,t,n){return{instance:e,listener:t,currentTarget:n}}function mu(e,t){for(var n=t+"Capture",a=[];e!==null;){var u=e,m=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||m===null||(u=da(e,n),u!=null&&a.unshift(Qs(e,u,m)),u=da(e,t),u!=null&&a.push(Qs(e,u,m))),e.tag===3)return a;e=e.return}return[]}function Ul(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function t0(e,t,n,a,u){for(var m=t._reactName,w=[];n!==null&&n!==a;){var N=n,C=N.alternate,ee=N.stateNode;if(N=N.tag,C!==null&&C===a)break;N!==5&&N!==26&&N!==27||ee===null||(C=ee,u?(ee=da(n,m),ee!=null&&w.unshift(Qs(n,ee,C))):u||(ee=da(n,m),ee!=null&&w.push(Qs(n,ee,C)))),n=n.return}w.length!==0&&e.push({event:t,listeners:w})}var gy=/\r\n?/g,yy=/\u0000|\uFFFD/g;function n0(e){return(typeof e=="string"?e:""+e).replace(gy,`
`).replace(yy,"")}function r0(e,t){return t=n0(t),n0(e)===t}function pu(){}function Lt(e,t,n,a,u,m){switch(n){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||ka(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&ka(e,""+a);break;case"className":Fn(e,"class",a);break;case"tabIndex":Fn(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":Fn(e,n,a);break;case"style":bo(e,a,m);break;case"data":if(t!=="object"){Fn(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=oa(""+a),e.setAttribute(n,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(n==="formAction"?(t!=="input"&&Lt(e,t,"name",u.name,u,null),Lt(e,t,"formEncType",u.formEncType,u,null),Lt(e,t,"formMethod",u.formMethod,u,null),Lt(e,t,"formTarget",u.formTarget,u,null)):(Lt(e,t,"encType",u.encType,u,null),Lt(e,t,"method",u.method,u,null),Lt(e,t,"target",u.target,u,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=oa(""+a),e.setAttribute(n,a);break;case"onClick":a!=null&&(e.onclick=pu);break;case"onScroll":a!=null&&pt("scroll",e);break;case"onScrollEnd":a!=null&&pt("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(s(61));if(n=a.__html,n!=null){if(u.children!=null)throw Error(s(60));e.innerHTML=n}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}n=oa(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""+a):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":a===!0?e.setAttribute(n,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,a):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(n,a):e.removeAttribute(n);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(n):e.setAttribute(n,a);break;case"popover":pt("beforetoggle",e),pt("toggle",e),On(e,"popover",a);break;case"xlinkActuate":it(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":it(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":it(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":it(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":it(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":it(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":it(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":it(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":it(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":On(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Gn.get(n)||n,On(e,n,a))}}function Ad(e,t,n,a,u,m){switch(n){case"style":bo(e,a,m);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(s(61));if(n=a.__html,n!=null){if(u.children!=null)throw Error(s(60));e.innerHTML=n}}break;case"children":typeof a=="string"?ka(e,a):(typeof a=="number"||typeof a=="bigint")&&ka(e,""+a);break;case"onScroll":a!=null&&pt("scroll",e);break;case"onScrollEnd":a!=null&&pt("scrollend",e);break;case"onClick":a!=null&&(e.onclick=pu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!hn.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(u=n.endsWith("Capture"),t=n.slice(2,u?n.length-7:void 0),m=e[he]||null,m=m!=null?m[n]:null,typeof m=="function"&&e.removeEventListener(t,m,u),typeof a=="function")){typeof m!="function"&&m!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,a,u);break e}n in e?e[n]=a:a===!0?e.setAttribute(n,""):On(e,n,a)}}}function Rn(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":pt("error",e),pt("load",e);var a=!1,u=!1,m;for(m in n)if(n.hasOwnProperty(m)){var w=n[m];if(w!=null)switch(m){case"src":a=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Lt(e,t,m,w,n,null)}}u&&Lt(e,t,"srcSet",n.srcSet,n,null),a&&Lt(e,t,"src",n.src,n,null);return;case"input":pt("invalid",e);var N=m=w=u=null,C=null,ee=null;for(a in n)if(n.hasOwnProperty(a)){var fe=n[a];if(fe!=null)switch(a){case"name":u=fe;break;case"type":w=fe;break;case"checked":C=fe;break;case"defaultChecked":ee=fe;break;case"value":m=fe;break;case"defaultValue":N=fe;break;case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(s(137,t));break;default:Lt(e,t,a,fe,n,null)}}Jl(e,m,N,C,ee,w,u,!1),$r(e);return;case"select":pt("invalid",e),a=w=m=null;for(u in n)if(n.hasOwnProperty(u)&&(N=n[u],N!=null))switch(u){case"value":m=N;break;case"defaultValue":w=N;break;case"multiple":a=N;default:Lt(e,t,u,N,n,null)}t=m,n=w,e.multiple=!!a,t!=null?sa(e,!!a,t,!1):n!=null&&sa(e,!!a,n,!0);return;case"textarea":pt("invalid",e),m=u=a=null;for(w in n)if(n.hasOwnProperty(w)&&(N=n[w],N!=null))switch(w){case"value":a=N;break;case"defaultValue":u=N;break;case"children":m=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(s(91));break;default:Lt(e,t,w,N,n,null)}es(e,a,u,m),$r(e);return;case"option":for(C in n)if(n.hasOwnProperty(C)&&(a=n[C],a!=null))switch(C){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:Lt(e,t,C,a,n,null)}return;case"dialog":pt("beforetoggle",e),pt("toggle",e),pt("cancel",e),pt("close",e);break;case"iframe":case"object":pt("load",e);break;case"video":case"audio":for(a=0;a<Ks.length;a++)pt(Ks[a],e);break;case"image":pt("error",e),pt("load",e);break;case"details":pt("toggle",e);break;case"embed":case"source":case"link":pt("error",e),pt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ee in n)if(n.hasOwnProperty(ee)&&(a=n[ee],a!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Lt(e,t,ee,a,n,null)}return;default:if(ts(t)){for(fe in n)n.hasOwnProperty(fe)&&(a=n[fe],a!==void 0&&Ad(e,t,fe,a,n,void 0));return}}for(N in n)n.hasOwnProperty(N)&&(a=n[N],a!=null&&Lt(e,t,N,a,n,null))}function vy(e,t,n,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,m=null,w=null,N=null,C=null,ee=null,fe=null;for(ae in n){var ye=n[ae];if(n.hasOwnProperty(ae)&&ye!=null)switch(ae){case"checked":break;case"value":break;case"defaultValue":C=ye;default:a.hasOwnProperty(ae)||Lt(e,t,ae,null,a,ye)}}for(var re in a){var ae=a[re];if(ye=n[re],a.hasOwnProperty(re)&&(ae!=null||ye!=null))switch(re){case"type":m=ae;break;case"name":u=ae;break;case"checked":ee=ae;break;case"defaultChecked":fe=ae;break;case"value":w=ae;break;case"defaultValue":N=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(s(137,t));break;default:ae!==ye&&Lt(e,t,re,ae,a,ye)}}Ma(e,w,N,C,ee,fe,m,u);return;case"select":ae=w=N=re=null;for(m in n)if(C=n[m],n.hasOwnProperty(m)&&C!=null)switch(m){case"value":break;case"multiple":ae=C;default:a.hasOwnProperty(m)||Lt(e,t,m,null,a,C)}for(u in a)if(m=a[u],C=n[u],a.hasOwnProperty(u)&&(m!=null||C!=null))switch(u){case"value":re=m;break;case"defaultValue":N=m;break;case"multiple":w=m;default:m!==C&&Lt(e,t,u,m,a,C)}t=N,n=w,a=ae,re!=null?sa(e,!!n,re,!1):!!a!=!!n&&(t!=null?sa(e,!!n,t,!0):sa(e,!!n,n?[]:"",!1));return;case"textarea":ae=re=null;for(N in n)if(u=n[N],n.hasOwnProperty(N)&&u!=null&&!a.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:Lt(e,t,N,null,a,u)}for(w in a)if(u=a[w],m=n[w],a.hasOwnProperty(w)&&(u!=null||m!=null))switch(w){case"value":re=u;break;case"defaultValue":ae=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(s(91));break;default:u!==m&&Lt(e,t,w,u,a,m)}za(e,re,ae);return;case"option":for(var et in n)if(re=n[et],n.hasOwnProperty(et)&&re!=null&&!a.hasOwnProperty(et))switch(et){case"selected":e.selected=!1;break;default:Lt(e,t,et,null,a,re)}for(C in a)if(re=a[C],ae=n[C],a.hasOwnProperty(C)&&re!==ae&&(re!=null||ae!=null))switch(C){case"selected":e.selected=re&&typeof re!="function"&&typeof re!="symbol";break;default:Lt(e,t,C,re,a,ae)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Xe in n)re=n[Xe],n.hasOwnProperty(Xe)&&re!=null&&!a.hasOwnProperty(Xe)&&Lt(e,t,Xe,null,a,re);for(ee in a)if(re=a[ee],ae=n[ee],a.hasOwnProperty(ee)&&re!==ae&&(re!=null||ae!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(s(137,t));break;default:Lt(e,t,ee,re,a,ae)}return;default:if(ts(t)){for(var zt in n)re=n[zt],n.hasOwnProperty(zt)&&re!==void 0&&!a.hasOwnProperty(zt)&&Ad(e,t,zt,void 0,a,re);for(fe in a)re=a[fe],ae=n[fe],!a.hasOwnProperty(fe)||re===ae||re===void 0&&ae===void 0||Ad(e,t,fe,re,a,ae);return}}for(var Y in n)re=n[Y],n.hasOwnProperty(Y)&&re!=null&&!a.hasOwnProperty(Y)&&Lt(e,t,Y,null,a,re);for(ye in a)re=a[ye],ae=n[ye],!a.hasOwnProperty(ye)||re===ae||re==null&&ae==null||Lt(e,t,ye,re,a,ae)}var _d=null,Cd=null;function gu(e){return e.nodeType===9?e:e.ownerDocument}function a0(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function i0(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Od(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Dd=null;function xy(){var e=window.event;return e&&e.type==="popstate"?e===Dd?!1:(Dd=e,!0):(Dd=null,!1)}var l0=typeof setTimeout=="function"?setTimeout:void 0,by=typeof clearTimeout=="function"?clearTimeout:void 0,s0=typeof Promise=="function"?Promise:void 0,wy=typeof queueMicrotask=="function"?queueMicrotask:typeof s0<"u"?function(e){return s0.resolve(null).then(e).catch(Sy)}:l0;function Sy(e){setTimeout(function(){throw e})}function si(e){return e==="head"}function o0(e,t){var n=t,a=0,u=0;do{var m=n.nextSibling;if(e.removeChild(n),m&&m.nodeType===8)if(n=m.data,n==="/$"){if(0<a&&8>a){n=a;var w=e.ownerDocument;if(n&1&&Gs(w.documentElement),n&2&&Gs(w.body),n&4)for(n=w.head,Gs(n),w=n.firstChild;w;){var N=w.nextSibling,C=w.nodeName;w[Be]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&w.rel.toLowerCase()==="stylesheet"||n.removeChild(w),w=N}}if(u===0){e.removeChild(m),Zs(t);return}u--}else n==="$"||n==="$?"||n==="$!"?u++:a=n.charCodeAt(0)-48;else a=0;n=m}while(n);Zs(t)}function Md(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Md(n),Le(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function jy(e,t,n,a){for(;e.nodeType===1;){var u=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[Be])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(m=e.getAttribute("rel"),m==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(m!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(m=e.getAttribute("src"),(m!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&m&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var m=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===m)return e}else return e;if(e=Hr(e.nextSibling),e===null)break}return null}function Ey(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Hr(e.nextSibling),e===null))return null;return e}function Ld(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function Ny(e,t){var n=e.ownerDocument;if(e.data!=="$?"||n.readyState==="complete")t();else{var a=function(){t(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function Hr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var zd=null;function u0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}function c0(e,t,n){switch(t=gu(n),e){case"html":if(e=t.documentElement,!e)throw Error(s(452));return e;case"head":if(e=t.head,!e)throw Error(s(453));return e;case"body":if(e=t.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Gs(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Le(e)}var Rr=new Map,d0=new Set;function yu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var _a=je.d;je.d={f:Ry,r:Ty,D:Ay,C:_y,L:Cy,m:Oy,X:My,S:Dy,M:Ly};function Ry(){var e=_a.f(),t=ou();return e||t}function Ty(e){var t=ft(e);t!==null&&t.tag===5&&t.type==="form"?Oh(t):_a.r(e)}var ql=typeof document>"u"?null:document;function f0(e,t,n){var a=ql;if(a&&typeof t=="string"&&t){var u=Dn(t);u='link[rel="'+e+'"][href="'+u+'"]',typeof n=="string"&&(u+='[crossorigin="'+n+'"]'),d0.has(u)||(d0.add(u),e={rel:e,crossOrigin:n,href:t},a.querySelector(u)===null&&(t=a.createElement("link"),Rn(t,"link",e),Fe(t),a.head.appendChild(t)))}}function Ay(e){_a.D(e),f0("dns-prefetch",e,null)}function _y(e,t){_a.C(e,t),f0("preconnect",e,t)}function Cy(e,t,n){_a.L(e,t,n);var a=ql;if(a&&e&&t){var u='link[rel="preload"][as="'+Dn(t)+'"]';t==="image"&&n&&n.imageSrcSet?(u+='[imagesrcset="'+Dn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(u+='[imagesizes="'+Dn(n.imageSizes)+'"]')):u+='[href="'+Dn(e)+'"]';var m=u;switch(t){case"style":m=Bl(e);break;case"script":m=Hl(e)}Rr.has(m)||(e=j({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Rr.set(m,e),a.querySelector(u)!==null||t==="style"&&a.querySelector(Vs(m))||t==="script"&&a.querySelector(Ys(m))||(t=a.createElement("link"),Rn(t,"link",e),Fe(t),a.head.appendChild(t)))}}function Oy(e,t){_a.m(e,t);var n=ql;if(n&&e){var a=t&&typeof t.as=="string"?t.as:"script",u='link[rel="modulepreload"][as="'+Dn(a)+'"][href="'+Dn(e)+'"]',m=u;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Hl(e)}if(!Rr.has(m)&&(e=j({rel:"modulepreload",href:e},t),Rr.set(m,e),n.querySelector(u)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Ys(m)))return}a=n.createElement("link"),Rn(a,"link",e),Fe(a),n.head.appendChild(a)}}}function Dy(e,t,n){_a.S(e,t,n);var a=ql;if(a&&e){var u=Kt(a).hoistableStyles,m=Bl(e);t=t||"default";var w=u.get(m);if(!w){var N={loading:0,preload:null};if(w=a.querySelector(Vs(m)))N.loading=5;else{e=j({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Rr.get(m))&&kd(e,n);var C=w=a.createElement("link");Fe(C),Rn(C,"link",e),C._p=new Promise(function(ee,fe){C.onload=ee,C.onerror=fe}),C.addEventListener("load",function(){N.loading|=1}),C.addEventListener("error",function(){N.loading|=2}),N.loading|=4,vu(w,t,a)}w={type:"stylesheet",instance:w,count:1,state:N},u.set(m,w)}}}function My(e,t){_a.X(e,t);var n=ql;if(n&&e){var a=Kt(n).hoistableScripts,u=Hl(e),m=a.get(u);m||(m=n.querySelector(Ys(u)),m||(e=j({src:e,async:!0},t),(t=Rr.get(u))&&Ud(e,t),m=n.createElement("script"),Fe(m),Rn(m,"link",e),n.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},a.set(u,m))}}function Ly(e,t){_a.M(e,t);var n=ql;if(n&&e){var a=Kt(n).hoistableScripts,u=Hl(e),m=a.get(u);m||(m=n.querySelector(Ys(u)),m||(e=j({src:e,async:!0,type:"module"},t),(t=Rr.get(u))&&Ud(e,t),m=n.createElement("script"),Fe(m),Rn(m,"link",e),n.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},a.set(u,m))}}function h0(e,t,n,a){var u=(u=Ke.current)?yu(u):null;if(!u)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Bl(n.href),n=Kt(u).hoistableStyles,a=n.get(t),a||(a={type:"style",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Bl(n.href);var m=Kt(u).hoistableStyles,w=m.get(e);if(w||(u=u.ownerDocument||u,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(e,w),(m=u.querySelector(Vs(e)))&&!m._p&&(w.instance=m,w.state.loading=5),Rr.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Rr.set(e,n),m||zy(u,e,n,w.state))),t&&a===null)throw Error(s(528,""));return w}if(t&&a!==null)throw Error(s(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Hl(n),n=Kt(u).hoistableScripts,a=n.get(t),a||(a={type:"script",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Bl(e){return'href="'+Dn(e)+'"'}function Vs(e){return'link[rel="stylesheet"]['+e+"]"}function m0(e){return j({},e,{"data-precedence":e.precedence,precedence:null})}function zy(e,t,n,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),Rn(t,"link",n),Fe(t),e.head.appendChild(t))}function Hl(e){return'[src="'+Dn(e)+'"]'}function Ys(e){return"script[async]"+e}function p0(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+Dn(n.href)+'"]');if(a)return t.instance=a,Fe(a),a;var u=j({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),Fe(a),Rn(a,"style",u),vu(a,n.precedence,e),t.instance=a;case"stylesheet":u=Bl(n.href);var m=e.querySelector(Vs(u));if(m)return t.state.loading|=4,t.instance=m,Fe(m),m;a=m0(n),(u=Rr.get(u))&&kd(a,u),m=(e.ownerDocument||e).createElement("link"),Fe(m);var w=m;return w._p=new Promise(function(N,C){w.onload=N,w.onerror=C}),Rn(m,"link",a),t.state.loading|=4,vu(m,n.precedence,e),t.instance=m;case"script":return m=Hl(n.src),(u=e.querySelector(Ys(m)))?(t.instance=u,Fe(u),u):(a=n,(u=Rr.get(m))&&(a=j({},n),Ud(a,u)),e=e.ownerDocument||e,u=e.createElement("script"),Fe(u),Rn(u,"link",a),e.head.appendChild(u),t.instance=u);case"void":return null;default:throw Error(s(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(a=t.instance,t.state.loading|=4,vu(a,n.precedence,e));return t.instance}function vu(e,t,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=a.length?a[a.length-1]:null,m=u,w=0;w<a.length;w++){var N=a[w];if(N.dataset.precedence===t)m=N;else if(m!==u)break}m?m.parentNode.insertBefore(e,m.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function kd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Ud(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var xu=null;function g0(e,t,n){if(xu===null){var a=new Map,u=xu=new Map;u.set(n,a)}else u=xu,a=u.get(n),a||(a=new Map,u.set(n,a));if(a.has(e))return a;for(a.set(e,null),n=n.getElementsByTagName(e),u=0;u<n.length;u++){var m=n[u];if(!(m[Be]||m[ge]||e==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var w=m.getAttribute(t)||"";w=e+w;var N=a.get(w);N?N.push(m):a.set(w,[m])}}return a}function y0(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function ky(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function v0(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Is=null;function Uy(){}function qy(e,t,n){if(Is===null)throw Error(s(475));var a=Is;if(t.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var u=Bl(n.href),m=e.querySelector(Vs(u));if(m){e=m._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(a.count++,a=bu.bind(a),e.then(a,a)),t.state.loading|=4,t.instance=m,Fe(m);return}m=e.ownerDocument||e,n=m0(n),(u=Rr.get(u))&&kd(n,u),m=m.createElement("link"),Fe(m);var w=m;w._p=new Promise(function(N,C){w.onload=N,w.onerror=C}),Rn(m,"link",n),t.instance=m}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(a.count++,t=bu.bind(a),e.addEventListener("load",t),e.addEventListener("error",t))}}function By(){if(Is===null)throw Error(s(475));var e=Is;return e.stylesheets&&e.count===0&&qd(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&qd(e,e.stylesheets),e.unsuspend){var a=e.unsuspend;e.unsuspend=null,a()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}function bu(){if(this.count--,this.count===0){if(this.stylesheets)qd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var wu=null;function qd(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,wu=new Map,t.forEach(Hy,e),wu=null,bu.call(e))}function Hy(e,t){if(!(t.state.loading&4)){var n=wu.get(e);if(n)var a=n.get(null);else{n=new Map,wu.set(e,n);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<u.length;m++){var w=u[m];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(n.set(w.dataset.precedence,w),a=w)}a&&n.set(null,a)}u=t.instance,w=u.getAttribute("data-precedence"),m=n.get(w)||a,m===a&&n.set(null,u),n.set(w,u),this.count++,a=bu.bind(this),u.addEventListener("load",a),u.addEventListener("error",a),m?m.parentNode.insertBefore(u,m.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),t.state.loading|=4}}var $s={$$typeof:Z,Provider:null,Consumer:null,_currentValue:Ce,_currentValue2:Ce,_threadCount:0};function Py(e,t,n,a,u,m,w,N){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Vr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vr(0),this.hiddenUpdates=Vr(null),this.identifierPrefix=a,this.onUncaughtError=u,this.onCaughtError=m,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function x0(e,t,n,a,u,m,w,N,C,ee,fe,ye){return e=new Py(e,t,n,w,N,C,ee,ye),t=1,m===!0&&(t|=24),m=lr(3,null,null,t),e.current=m,m.stateNode=e,t=xc(),t.refCount++,e.pooledCache=t,t.refCount++,m.memoizedState={element:a,isDehydrated:n,cache:t},jc(m),e}function b0(e){return e?(e=Zr,e):Zr}function w0(e,t,n,a,u,m){u=b0(u),a.context===null?a.context=u:a.pendingContext=u,a=$a(t),a.payload={element:n},m=m===void 0?null:m,m!==null&&(a.callback=m),n=Xa(e,a,t),n!==null&&(dr(n,e,t),Es(n,e,t))}function S0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Bd(e,t){S0(e,t),(e=e.alternate)&&S0(e,t)}function j0(e){if(e.tag===13){var t=qr(e,67108864);t!==null&&dr(t,e,67108864),Bd(e,67108864)}}var Su=!0;function Ky(e,t,n,a){var u=te.T;te.T=null;var m=je.p;try{je.p=2,Hd(e,t,n,a)}finally{je.p=m,te.T=u}}function Qy(e,t,n,a){var u=te.T;te.T=null;var m=je.p;try{je.p=8,Hd(e,t,n,a)}finally{je.p=m,te.T=u}}function Hd(e,t,n,a){if(Su){var u=Pd(a);if(u===null)Td(e,t,a,ju,n),N0(e,a);else if(Vy(u,e,t,n,a))a.stopPropagation();else if(N0(e,a),t&4&&-1<Gy.indexOf(e)){for(;u!==null;){var m=ft(u);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var w=fn(m.pendingLanes);if(w!==0){var N=m;for(N.pendingLanes|=2,N.entangledLanes|=2;w;){var C=1<<31-Yt(w);N.entanglements[1]|=C,w&=~C}ra(m),(At&6)===0&&(lu=qn()+500,Ps(0))}}break;case 13:N=qr(m,2),N!==null&&dr(N,m,2),ou(),Bd(m,2)}if(m=Pd(a),m===null&&Td(e,t,a,ju,n),m===u)break;u=m}u!==null&&a.stopPropagation()}else Td(e,t,a,null,n)}}function Pd(e){return e=el(e),Kd(e)}var ju=null;function Kd(e){if(ju=null,e=tt(e),e!==null){var t=h(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=g(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ju=e,null}function E0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Fl()){case Zi:return 2;case Ca:return 8;case Sn:case hr:return 32;case $n:return 268435456;default:return 32}default:return 32}}var Qd=!1,oi=null,ui=null,ci=null,Xs=new Map,Fs=new Map,di=[],Gy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function N0(e,t){switch(e){case"focusin":case"focusout":oi=null;break;case"dragenter":case"dragleave":ui=null;break;case"mouseover":case"mouseout":ci=null;break;case"pointerover":case"pointerout":Xs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fs.delete(t.pointerId)}}function Ws(e,t,n,a,u,m){return e===null||e.nativeEvent!==m?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:m,targetContainers:[u]},t!==null&&(t=ft(t),t!==null&&j0(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function Vy(e,t,n,a,u){switch(t){case"focusin":return oi=Ws(oi,e,t,n,a,u),!0;case"dragenter":return ui=Ws(ui,e,t,n,a,u),!0;case"mouseover":return ci=Ws(ci,e,t,n,a,u),!0;case"pointerover":var m=u.pointerId;return Xs.set(m,Ws(Xs.get(m)||null,e,t,n,a,u)),!0;case"gotpointercapture":return m=u.pointerId,Fs.set(m,Ws(Fs.get(m)||null,e,t,n,a,u)),!0}return!1}function R0(e){var t=tt(e.target);if(t!==null){var n=h(t);if(n!==null){if(t=n.tag,t===13){if(t=g(n),t!==null){e.blockedOn=t,W(e.priority,function(){if(n.tag===13){var a=cr();a=Si(a);var u=qr(n,a);u!==null&&dr(u,n,a),Bd(n,a)}});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Eu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Pd(e.nativeEvent);if(n===null){n=e.nativeEvent;var a=new n.constructor(n.type,n);vr=a,n.target.dispatchEvent(a),vr=null}else return t=ft(n),t!==null&&j0(t),e.blockedOn=n,!1;t.shift()}return!0}function T0(e,t,n){Eu(e)&&n.delete(t)}function Yy(){Qd=!1,oi!==null&&Eu(oi)&&(oi=null),ui!==null&&Eu(ui)&&(ui=null),ci!==null&&Eu(ci)&&(ci=null),Xs.forEach(T0),Fs.forEach(T0)}function Nu(e,t){e.blockedOn===t&&(e.blockedOn=null,Qd||(Qd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Yy)))}var Ru=null;function A0(e){Ru!==e&&(Ru=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Ru===e&&(Ru=null);for(var t=0;t<e.length;t+=3){var n=e[t],a=e[t+1],u=e[t+2];if(typeof a!="function"){if(Kd(a||n)===null)continue;break}var m=ft(n);m!==null&&(e.splice(t,3),t-=3,Kc(m,{pending:!0,data:u,method:n.method,action:a},a,u))}}))}function Zs(e){function t(C){return Nu(C,e)}oi!==null&&Nu(oi,e),ui!==null&&Nu(ui,e),ci!==null&&Nu(ci,e),Xs.forEach(t),Fs.forEach(t);for(var n=0;n<di.length;n++){var a=di[n];a.blockedOn===e&&(a.blockedOn=null)}for(;0<di.length&&(n=di[0],n.blockedOn===null);)R0(n),n.blockedOn===null&&di.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(a=0;a<n.length;a+=3){var u=n[a],m=n[a+1],w=u[he]||null;if(typeof m=="function")w||A0(n);else if(w){var N=null;if(m&&m.hasAttribute("formAction")){if(u=m,w=m[he]||null)N=w.formAction;else if(Kd(u)!==null)continue}else N=w.action;typeof N=="function"?n[a+1]=N:(n.splice(a,3),a-=3),A0(n)}}}function Gd(e){this._internalRoot=e}Tu.prototype.render=Gd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(s(409));var n=t.current,a=cr();w0(n,a,e,t,null,null)},Tu.prototype.unmount=Gd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;w0(e.current,2,null,e,null,null),ou(),t[Te]=null}};function Tu(e){this._internalRoot=e}Tu.prototype.unstable_scheduleHydration=function(e){if(e){var t=L();e={blockedOn:null,target:e,priority:t};for(var n=0;n<di.length&&t!==0&&t<di[n].priority;n++);di.splice(n,0,e),n===0&&R0(e)}};var _0=i.version;if(_0!=="19.1.0")throw Error(s(527,_0,"19.1.0"));je.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=v(t),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var Iy={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:te,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Au=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Au.isDisabled&&Au.supportsFiber)try{$t=Au.inject(Iy),Nt=Au}catch{}}return eo.createRoot=function(e,t){if(!d(e))throw Error(s(299));var n=!1,a="",u=Vh,m=Yh,w=Ih,N=null;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(u=t.onUncaughtError),t.onCaughtError!==void 0&&(m=t.onCaughtError),t.onRecoverableError!==void 0&&(w=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(N=t.unstable_transitionCallbacks)),t=x0(e,1,!1,null,null,n,a,u,m,w,N,null),e[Te]=t.current,Rd(e),new Gd(t)},eo.hydrateRoot=function(e,t,n){if(!d(e))throw Error(s(299));var a=!1,u="",m=Vh,w=Yh,N=Ih,C=null,ee=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onUncaughtError!==void 0&&(m=n.onUncaughtError),n.onCaughtError!==void 0&&(w=n.onCaughtError),n.onRecoverableError!==void 0&&(N=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(C=n.unstable_transitionCallbacks),n.formState!==void 0&&(ee=n.formState)),t=x0(e,1,!0,t,n??null,a,u,m,w,N,C,ee),t.context=b0(null),n=t.current,a=cr(),a=Si(a),u=$a(a),u.callback=null,Xa(n,u,a),n=a,t.current.lanes=n,Yr(t,n),ra(t),e[Te]=t.current,Rd(e),new Tu(t)},eo.version="19.1.0",eo}var H0;function rv(){if(H0)return Id.exports;H0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(i){console.error(i)}}return r(),Id.exports=nv(),Id.exports}var av=rv();/**
 * react-router v7.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Dp=r=>{throw TypeError(r)},iv=(r,i,l)=>i.has(r)||Dp("Cannot "+l),Wd=(r,i,l)=>(iv(r,i,"read from private field"),l?l.call(r):i.get(r)),lv=(r,i,l)=>i.has(r)?Dp("Cannot add the same private member more than once"):i instanceof WeakSet?i.add(r):i.set(r,l),P0="popstate";function sv(r={}){function i(s,d){let{pathname:h,search:g,hash:b}=s.location;return uo("",{pathname:h,search:g,hash:b},d.state&&d.state.usr||null,d.state&&d.state.key||"default")}function l(s,d){return typeof d=="string"?d:vi(d)}return uv(i,l,null,r)}function gt(r,i){if(r===!1||r===null||typeof r>"u")throw new Error(i)}function ln(r,i){if(!r){typeof console<"u"&&console.warn(i);try{throw new Error(i)}catch{}}}function ov(){return Math.random().toString(36).substring(2,10)}function K0(r,i){return{usr:r.state,key:r.key,idx:i}}function uo(r,i,l=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof i=="string"?xi(i):i,state:l,key:i&&i.key||s||ov()}}function vi({pathname:r="/",search:i="",hash:l=""}){return i&&i!=="?"&&(r+=i.charAt(0)==="?"?i:"?"+i),l&&l!=="#"&&(r+=l.charAt(0)==="#"?l:"#"+l),r}function xi(r){let i={};if(r){let l=r.indexOf("#");l>=0&&(i.hash=r.substring(l),r=r.substring(0,l));let s=r.indexOf("?");s>=0&&(i.search=r.substring(s),r=r.substring(0,s)),r&&(i.pathname=r)}return i}function uv(r,i,l,s={}){let{window:d=document.defaultView,v5Compat:h=!1}=s,g=d.history,b="POP",v=null,y=j();y==null&&(y=0,g.replaceState({...g.state,idx:y},""));function j(){return(g.state||{idx:null}).idx}function R(){b="POP";let Q=j(),X=Q==null?null:Q-y;y=Q,v&&v({action:b,location:D.location,delta:X})}function A(Q,X){b="PUSH";let ce=uo(D.location,Q,X);y=j()+1;let Z=K0(ce,y),Se=D.createHref(ce);try{g.pushState(Z,"",Se)}catch(pe){if(pe instanceof DOMException&&pe.name==="DataCloneError")throw pe;d.location.assign(Se)}h&&v&&v({action:b,location:D.location,delta:1})}function B(Q,X){b="REPLACE";let ce=uo(D.location,Q,X);y=j();let Z=K0(ce,y),Se=D.createHref(ce);g.replaceState(Z,"",Se),h&&v&&v({action:b,location:D.location,delta:0})}function k(Q){return Mp(Q)}let D={get action(){return b},get location(){return r(d,g)},listen(Q){if(v)throw new Error("A history only accepts one active listener");return d.addEventListener(P0,R),v=Q,()=>{d.removeEventListener(P0,R),v=null}},createHref(Q){return i(d,Q)},createURL:k,encodeLocation(Q){let X=k(Q);return{pathname:X.pathname,search:X.search,hash:X.hash}},push:A,replace:B,go(Q){return g.go(Q)}};return D}function Mp(r,i=!1){let l="http://localhost";typeof window<"u"&&(l=window.location.origin!=="null"?window.location.origin:window.location.href),gt(l,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:vi(r);return s=s.replace(/ $/,"%20"),!i&&s.startsWith("//")&&(s=l+s),new URL(s,l)}var so,Q0=class{constructor(r){if(lv(this,so,new Map),r)for(let[i,l]of r)this.set(i,l)}get(r){if(Wd(this,so).has(r))return Wd(this,so).get(r);if(r.defaultValue!==void 0)return r.defaultValue;throw new Error("No value found for context")}set(r,i){Wd(this,so).set(r,i)}};so=new WeakMap;var cv=new Set(["lazy","caseSensitive","path","id","index","children"]);function dv(r){return cv.has(r)}var fv=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function hv(r){return fv.has(r)}function mv(r){return r.index===!0}function co(r,i,l=[],s={},d=!1){return r.map((h,g)=>{let b=[...l,String(g)],v=typeof h.id=="string"?h.id:b.join("-");if(gt(h.index!==!0||!h.children,"Cannot specify children on an index route"),gt(d||!s[v],`Found a route id collision on id "${v}".  Route id's must be globally unique within Data Router usages`),mv(h)){let y={...h,...i(h),id:v};return s[v]=y,y}else{let y={...h,...i(h),id:v,children:void 0};return s[v]=y,h.children&&(y.children=co(h.children,i,b,s,d)),y}})}function pi(r,i,l="/"){return Mu(r,i,l,!1)}function Mu(r,i,l,s){let d=typeof i=="string"?xi(i):i,h=Ar(d.pathname||"/",l);if(h==null)return null;let g=Lp(r);gv(g);let b=null;for(let v=0;b==null&&v<g.length;++v){let y=Tv(h);b=Nv(g[v],y,s)}return b}function pv(r,i){let{route:l,pathname:s,params:d}=r;return{id:l.id,pathname:s,params:d,data:i[l.id],handle:l.handle}}function Lp(r,i=[],l=[],s=""){let d=(h,g,b)=>{let v={relativePath:b===void 0?h.path||"":b,caseSensitive:h.caseSensitive===!0,childrenIndex:g,route:h};v.relativePath.startsWith("/")&&(gt(v.relativePath.startsWith(s),`Absolute route path "${v.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(s.length));let y=ia([s,v.relativePath]),j=l.concat(v);h.children&&h.children.length>0&&(gt(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),Lp(h.children,i,j,y)),!(h.path==null&&!h.index)&&i.push({path:y,score:jv(y,h.index),routesMeta:j})};return r.forEach((h,g)=>{if(h.path===""||!h.path?.includes("?"))d(h,g);else for(let b of zp(h.path))d(h,g,b)}),i}function zp(r){let i=r.split("/");if(i.length===0)return[];let[l,...s]=i,d=l.endsWith("?"),h=l.replace(/\?$/,"");if(s.length===0)return d?[h,""]:[h];let g=zp(s.join("/")),b=[];return b.push(...g.map(v=>v===""?h:[h,v].join("/"))),d&&b.push(...g),b.map(v=>r.startsWith("/")&&v===""?"/":v)}function gv(r){r.sort((i,l)=>i.score!==l.score?l.score-i.score:Ev(i.routesMeta.map(s=>s.childrenIndex),l.routesMeta.map(s=>s.childrenIndex)))}var yv=/^:[\w-]+$/,vv=3,xv=2,bv=1,wv=10,Sv=-2,G0=r=>r==="*";function jv(r,i){let l=r.split("/"),s=l.length;return l.some(G0)&&(s+=Sv),i&&(s+=xv),l.filter(d=>!G0(d)).reduce((d,h)=>d+(yv.test(h)?vv:h===""?bv:wv),s)}function Ev(r,i){return r.length===i.length&&r.slice(0,-1).every((s,d)=>s===i[d])?r[r.length-1]-i[i.length-1]:0}function Nv(r,i,l=!1){let{routesMeta:s}=r,d={},h="/",g=[];for(let b=0;b<s.length;++b){let v=s[b],y=b===s.length-1,j=h==="/"?i:i.slice(h.length)||"/",R=Ku({path:v.relativePath,caseSensitive:v.caseSensitive,end:y},j),A=v.route;if(!R&&y&&l&&!s[s.length-1].route.index&&(R=Ku({path:v.relativePath,caseSensitive:v.caseSensitive,end:!1},j)),!R)return null;Object.assign(d,R.params),g.push({params:d,pathname:ia([h,R.pathname]),pathnameBase:Ov(ia([h,R.pathnameBase])),route:A}),R.pathnameBase!=="/"&&(h=ia([h,R.pathnameBase]))}return g}function Ku(r,i){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[l,s]=Rv(r.path,r.caseSensitive,r.end),d=i.match(l);if(!d)return null;let h=d[0],g=h.replace(/(.)\/+$/,"$1"),b=d.slice(1);return{params:s.reduce((y,{paramName:j,isOptional:R},A)=>{if(j==="*"){let k=b[A]||"";g=h.slice(0,h.length-k.length).replace(/(.)\/+$/,"$1")}const B=b[A];return R&&!B?y[j]=void 0:y[j]=(B||"").replace(/%2F/g,"/"),y},{}),pathname:h,pathnameBase:g,pattern:r}}function Rv(r,i=!1,l=!0){ln(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],d="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(g,b,v)=>(s.push({paramName:b,isOptional:v!=null}),v?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),d+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):l?d+="\\/*$":r!==""&&r!=="/"&&(d+="(?:(?=\\/|$))"),[new RegExp(d,i?void 0:"i"),s]}function Tv(r){try{return r.split("/").map(i=>decodeURIComponent(i).replace(/\//g,"%2F")).join("/")}catch(i){return ln(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${i}).`),r}}function Ar(r,i){if(i==="/")return r;if(!r.toLowerCase().startsWith(i.toLowerCase()))return null;let l=i.endsWith("/")?i.length-1:i.length,s=r.charAt(l);return s&&s!=="/"?null:r.slice(l)||"/"}function Av({basename:r,pathname:i}){return i==="/"?r:ia([r,i])}function _v(r,i="/"){let{pathname:l,search:s="",hash:d=""}=typeof r=="string"?xi(r):r;return{pathname:l?l.startsWith("/")?l:Cv(l,i):i,search:Dv(s),hash:Mv(d)}}function Cv(r,i){let l=i.replace(/\/+$/,"").split("/");return r.split("/").forEach(d=>{d===".."?l.length>1&&l.pop():d!=="."&&l.push(d)}),l.length>1?l.join("/"):"/"}function Zd(r,i,l,s){return`Cannot include a '${r}' character in a manually specified \`to.${i}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${l}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function kp(r){return r.filter((i,l)=>l===0||i.route.path&&i.route.path.length>0)}function jf(r){let i=kp(r);return i.map((l,s)=>s===i.length-1?l.pathname:l.pathnameBase)}function Ef(r,i,l,s=!1){let d;typeof r=="string"?d=xi(r):(d={...r},gt(!d.pathname||!d.pathname.includes("?"),Zd("?","pathname","search",d)),gt(!d.pathname||!d.pathname.includes("#"),Zd("#","pathname","hash",d)),gt(!d.search||!d.search.includes("#"),Zd("#","search","hash",d)));let h=r===""||d.pathname==="",g=h?"/":d.pathname,b;if(g==null)b=l;else{let R=i.length-1;if(!s&&g.startsWith("..")){let A=g.split("/");for(;A[0]==="..";)A.shift(),R-=1;d.pathname=A.join("/")}b=R>=0?i[R]:"/"}let v=_v(d,b),y=g&&g!=="/"&&g.endsWith("/"),j=(h||g===".")&&l.endsWith("/");return!v.pathname.endsWith("/")&&(y||j)&&(v.pathname+="/"),v}var ia=r=>r.join("/").replace(/\/\/+/g,"/"),Ov=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Dv=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Mv=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,Qu=class{constructor(r,i,l,s=!1){this.status=r,this.statusText=i||"",this.internal=s,l instanceof Error?(this.data=l.toString(),this.error=l):this.data=l}};function fo(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var Up=["POST","PUT","PATCH","DELETE"],Lv=new Set(Up),zv=["GET",...Up],kv=new Set(zv),Uv=new Set([301,302,303,307,308]),qv=new Set([307,308]),Jd={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Bv={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},to={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Hv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Nf=r=>Hv.test(r),Pv=r=>({hasErrorBoundary:!!r.hasErrorBoundary}),qp="remix-router-transitions",Bp=Symbol("ResetLoaderData");function Kv(r){const i=r.window?r.window:typeof window<"u"?window:void 0,l=typeof i<"u"&&typeof i.document<"u"&&typeof i.document.createElement<"u";gt(r.routes.length>0,"You must provide a non-empty routes array to createRouter");let s=r.hydrationRouteProperties||[],d=r.mapRouteProperties||Pv,h={},g=co(r.routes,d,void 0,h),b,v=r.basename||"/",y=r.dataStrategy||Iv,j={unstable_middleware:!1,...r.future},R=null,A=new Set,B=null,k=null,D=null,Q=r.hydrationData!=null,X=pi(g,r.history.location,v),ce=!1,Z=null,Se;if(X==null&&!r.patchRoutesOnNavigation){let L=Tr(404,{pathname:r.history.location.pathname}),{matches:W,route:ie}=np(g);Se=!0,X=W,Z={[ie.id]:L}}else if(X&&!r.hydrationData&&Ir(X,g,r.history.location.pathname).active&&(X=null),X)if(X.some(L=>L.route.lazy))Se=!1;else if(!X.some(L=>L.route.loader))Se=!0;else{let L=r.hydrationData?r.hydrationData.loaderData:null,W=r.hydrationData?r.hydrationData.errors:null;if(W){let ie=X.findIndex(ge=>W[ge.route.id]!==void 0);Se=X.slice(0,ie+1).every(ge=>!cf(ge.route,L,W))}else Se=X.every(ie=>!cf(ie.route,L,W))}else{Se=!1,X=[];let L=Ir(null,g,r.history.location.pathname);L.active&&L.matches&&(ce=!0,X=L.matches)}let pe,I={historyAction:r.history.action,location:r.history.location,matches:X,initialized:Se,navigation:Jd,restoreScrollPosition:r.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:r.hydrationData&&r.hydrationData.loaderData||{},actionData:r.hydrationData&&r.hydrationData.actionData||null,errors:r.hydrationData&&r.hydrationData.errors||Z,fetchers:new Map,blockers:new Map},Me="POP",Ie=!1,Ye,Ct=!1,ct=new Map,jt=null,nt=!1,yt=!1,vt=new Set,te=new Map,je=0,Ce=-1,Ze=new Map,O=new Set,ue=new Map,Ne=new Map,ve=new Set,De=new Map,at,Ke=null;function sn(){if(R=r.history.listen(({action:L,location:W,delta:ie})=>{if(at){at(),at=void 0;return}ln(De.size===0||ie!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ge=gr({currentLocation:I.location,nextLocation:W,historyAction:L});if(ge&&ie!=null){let he=new Promise(Te=>{at=Te});r.history.go(ie*-1),_n(ge,{state:"blocked",location:W,proceed(){_n(ge,{state:"proceeding",proceed:void 0,reset:void 0,location:W}),he.then(()=>r.history.go(ie))},reset(){let Te=new Map(I.blockers);Te.set(ge,to),Vt({blockers:Te})}});return}return ar(L,W)}),l){ax(i,ct);let L=()=>ix(i,ct);i.addEventListener("pagehide",L),jt=()=>i.removeEventListener("pagehide",L)}return I.initialized||ar("POP",I.location,{initialHydration:!0}),pe}function Ot(){R&&R(),jt&&jt(),A.clear(),Ye&&Ye.abort(),I.fetchers.forEach((L,W)=>Yt(W)),I.blockers.forEach((L,W)=>ze(W))}function Ue(L){return A.add(L),()=>A.delete(L)}function Vt(L,W={}){L.matches&&(L.matches=L.matches.map(he=>{let Te=h[he.route.id],He=he.route;return He.element!==Te.element||He.errorElement!==Te.errorElement||He.hydrateFallbackElement!==Te.hydrateFallbackElement?{...he,route:Te}:he})),I={...I,...L};let ie=[],ge=[];I.fetchers.forEach((he,Te)=>{he.state==="idle"&&(ve.has(Te)?ie.push(Te):ge.push(Te))}),ve.forEach(he=>{!I.fetchers.has(he)&&!te.has(he)&&ie.push(he)}),[...A].forEach(he=>he(I,{deletedFetchers:ie,viewTransitionOpts:W.viewTransitionOpts,flushSync:W.flushSync===!0})),ie.forEach(he=>Yt(he)),ge.forEach(he=>I.fetchers.delete(he))}function An(L,W,{flushSync:ie}={}){let ge=I.actionData!=null&&I.navigation.formMethod!=null&&tr(I.navigation.formMethod)&&I.navigation.state==="loading"&&L.state?._isRedirect!==!0,he;W.actionData?Object.keys(W.actionData).length>0?he=W.actionData:he=null:ge?he=I.actionData:he=null;let Te=W.loaderData?ep(I.loaderData,W.loaderData,W.matches||[],W.errors):I.loaderData,He=I.blockers;He.size>0&&(He=new Map(He),He.forEach((Be,Le)=>He.set(Le,to)));let ke=nt?!1:Oa(L,W.matches||I.matches),Pe=Ie===!0||I.navigation.formMethod!=null&&tr(I.navigation.formMethod)&&L.state?._isRedirect!==!0;b&&(g=b,b=void 0),nt||Me==="POP"||(Me==="PUSH"?r.history.push(L,L.state):Me==="REPLACE"&&r.history.replace(L,L.state));let Ge;if(Me==="POP"){let Be=ct.get(I.location.pathname);Be&&Be.has(L.pathname)?Ge={currentLocation:I.location,nextLocation:L}:ct.has(L.pathname)&&(Ge={currentLocation:L,nextLocation:I.location})}else if(Ct){let Be=ct.get(I.location.pathname);Be?Be.add(L.pathname):(Be=new Set([L.pathname]),ct.set(I.location.pathname,Be)),Ge={currentLocation:I.location,nextLocation:L}}Vt({...W,actionData:he,loaderData:Te,historyAction:Me,location:L,initialized:!0,navigation:Jd,revalidation:"idle",restoreScrollPosition:ke,preventScrollReset:Pe,blockers:He},{viewTransitionOpts:Ge,flushSync:ie===!0}),Me="POP",Ie=!1,Ct=!1,nt=!1,yt=!1,Ke?.resolve(),Ke=null}async function xt(L,W){if(typeof L=="number"){r.history.go(L);return}let ie=uf(I.location,I.matches,v,L,W?.fromRouteId,W?.relative),{path:ge,submission:he,error:Te}=V0(!1,ie,W),He=I.location,ke=uo(I.location,ge,W&&W.state);ke={...ke,...r.history.encodeLocation(ke)};let Pe=W&&W.replace!=null?W.replace:void 0,Ge="PUSH";Pe===!0?Ge="REPLACE":Pe===!1||he!=null&&tr(he.formMethod)&&he.formAction===I.location.pathname+I.location.search&&(Ge="REPLACE");let Be=W&&"preventScrollReset"in W?W.preventScrollReset===!0:void 0,Le=(W&&W.flushSync)===!0,tt=gr({currentLocation:He,nextLocation:ke,historyAction:Ge});if(tt){_n(tt,{state:"blocked",location:ke,proceed(){_n(tt,{state:"proceeding",proceed:void 0,reset:void 0,location:ke}),xt(L,W)},reset(){let ft=new Map(I.blockers);ft.set(tt,to),Vt({blockers:ft})}});return}await ar(Ge,ke,{submission:he,pendingError:Te,preventScrollReset:Be,replace:W&&W.replace,enableViewTransition:W&&W.viewTransition,flushSync:Le})}function Cr(){Ke||(Ke=lx()),Dr(),Vt({revalidation:"loading"});let L=Ke.promise;return I.navigation.state==="submitting"?L:I.navigation.state==="idle"?(ar(I.historyAction,I.location,{startUninterruptedRevalidation:!0}),L):(ar(Me||I.historyAction,I.navigation.location,{overrideNavigation:I.navigation,enableViewTransition:Ct===!0}),L)}async function ar(L,W,ie){Ye&&Ye.abort(),Ye=null,Me=L,nt=(ie&&ie.startUninterruptedRevalidation)===!0,Yr(I.location,I.matches),Ie=(ie&&ie.preventScrollReset)===!0,Ct=(ie&&ie.enableViewTransition)===!0;let ge=b||g,he=ie&&ie.overrideNavigation,Te=ie?.initialHydration&&I.matches&&I.matches.length>0&&!ce?I.matches:pi(ge,W,v),He=(ie&&ie.flushSync)===!0;if(Te&&I.initialized&&!yt&&Jv(I.location,W)&&!(ie&&ie.submission&&tr(ie.submission.formMethod))){An(W,{matches:Te},{flushSync:He});return}let ke=Ir(Te,ge,W.pathname);if(ke.active&&ke.matches&&(Te=ke.matches),!Te){let{error:Kt,notFoundMatches:Fe,route:Rt}=Lr(W.pathname);An(W,{matches:Fe,loaderData:{},errors:{[Rt.id]:Kt}},{flushSync:He});return}Ye=new AbortController;let Pe=Pl(r.history,W,Ye.signal,ie&&ie.submission),Ge=new Q0(r.unstable_getContext?await r.unstable_getContext():void 0),Be;if(ie&&ie.pendingError)Be=[Vi(Te).route.id,{type:"error",error:ie.pendingError}];else if(ie&&ie.submission&&tr(ie.submission.formMethod)){let Kt=await Or(Pe,W,ie.submission,Te,Ge,ke.active,ie&&ie.initialHydration===!0,{replace:ie.replace,flushSync:He});if(Kt.shortCircuited)return;if(Kt.pendingActionResult){let[Fe,Rt]=Kt.pendingActionResult;if(fr(Rt)&&fo(Rt.error)&&Rt.error.status===404){Ye=null,An(W,{matches:Kt.matches,loaderData:{},errors:{[Fe]:Rt.error}});return}}Te=Kt.matches||Te,Be=Kt.pendingActionResult,he=ef(W,ie.submission),He=!1,ke.active=!1,Pe=Pl(r.history,Pe.url,Pe.signal)}let{shortCircuited:Le,matches:tt,loaderData:ft,errors:kt}=await Xl(Pe,W,Te,Ge,ke.active,he,ie&&ie.submission,ie&&ie.fetcherSubmission,ie&&ie.replace,ie&&ie.initialHydration===!0,He,Be);Le||(Ye=null,An(W,{matches:tt||Te,...tp(Be),loaderData:ft,errors:kt}))}async function Or(L,W,ie,ge,he,Te,He,ke={}){Dr();let Pe=nx(W,ie);if(Vt({navigation:Pe},{flushSync:ke.flushSync===!0}),Te){let Le=await zr(ge,W.pathname,L.signal);if(Le.type==="aborted")return{shortCircuited:!0};if(Le.type==="error"){let tt=Vi(Le.partialMatches).route.id;return{matches:Le.partialMatches,pendingActionResult:[tt,{type:"error",error:Le.error}]}}else if(Le.matches)ge=Le.matches;else{let{notFoundMatches:tt,error:ft,route:kt}=Lr(W.pathname);return{matches:tt,pendingActionResult:[kt.id,{type:"error",error:ft}]}}}let Ge,Be=Lu(ge,W);if(!Be.route.action&&!Be.route.lazy)Ge={type:"error",error:Tr(405,{method:L.method,pathname:W.pathname,routeId:Be.route.id})};else{let Le=Ql(d,h,L,ge,Be,He?[]:s,he),tt=await $n(L,Le,he,null);if(Ge=tt[Be.route.id],!Ge){for(let ft of ge)if(tt[ft.route.id]){Ge=tt[ft.route.id];break}}if(L.signal.aborted)return{shortCircuited:!0}}if(Yi(Ge)){let Le;return ke&&ke.replace!=null?Le=ke.replace:Le=W0(Ge.response.headers.get("Location"),new URL(L.url),v)===I.location.pathname+I.location.search,await hr(L,Ge,!0,{submission:ie,replace:Le}),{shortCircuited:!0}}if(fr(Ge)){let Le=Vi(ge,Be.route.id);return(ke&&ke.replace)!==!0&&(Me="PUSH"),{matches:ge,pendingActionResult:[Le.route.id,Ge,Be.route.id]}}return{matches:ge,pendingActionResult:[Be.route.id,Ge]}}async function Xl(L,W,ie,ge,he,Te,He,ke,Pe,Ge,Be,Le){let tt=Te||ef(W,He),ft=He||ke||ap(tt),kt=!nt&&!Ge;if(he){if(kt){let Qt=qn(Le);Vt({navigation:tt,...Qt!==void 0?{actionData:Qt}:{}},{flushSync:Be})}let it=await zr(ie,W.pathname,L.signal);if(it.type==="aborted")return{shortCircuited:!0};if(it.type==="error"){let Qt=Vi(it.partialMatches).route.id;return{matches:it.partialMatches,loaderData:{},errors:{[Qt]:it.error}}}else if(it.matches)ie=it.matches;else{let{error:Qt,notFoundMatches:Pn,route:Kn}=Lr(W.pathname);return{matches:Pn,loaderData:{},errors:{[Kn.id]:Qt}}}}let Kt=b||g,{dsMatches:Fe,revalidatingFetchers:Rt}=Y0(L,ge,d,h,r.history,I,ie,ft,W,Ge?[]:s,Ge===!0,yt,vt,ve,ue,O,Kt,v,r.patchRoutesOnNavigation!=null,Le);if(Ce=++je,!r.dataStrategy&&!Fe.some(it=>it.shouldLoad)&&Rt.length===0){let it=pr();return An(W,{matches:ie,loaderData:{},errors:Le&&fr(Le[1])?{[Le[0]]:Le[1].error}:null,...tp(Le),...it?{fetchers:new Map(I.fetchers)}:{}},{flushSync:Be}),{shortCircuited:!0}}if(kt){let it={};if(!he){it.navigation=tt;let Qt=qn(Le);Qt!==void 0&&(it.actionData=Qt)}Rt.length>0&&(it.fetchers=Fl(Rt)),Vt(it,{flushSync:Be})}Rt.forEach(it=>{Hn(it.key),it.controller&&te.set(it.key,it.controller)});let hn=()=>Rt.forEach(it=>Hn(it.key));Ye&&Ye.signal.addEventListener("abort",hn);let{loaderResults:Cn,fetcherResults:on}=await bi(Fe,Rt,L,ge);if(L.signal.aborted)return{shortCircuited:!0};Ye&&Ye.signal.removeEventListener("abort",hn),Rt.forEach(it=>te.delete(it.key));let bt=_u(Cn);if(bt)return await hr(L,bt.result,!0,{replace:Pe}),{shortCircuited:!0};if(bt=_u(on),bt)return O.add(bt.key),await hr(L,bt.result,!0,{replace:Pe}),{shortCircuited:!0};let{loaderData:Xn,errors:mn}=J0(I,ie,Cn,Le,Rt,on);Ge&&I.errors&&(mn={...I.errors,...mn});let yr=pr(),On=Mr(Ce),Fn=yr||On||Rt.length>0;return{matches:ie,loaderData:Xn,errors:mn,...Fn?{fetchers:new Map(I.fetchers)}:{}}}function qn(L){if(L&&!fr(L[1]))return{[L[0]]:L[1].data};if(I.actionData)return Object.keys(I.actionData).length===0?null:I.actionData}function Fl(L){return L.forEach(W=>{let ie=I.fetchers.get(W.key),ge=no(void 0,ie?ie.data:void 0);I.fetchers.set(W.key,ge)}),new Map(I.fetchers)}async function Zi(L,W,ie,ge){Hn(L);let he=(ge&&ge.flushSync)===!0,Te=b||g,He=uf(I.location,I.matches,v,ie,W,ge?.relative),ke=pi(Te,He,v),Pe=Ir(ke,Te,He);if(Pe.active&&Pe.matches&&(ke=Pe.matches),!ke){Nt(L,W,Tr(404,{pathname:He}),{flushSync:he});return}let{path:Ge,submission:Be,error:Le}=V0(!0,He,ge);if(Le){Nt(L,W,Le,{flushSync:he});return}let tt=new Q0(r.unstable_getContext?await r.unstable_getContext():void 0),ft=(ge&&ge.preventScrollReset)===!0;if(Be&&tr(Be.formMethod)){await Ca(L,W,Ge,ke,tt,Pe.active,he,ft,Be);return}ue.set(L,{routeId:W,path:Ge}),await Sn(L,W,Ge,ke,tt,Pe.active,he,ft,Be)}async function Ca(L,W,ie,ge,he,Te,He,ke,Pe){Dr(),ue.delete(L);let Ge=I.fetchers.get(L);$t(L,rx(Pe,Ge),{flushSync:He});let Be=new AbortController,Le=Pl(r.history,ie,Be.signal,Pe);if(Te){let Dt=await zr(ge,new URL(Le.url).pathname,Le.signal,L);if(Dt.type==="aborted")return;if(Dt.type==="error"){Nt(L,W,Dt.error,{flushSync:He});return}else if(Dt.matches)ge=Dt.matches;else{Nt(L,W,Tr(404,{pathname:ie}),{flushSync:He});return}}let tt=Lu(ge,ie);if(!tt.route.action&&!tt.route.lazy){let Dt=Tr(405,{method:Pe.formMethod,pathname:ie,routeId:W});Nt(L,W,Dt,{flushSync:He});return}te.set(L,Be);let ft=je,kt=Ql(d,h,Le,ge,tt,s,he),Fe=(await $n(Le,kt,he,L))[tt.route.id];if(Le.signal.aborted){te.get(L)===Be&&te.delete(L);return}if(ve.has(L)){if(Yi(Fe)||fr(Fe)){$t(L,hi(void 0));return}}else{if(Yi(Fe))if(te.delete(L),Ce>ft){$t(L,hi(void 0));return}else return O.add(L),$t(L,no(Pe)),hr(Le,Fe,!1,{fetcherSubmission:Pe,preventScrollReset:ke});if(fr(Fe)){Nt(L,W,Fe.error);return}}let Rt=I.navigation.location||I.location,hn=Pl(r.history,Rt,Be.signal),Cn=b||g,on=I.navigation.state!=="idle"?pi(Cn,I.navigation.location,v):I.matches;gt(on,"Didn't find any matches after fetcher action");let bt=++je;Ze.set(L,bt);let Xn=no(Pe,Fe.data);I.fetchers.set(L,Xn);let{dsMatches:mn,revalidatingFetchers:yr}=Y0(hn,he,d,h,r.history,I,on,Pe,Rt,s,!1,yt,vt,ve,ue,O,Cn,v,r.patchRoutesOnNavigation!=null,[tt.route.id,Fe]);yr.filter(Dt=>Dt.key!==L).forEach(Dt=>{let kr=Dt.key,ut=I.fetchers.get(kr),Ei=no(void 0,ut?ut.data:void 0);I.fetchers.set(kr,Ei),Hn(kr),Dt.controller&&te.set(kr,Dt.controller)}),Vt({fetchers:new Map(I.fetchers)});let On=()=>yr.forEach(Dt=>Hn(Dt.key));Be.signal.addEventListener("abort",On);let{loaderResults:Fn,fetcherResults:it}=await bi(mn,yr,hn,he);if(Be.signal.aborted)return;if(Be.signal.removeEventListener("abort",On),Ze.delete(L),te.delete(L),yr.forEach(Dt=>te.delete(Dt.key)),I.fetchers.has(L)){let Dt=hi(Fe.data);I.fetchers.set(L,Dt)}let Qt=_u(Fn);if(Qt)return hr(hn,Qt.result,!1,{preventScrollReset:ke});if(Qt=_u(it),Qt)return O.add(Qt.key),hr(hn,Qt.result,!1,{preventScrollReset:ke});let{loaderData:Pn,errors:Kn}=J0(I,on,Fn,void 0,yr,it);Mr(bt),I.navigation.state==="loading"&&bt>Ce?(gt(Me,"Expected pending action"),Ye&&Ye.abort(),An(I.navigation.location,{matches:on,loaderData:Pn,errors:Kn,fetchers:new Map(I.fetchers)})):(Vt({errors:Kn,loaderData:ep(I.loaderData,Pn,on,Kn),fetchers:new Map(I.fetchers)}),yt=!1)}async function Sn(L,W,ie,ge,he,Te,He,ke,Pe){let Ge=I.fetchers.get(L);$t(L,no(Pe,Ge?Ge.data:void 0),{flushSync:He});let Be=new AbortController,Le=Pl(r.history,ie,Be.signal);if(Te){let Rt=await zr(ge,new URL(Le.url).pathname,Le.signal,L);if(Rt.type==="aborted")return;if(Rt.type==="error"){Nt(L,W,Rt.error,{flushSync:He});return}else if(Rt.matches)ge=Rt.matches;else{Nt(L,W,Tr(404,{pathname:ie}),{flushSync:He});return}}let tt=Lu(ge,ie);te.set(L,Be);let ft=je,kt=Ql(d,h,Le,ge,tt,s,he),Fe=(await $n(Le,kt,he,L))[tt.route.id];if(te.get(L)===Be&&te.delete(L),!Le.signal.aborted){if(ve.has(L)){$t(L,hi(void 0));return}if(Yi(Fe))if(Ce>ft){$t(L,hi(void 0));return}else{O.add(L),await hr(Le,Fe,!1,{preventScrollReset:ke});return}if(fr(Fe)){Nt(L,W,Fe.error);return}$t(L,hi(Fe.data))}}async function hr(L,W,ie,{submission:ge,fetcherSubmission:he,preventScrollReset:Te,replace:He}={}){W.response.headers.has("X-Remix-Revalidate")&&(yt=!0);let ke=W.response.headers.get("Location");gt(ke,"Expected a Location header on the redirect Response"),ke=W0(ke,new URL(L.url),v);let Pe=uo(I.location,ke,{_isRedirect:!0});if(l){let kt=!1;if(W.response.headers.has("X-Remix-Reload-Document"))kt=!0;else if(Nf(ke)){const Kt=Mp(ke,!0);kt=Kt.origin!==i.location.origin||Ar(Kt.pathname,v)==null}if(kt){He?i.location.replace(ke):i.location.assign(ke);return}}Ye=null;let Ge=He===!0||W.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Be,formAction:Le,formEncType:tt}=I.navigation;!ge&&!he&&Be&&Le&&tt&&(ge=ap(I.navigation));let ft=ge||he;if(qv.has(W.response.status)&&ft&&tr(ft.formMethod))await ar(Ge,Pe,{submission:{...ft,formAction:ke},preventScrollReset:Te||Ie,enableViewTransition:ie?Ct:void 0});else{let kt=ef(Pe,ge);await ar(Ge,Pe,{overrideNavigation:kt,fetcherSubmission:he,preventScrollReset:Te||Ie,enableViewTransition:ie?Ct:void 0})}}async function $n(L,W,ie,ge){let he,Te={};try{he=await $v(y,L,W,ge,ie,!1)}catch(He){return W.filter(ke=>ke.shouldLoad).forEach(ke=>{Te[ke.route.id]={type:"error",error:He}}),Te}if(L.signal.aborted)return Te;for(let[He,ke]of Object.entries(he))if(ex(ke)){let Pe=ke.result;Te[He]={type:"redirect",response:Wv(Pe,L,He,W,v)}}else Te[He]=await Fv(ke);return Te}async function bi(L,W,ie,ge){let he=$n(ie,L,ge,null),Te=Promise.all(W.map(async Pe=>{if(Pe.matches&&Pe.match&&Pe.request&&Pe.controller){let Be=(await $n(Pe.request,Pe.matches,ge,Pe.key))[Pe.match.route.id];return{[Pe.key]:Be}}else return Promise.resolve({[Pe.key]:{type:"error",error:Tr(404,{pathname:Pe.path})}})})),He=await he,ke=(await Te).reduce((Pe,Ge)=>Object.assign(Pe,Ge),{});return{loaderResults:He,fetcherResults:ke}}function Dr(){yt=!0,ue.forEach((L,W)=>{te.has(W)&&vt.add(W),Hn(W)})}function $t(L,W,ie={}){I.fetchers.set(L,W),Vt({fetchers:new Map(I.fetchers)},{flushSync:(ie&&ie.flushSync)===!0})}function Nt(L,W,ie,ge={}){let he=Vi(I.matches,W);Yt(L),Vt({errors:{[he.route.id]:ie},fetchers:new Map(I.fetchers)},{flushSync:(ge&&ge.flushSync)===!0})}function Bn(L){return Ne.set(L,(Ne.get(L)||0)+1),ve.has(L)&&ve.delete(L),I.fetchers.get(L)||Bv}function Yt(L){let W=I.fetchers.get(L);te.has(L)&&!(W&&W.state==="loading"&&Ze.has(L))&&Hn(L),ue.delete(L),Ze.delete(L),O.delete(L),ve.delete(L),vt.delete(L),I.fetchers.delete(L)}function wi(L){let W=(Ne.get(L)||0)-1;W<=0?(Ne.delete(L),ve.add(L)):Ne.set(L,W),Vt({fetchers:new Map(I.fetchers)})}function Hn(L){let W=te.get(L);W&&(W.abort(),te.delete(L))}function mr(L){for(let W of L){let ie=Bn(W),ge=hi(ie.data);I.fetchers.set(W,ge)}}function pr(){let L=[],W=!1;for(let ie of O){let ge=I.fetchers.get(ie);gt(ge,`Expected fetcher: ${ie}`),ge.state==="loading"&&(O.delete(ie),L.push(ie),W=!0)}return mr(L),W}function Mr(L){let W=[];for(let[ie,ge]of Ze)if(ge<L){let he=I.fetchers.get(ie);gt(he,`Expected fetcher: ${ie}`),he.state==="loading"&&(Hn(ie),Ze.delete(ie),W.push(ie))}return mr(W),W.length>0}function fn(L,W){let ie=I.blockers.get(L)||to;return De.get(L)!==W&&De.set(L,W),ie}function ze(L){I.blockers.delete(L),De.delete(L)}function _n(L,W){let ie=I.blockers.get(L)||to;gt(ie.state==="unblocked"&&W.state==="blocked"||ie.state==="blocked"&&W.state==="blocked"||ie.state==="blocked"&&W.state==="proceeding"||ie.state==="blocked"&&W.state==="unblocked"||ie.state==="proceeding"&&W.state==="unblocked",`Invalid blocker state transition: ${ie.state} -> ${W.state}`);let ge=new Map(I.blockers);ge.set(L,W),Vt({blockers:ge})}function gr({currentLocation:L,nextLocation:W,historyAction:ie}){if(De.size===0)return;De.size>1&&ln(!1,"A router only supports one blocker at a time");let ge=Array.from(De.entries()),[he,Te]=ge[ge.length-1],He=I.blockers.get(he);if(!(He&&He.state==="proceeding")&&Te({currentLocation:L,nextLocation:W,historyAction:ie}))return he}function Lr(L){let W=Tr(404,{pathname:L}),ie=b||g,{matches:ge,route:he}=np(ie);return{notFoundMatches:ge,route:he,error:W}}function _e(L,W,ie){if(B=L,D=W,k=ie||null,!Q&&I.navigation===Jd){Q=!0;let ge=Oa(I.location,I.matches);ge!=null&&Vt({restoreScrollPosition:ge})}return()=>{B=null,D=null,k=null}}function Vr(L,W){return k&&k(L,W.map(ge=>pv(ge,I.loaderData)))||L.key}function Yr(L,W){if(B&&D){let ie=Vr(L,W);B[ie]=D()}}function Oa(L,W){if(B){let ie=Vr(L,W),ge=B[ie];if(typeof ge=="number")return ge}return null}function Ir(L,W,ie){if(r.patchRoutesOnNavigation)if(L){if(Object.keys(L[0].params).length>0)return{active:!0,matches:Mu(W,ie,v,!0)}}else return{active:!0,matches:Mu(W,ie,v,!0)||[]};return{active:!1,matches:null}}async function zr(L,W,ie,ge){if(!r.patchRoutesOnNavigation)return{type:"success",matches:L};let he=L;for(;;){let Te=b==null,He=b||g,ke=h;try{await r.patchRoutesOnNavigation({signal:ie,path:W,matches:he,fetcherKey:ge,patch:(Be,Le)=>{ie.aborted||I0(Be,Le,He,ke,d,!1)}})}catch(Be){return{type:"error",error:Be,partialMatches:he}}finally{Te&&!ie.aborted&&(g=[...g])}if(ie.aborted)return{type:"aborted"};let Pe=pi(He,W,v);if(Pe)return{type:"success",matches:Pe};let Ge=Mu(He,W,v,!0);if(!Ge||he.length===Ge.length&&he.every((Be,Le)=>Be.route.id===Ge[Le].route.id))return{type:"success",matches:null};he=Ge}}function Si(L){h={},b=co(L,d,void 0,h)}function ji(L,W,ie=!1){let ge=b==null;I0(L,W,b||g,h,d,ie),ge&&(g=[...g],Vt({}))}return pe={get basename(){return v},get future(){return j},get state(){return I},get routes(){return g},get window(){return i},initialize:sn,subscribe:Ue,enableScrollRestoration:_e,navigate:xt,fetch:Zi,revalidate:Cr,createHref:L=>r.history.createHref(L),encodeLocation:L=>r.history.encodeLocation(L),getFetcher:Bn,deleteFetcher:wi,dispose:Ot,getBlocker:fn,deleteBlocker:ze,patchRoutes:ji,_internalFetchControllers:te,_internalSetRoutes:Si,_internalSetStateDoNotUseOrYouWillBreakYourApp(L){Vt(L)}},pe}function Qv(r){return r!=null&&("formData"in r&&r.formData!=null||"body"in r&&r.body!==void 0)}function uf(r,i,l,s,d,h){let g,b;if(d){g=[];for(let y of i)if(g.push(y),y.route.id===d){b=y;break}}else g=i,b=i[i.length-1];let v=Ef(s||".",jf(g),Ar(r.pathname,l)||r.pathname,h==="path");if(s==null&&(v.search=r.search,v.hash=r.hash),(s==null||s===""||s===".")&&b){let y=Rf(v.search);if(b.route.index&&!y)v.search=v.search?v.search.replace(/^\?/,"?index&"):"?index";else if(!b.route.index&&y){let j=new URLSearchParams(v.search),R=j.getAll("index");j.delete("index"),R.filter(B=>B).forEach(B=>j.append("index",B));let A=j.toString();v.search=A?`?${A}`:""}}return l!=="/"&&(v.pathname=Av({basename:l,pathname:v.pathname})),vi(v)}function V0(r,i,l){if(!l||!Qv(l))return{path:i};if(l.formMethod&&!tx(l.formMethod))return{path:i,error:Tr(405,{method:l.formMethod})};let s=()=>({path:i,error:Tr(400,{type:"invalid-body"})}),h=(l.formMethod||"get").toUpperCase(),g=Vp(i);if(l.body!==void 0){if(l.formEncType==="text/plain"){if(!tr(h))return s();let R=typeof l.body=="string"?l.body:l.body instanceof FormData||l.body instanceof URLSearchParams?Array.from(l.body.entries()).reduce((A,[B,k])=>`${A}${B}=${k}
`,""):String(l.body);return{path:i,submission:{formMethod:h,formAction:g,formEncType:l.formEncType,formData:void 0,json:void 0,text:R}}}else if(l.formEncType==="application/json"){if(!tr(h))return s();try{let R=typeof l.body=="string"?JSON.parse(l.body):l.body;return{path:i,submission:{formMethod:h,formAction:g,formEncType:l.formEncType,formData:void 0,json:R,text:void 0}}}catch{return s()}}}gt(typeof FormData=="function","FormData is not available in this environment");let b,v;if(l.formData)b=ff(l.formData),v=l.formData;else if(l.body instanceof FormData)b=ff(l.body),v=l.body;else if(l.body instanceof URLSearchParams)b=l.body,v=Z0(b);else if(l.body==null)b=new URLSearchParams,v=new FormData;else try{b=new URLSearchParams(l.body),v=Z0(b)}catch{return s()}let y={formMethod:h,formAction:g,formEncType:l&&l.formEncType||"application/x-www-form-urlencoded",formData:v,json:void 0,text:void 0};if(tr(y.formMethod))return{path:i,submission:y};let j=xi(i);return r&&j.search&&Rf(j.search)&&b.append("index",""),j.search=`?${b}`,{path:vi(j),submission:y}}function Y0(r,i,l,s,d,h,g,b,v,y,j,R,A,B,k,D,Q,X,ce,Z){let Se=Z?fr(Z[1])?Z[1].error:Z[1].data:void 0,pe=d.createURL(h.location),I=d.createURL(v),Me;if(j&&h.errors){let nt=Object.keys(h.errors)[0];Me=g.findIndex(yt=>yt.route.id===nt)}else if(Z&&fr(Z[1])){let nt=Z[0];Me=g.findIndex(yt=>yt.route.id===nt)-1}let Ie=Z?Z[1].statusCode:void 0,Ye=Ie&&Ie>=400,Ct={currentUrl:pe,currentParams:h.matches[0]?.params||{},nextUrl:I,nextParams:g[0].params,...b,actionResult:Se,actionStatus:Ie},ct=g.map((nt,yt)=>{let{route:vt}=nt,te=null;if(Me!=null&&yt>Me?te=!1:vt.lazy?te=!0:vt.loader==null?te=!1:j?te=cf(vt,h.loaderData,h.errors):Gv(h.loaderData,h.matches[yt],nt)&&(te=!0),te!==null)return df(l,s,r,nt,y,i,te);let je=Ye?!1:R||pe.pathname+pe.search===I.pathname+I.search||pe.search!==I.search||Vv(h.matches[yt],nt),Ce={...Ct,defaultShouldRevalidate:je},Ze=Gu(nt,Ce);return df(l,s,r,nt,y,i,Ze,Ce)}),jt=[];return k.forEach((nt,yt)=>{if(j||!g.some(Ne=>Ne.route.id===nt.routeId)||B.has(yt))return;let vt=h.fetchers.get(yt),te=vt&&vt.state!=="idle"&&vt.data===void 0,je=pi(Q,nt.path,X);if(!je){if(ce&&te)return;jt.push({key:yt,routeId:nt.routeId,path:nt.path,matches:null,match:null,request:null,controller:null});return}if(D.has(yt))return;let Ce=Lu(je,nt.path),Ze=new AbortController,O=Pl(d,nt.path,Ze.signal),ue=null;if(A.has(yt))A.delete(yt),ue=Ql(l,s,O,je,Ce,y,i);else if(te)R&&(ue=Ql(l,s,O,je,Ce,y,i));else{let Ne={...Ct,defaultShouldRevalidate:Ye?!1:R};Gu(Ce,Ne)&&(ue=Ql(l,s,O,je,Ce,y,i,Ne))}ue&&jt.push({key:yt,routeId:nt.routeId,path:nt.path,matches:ue,match:Ce,request:O,controller:Ze})}),{dsMatches:ct,revalidatingFetchers:jt}}function cf(r,i,l){if(r.lazy)return!0;if(!r.loader)return!1;let s=i!=null&&r.id in i,d=l!=null&&l[r.id]!==void 0;return!s&&d?!1:typeof r.loader=="function"&&r.loader.hydrate===!0?!0:!s&&!d}function Gv(r,i,l){let s=!i||l.route.id!==i.route.id,d=!r.hasOwnProperty(l.route.id);return s||d}function Vv(r,i){let l=r.route.path;return r.pathname!==i.pathname||l!=null&&l.endsWith("*")&&r.params["*"]!==i.params["*"]}function Gu(r,i){if(r.route.shouldRevalidate){let l=r.route.shouldRevalidate(i);if(typeof l=="boolean")return l}return i.defaultShouldRevalidate}function I0(r,i,l,s,d,h){let g;if(r){let y=s[r];gt(y,`No route found to patch children into: routeId = ${r}`),y.children||(y.children=[]),g=y.children}else g=l;let b=[],v=[];if(i.forEach(y=>{let j=g.find(R=>Hp(y,R));j?v.push({existingRoute:j,newRoute:y}):b.push(y)}),b.length>0){let y=co(b,d,[r||"_","patch",String(g?.length||"0")],s);g.push(...y)}if(h&&v.length>0)for(let y=0;y<v.length;y++){let{existingRoute:j,newRoute:R}=v[y],A=j,[B]=co([R],d,[],{},!0);Object.assign(A,{element:B.element?B.element:A.element,errorElement:B.errorElement?B.errorElement:A.errorElement,hydrateFallbackElement:B.hydrateFallbackElement?B.hydrateFallbackElement:A.hydrateFallbackElement})}}function Hp(r,i){return"id"in r&&"id"in i&&r.id===i.id?!0:r.index===i.index&&r.path===i.path&&r.caseSensitive===i.caseSensitive?(!r.children||r.children.length===0)&&(!i.children||i.children.length===0)?!0:r.children.every((l,s)=>i.children?.some(d=>Hp(l,d))):!1}var $0=new WeakMap,Pp=({key:r,route:i,manifest:l,mapRouteProperties:s})=>{let d=l[i.id];if(gt(d,"No route found in manifest"),!d.lazy||typeof d.lazy!="object")return;let h=d.lazy[r];if(!h)return;let g=$0.get(d);g||(g={},$0.set(d,g));let b=g[r];if(b)return b;let v=(async()=>{let y=dv(r),R=d[r]!==void 0&&r!=="hasErrorBoundary";if(y)ln(!y,"Route property "+r+" is not a supported lazy route property. This property will be ignored."),g[r]=Promise.resolve();else if(R)ln(!1,`Route "${d.id}" has a static property "${r}" defined. The lazy property will be ignored.`);else{let A=await h();A!=null&&(Object.assign(d,{[r]:A}),Object.assign(d,s(d)))}typeof d.lazy=="object"&&(d.lazy[r]=void 0,Object.values(d.lazy).every(A=>A===void 0)&&(d.lazy=void 0))})();return g[r]=v,v},X0=new WeakMap;function Yv(r,i,l,s,d){let h=l[r.id];if(gt(h,"No route found in manifest"),!r.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof r.lazy=="function"){let j=X0.get(h);if(j)return{lazyRoutePromise:j,lazyHandlerPromise:j};let R=(async()=>{gt(typeof r.lazy=="function","No lazy route function found");let A=await r.lazy(),B={};for(let k in A){let D=A[k];if(D===void 0)continue;let Q=hv(k),ce=h[k]!==void 0&&k!=="hasErrorBoundary";Q?ln(!Q,"Route property "+k+" is not a supported property to be returned from a lazy route function. This property will be ignored."):ce?ln(!ce,`Route "${h.id}" has a static property "${k}" defined but its lazy function is also returning a value for this property. The lazy route property "${k}" will be ignored.`):B[k]=D}Object.assign(h,B),Object.assign(h,{...s(h),lazy:void 0})})();return X0.set(h,R),R.catch(()=>{}),{lazyRoutePromise:R,lazyHandlerPromise:R}}let g=Object.keys(r.lazy),b=[],v;for(let j of g){if(d&&d.includes(j))continue;let R=Pp({key:j,route:r,manifest:l,mapRouteProperties:s});R&&(b.push(R),j===i&&(v=R))}let y=b.length>0?Promise.all(b).then(()=>{}):void 0;return y?.catch(()=>{}),v?.catch(()=>{}),{lazyRoutePromise:y,lazyHandlerPromise:v}}async function F0(r){let i=r.matches.filter(d=>d.shouldLoad),l={};return(await Promise.all(i.map(d=>d.resolve()))).forEach((d,h)=>{l[i[h].route.id]=d}),l}async function Iv(r){return r.matches.some(i=>i.route.unstable_middleware)?Kp(r,!1,()=>F0(r),(i,l)=>({[l]:{type:"error",result:i}})):F0(r)}async function Kp(r,i,l,s){let{matches:d,request:h,params:g,context:b}=r,v={handlerResult:void 0};try{let y=d.flatMap(R=>R.route.unstable_middleware?R.route.unstable_middleware.map(A=>[R.route.id,A]):[]),j=await Qp({request:h,params:g,context:b},y,i,v,l);return i?j:v.handlerResult}catch(y){if(!v.middlewareError)throw y;let j=await s(v.middlewareError.error,v.middlewareError.routeId);return v.handlerResult?Object.assign(v.handlerResult,j):j}}async function Qp(r,i,l,s,d,h=0){let{request:g}=r;if(g.signal.aborted)throw g.signal.reason?g.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${g.method} ${g.url}`);let b=i[h];if(!b)return s.handlerResult=await d(),s.handlerResult;let[v,y]=b,j=!1,R,A=async()=>{if(j)throw new Error("You may only call `next()` once per middleware");j=!0,await Qp(r,i,l,s,d,h+1)};try{let B=await y({request:r.request,params:r.params,context:r.context},A);return j?B===void 0?R:B:A()}catch(B){throw s.middlewareError?s.middlewareError.error!==B&&(s.middlewareError={routeId:v,error:B}):s.middlewareError={routeId:v,error:B},B}}function Gp(r,i,l,s,d){let h=Pp({key:"unstable_middleware",route:s.route,manifest:i,mapRouteProperties:r}),g=Yv(s.route,tr(l.method)?"action":"loader",i,r,d);return{middleware:h,route:g.lazyRoutePromise,handler:g.lazyHandlerPromise}}function df(r,i,l,s,d,h,g,b=null){let v=!1,y=Gp(r,i,l,s,d);return{...s,_lazyPromises:y,shouldLoad:g,unstable_shouldRevalidateArgs:b,unstable_shouldCallHandler(j){return v=!0,b?typeof j=="boolean"?Gu(s,{...b,defaultShouldRevalidate:j}):Gu(s,b):g},resolve(j){return v||g||j&&!tr(l.method)&&(s.route.lazy||s.route.loader)?Xv({request:l,match:s,lazyHandlerPromise:y?.handler,lazyRoutePromise:y?.route,handlerOverride:j,scopedContext:h}):Promise.resolve({type:"data",result:void 0})}}}function Ql(r,i,l,s,d,h,g,b=null){return s.map(v=>v.route.id!==d.route.id?{...v,shouldLoad:!1,unstable_shouldRevalidateArgs:b,unstable_shouldCallHandler:()=>!1,_lazyPromises:Gp(r,i,l,v,h),resolve:()=>Promise.resolve({type:"data",result:void 0})}:df(r,i,l,v,h,g,!0,b))}async function $v(r,i,l,s,d,h){l.some(y=>y._lazyPromises?.middleware)&&await Promise.all(l.map(y=>y._lazyPromises?.middleware));let g={request:i,params:l[0].params,context:d,matches:l},v=await r({...g,fetcherKey:s,unstable_runClientMiddleware:y=>{let j=g;return Kp(j,!1,()=>y({...j,fetcherKey:s,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(R,A)=>({[A]:{type:"error",result:R}}))}});try{await Promise.all(l.flatMap(y=>[y._lazyPromises?.handler,y._lazyPromises?.route]))}catch{}return v}async function Xv({request:r,match:i,lazyHandlerPromise:l,lazyRoutePromise:s,handlerOverride:d,scopedContext:h}){let g,b,v=tr(r.method),y=v?"action":"loader",j=R=>{let A,B=new Promise((Q,X)=>A=X);b=()=>A(),r.signal.addEventListener("abort",b);let k=Q=>typeof R!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${y}" [routeId: ${i.route.id}]`)):R({request:r,params:i.params,context:h},...Q!==void 0?[Q]:[]),D=(async()=>{try{return{type:"data",result:await(d?d(X=>k(X)):k())}}catch(Q){return{type:"error",result:Q}}})();return Promise.race([D,B])};try{let R=v?i.route.action:i.route.loader;if(l||s)if(R){let A,[B]=await Promise.all([j(R).catch(k=>{A=k}),l,s]);if(A!==void 0)throw A;g=B}else{await l;let A=v?i.route.action:i.route.loader;if(A)[g]=await Promise.all([j(A),s]);else if(y==="action"){let B=new URL(r.url),k=B.pathname+B.search;throw Tr(405,{method:r.method,pathname:k,routeId:i.route.id})}else return{type:"data",result:void 0}}else if(R)g=await j(R);else{let A=new URL(r.url),B=A.pathname+A.search;throw Tr(404,{pathname:B})}}catch(R){return{type:"error",result:R}}finally{b&&r.signal.removeEventListener("abort",b)}return g}async function Fv(r){let{result:i,type:l}=r;if(Yp(i)){let s;try{let d=i.headers.get("Content-Type");d&&/\bapplication\/json\b/.test(d)?i.body==null?s=null:s=await i.json():s=await i.text()}catch(d){return{type:"error",error:d}}return l==="error"?{type:"error",error:new Qu(i.status,i.statusText,s),statusCode:i.status,headers:i.headers}:{type:"data",data:s,statusCode:i.status,headers:i.headers}}return l==="error"?rp(i)?i.data instanceof Error?{type:"error",error:i.data,statusCode:i.init?.status,headers:i.init?.headers?new Headers(i.init.headers):void 0}:{type:"error",error:new Qu(i.init?.status||500,void 0,i.data),statusCode:fo(i)?i.status:void 0,headers:i.init?.headers?new Headers(i.init.headers):void 0}:{type:"error",error:i,statusCode:fo(i)?i.status:void 0}:rp(i)?{type:"data",data:i.data,statusCode:i.init?.status,headers:i.init?.headers?new Headers(i.init.headers):void 0}:{type:"data",data:i}}function Wv(r,i,l,s,d){let h=r.headers.get("Location");if(gt(h,"Redirects returned/thrown from loaders/actions must have a Location header"),!Nf(h)){let g=s.slice(0,s.findIndex(b=>b.route.id===l)+1);h=uf(new URL(i.url),g,d,h),r.headers.set("Location",h)}return r}function W0(r,i,l){if(Nf(r)){let s=r,d=s.startsWith("//")?new URL(i.protocol+s):new URL(s),h=Ar(d.pathname,l)!=null;if(d.origin===i.origin&&h)return d.pathname+d.search+d.hash}return r}function Pl(r,i,l,s){let d=r.createURL(Vp(i)).toString(),h={signal:l};if(s&&tr(s.formMethod)){let{formMethod:g,formEncType:b}=s;h.method=g.toUpperCase(),b==="application/json"?(h.headers=new Headers({"Content-Type":b}),h.body=JSON.stringify(s.json)):b==="text/plain"?h.body=s.text:b==="application/x-www-form-urlencoded"&&s.formData?h.body=ff(s.formData):h.body=s.formData}return new Request(d,h)}function ff(r){let i=new URLSearchParams;for(let[l,s]of r.entries())i.append(l,typeof s=="string"?s:s.name);return i}function Z0(r){let i=new FormData;for(let[l,s]of r.entries())i.append(l,s);return i}function Zv(r,i,l,s=!1,d=!1){let h={},g=null,b,v=!1,y={},j=l&&fr(l[1])?l[1].error:void 0;return r.forEach(R=>{if(!(R.route.id in i))return;let A=R.route.id,B=i[A];if(gt(!Yi(B),"Cannot handle redirect results in processLoaderData"),fr(B)){let k=B.error;if(j!==void 0&&(k=j,j=void 0),g=g||{},d)g[A]=k;else{let D=Vi(r,A);g[D.route.id]==null&&(g[D.route.id]=k)}s||(h[A]=Bp),v||(v=!0,b=fo(B.error)?B.error.status:500),B.headers&&(y[A]=B.headers)}else h[A]=B.data,B.statusCode&&B.statusCode!==200&&!v&&(b=B.statusCode),B.headers&&(y[A]=B.headers)}),j!==void 0&&l&&(g={[l[0]]:j},l[2]&&(h[l[2]]=void 0)),{loaderData:h,errors:g,statusCode:b||200,loaderHeaders:y}}function J0(r,i,l,s,d,h){let{loaderData:g,errors:b}=Zv(i,l,s);return d.filter(v=>!v.matches||v.matches.some(y=>y.shouldLoad)).forEach(v=>{let{key:y,match:j,controller:R}=v,A=h[y];if(gt(A,"Did not find corresponding fetcher result"),!(R&&R.signal.aborted))if(fr(A)){let B=Vi(r.matches,j?.route.id);b&&b[B.route.id]||(b={...b,[B.route.id]:A.error}),r.fetchers.delete(y)}else if(Yi(A))gt(!1,"Unhandled fetcher revalidation redirect");else{let B=hi(A.data);r.fetchers.set(y,B)}}),{loaderData:g,errors:b}}function ep(r,i,l,s){let d=Object.entries(i).filter(([,h])=>h!==Bp).reduce((h,[g,b])=>(h[g]=b,h),{});for(let h of l){let g=h.route.id;if(!i.hasOwnProperty(g)&&r.hasOwnProperty(g)&&h.route.loader&&(d[g]=r[g]),s&&s.hasOwnProperty(g))break}return d}function tp(r){return r?fr(r[1])?{actionData:{}}:{actionData:{[r[0]]:r[1].data}}:{}}function Vi(r,i){return(i?r.slice(0,r.findIndex(s=>s.route.id===i)+1):[...r]).reverse().find(s=>s.route.hasErrorBoundary===!0)||r[0]}function np(r){let i=r.length===1?r[0]:r.find(l=>l.index||!l.path||l.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:i}],route:i}}function Tr(r,{pathname:i,routeId:l,method:s,type:d,message:h}={}){let g="Unknown Server Error",b="Unknown @remix-run/router error";return r===400?(g="Bad Request",s&&i&&l?b=`You made a ${s} request to "${i}" but did not provide a \`loader\` for route "${l}", so there is no way to handle the request.`:d==="invalid-body"&&(b="Unable to encode submission body")):r===403?(g="Forbidden",b=`Route "${l}" does not match URL "${i}"`):r===404?(g="Not Found",b=`No route matches URL "${i}"`):r===405&&(g="Method Not Allowed",s&&i&&l?b=`You made a ${s.toUpperCase()} request to "${i}" but did not provide an \`action\` for route "${l}", so there is no way to handle the request.`:s&&(b=`Invalid request method "${s.toUpperCase()}"`)),new Qu(r||500,g,new Error(b),!0)}function _u(r){let i=Object.entries(r);for(let l=i.length-1;l>=0;l--){let[s,d]=i[l];if(Yi(d))return{key:s,result:d}}}function Vp(r){let i=typeof r=="string"?xi(r):r;return vi({...i,hash:""})}function Jv(r,i){return r.pathname!==i.pathname||r.search!==i.search?!1:r.hash===""?i.hash!=="":r.hash===i.hash?!0:i.hash!==""}function ex(r){return Yp(r.result)&&Uv.has(r.result.status)}function fr(r){return r.type==="error"}function Yi(r){return(r&&r.type)==="redirect"}function rp(r){return typeof r=="object"&&r!=null&&"type"in r&&"data"in r&&"init"in r&&r.type==="DataWithResponseInit"}function Yp(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.headers=="object"&&typeof r.body<"u"}function tx(r){return kv.has(r.toUpperCase())}function tr(r){return Lv.has(r.toUpperCase())}function Rf(r){return new URLSearchParams(r).getAll("index").some(i=>i==="")}function Lu(r,i){let l=typeof i=="string"?xi(i).search:i.search;if(r[r.length-1].route.index&&Rf(l||""))return r[r.length-1];let s=kp(r);return s[s.length-1]}function ap(r){let{formMethod:i,formAction:l,formEncType:s,text:d,formData:h,json:g}=r;if(!(!i||!l||!s)){if(d!=null)return{formMethod:i,formAction:l,formEncType:s,formData:void 0,json:void 0,text:d};if(h!=null)return{formMethod:i,formAction:l,formEncType:s,formData:h,json:void 0,text:void 0};if(g!==void 0)return{formMethod:i,formAction:l,formEncType:s,formData:void 0,json:g,text:void 0}}}function ef(r,i){return i?{state:"loading",location:r,formMethod:i.formMethod,formAction:i.formAction,formEncType:i.formEncType,formData:i.formData,json:i.json,text:i.text}:{state:"loading",location:r,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function nx(r,i){return{state:"submitting",location:r,formMethod:i.formMethod,formAction:i.formAction,formEncType:i.formEncType,formData:i.formData,json:i.json,text:i.text}}function no(r,i){return r?{state:"loading",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:i}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:i}}function rx(r,i){return{state:"submitting",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:i?i.data:void 0}}function hi(r){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:r}}function ax(r,i){try{let l=r.sessionStorage.getItem(qp);if(l){let s=JSON.parse(l);for(let[d,h]of Object.entries(s||{}))h&&Array.isArray(h)&&i.set(d,new Set(h||[]))}}catch{}}function ix(r,i){if(i.size>0){let l={};for(let[s,d]of i)l[s]=[...d];try{r.sessionStorage.setItem(qp,JSON.stringify(l))}catch(s){ln(!1,`Failed to save applied view transitions in sessionStorage (${s}).`)}}}function lx(){let r,i,l=new Promise((s,d)=>{r=async h=>{s(h);try{await l}catch{}},i=async h=>{d(h);try{await l}catch{}}});return{promise:l,resolve:r,reject:i}}var Wi=z.createContext(null);Wi.displayName="DataRouter";var mo=z.createContext(null);mo.displayName="DataRouterState";z.createContext(!1);var Tf=z.createContext({isTransitioning:!1});Tf.displayName="ViewTransition";var Ip=z.createContext(new Map);Ip.displayName="Fetchers";var sx=z.createContext(null);sx.displayName="Await";var la=z.createContext(null);la.displayName="Navigation";var Xu=z.createContext(null);Xu.displayName="Location";var Kr=z.createContext({outlet:null,matches:[],isDataRoute:!1});Kr.displayName="Route";var Af=z.createContext(null);Af.displayName="RouteError";function ox(r,{relative:i}={}){gt(po(),"useHref() may be used only in the context of a <Router> component.");let{basename:l,navigator:s}=z.useContext(la),{hash:d,pathname:h,search:g}=go(r,{relative:i}),b=h;return l!=="/"&&(b=h==="/"?l:ia([l,h])),s.createHref({pathname:b,search:g,hash:d})}function po(){return z.useContext(Xu)!=null}function Qr(){return gt(po(),"useLocation() may be used only in the context of a <Router> component."),z.useContext(Xu).location}var $p="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Xp(r){z.useContext(la).static||z.useLayoutEffect(r)}function Fu(){let{isDataRoute:r}=z.useContext(Kr);return r?Ex():ux()}function ux(){gt(po(),"useNavigate() may be used only in the context of a <Router> component.");let r=z.useContext(Wi),{basename:i,navigator:l}=z.useContext(la),{matches:s}=z.useContext(Kr),{pathname:d}=Qr(),h=JSON.stringify(jf(s)),g=z.useRef(!1);return Xp(()=>{g.current=!0}),z.useCallback((v,y={})=>{if(ln(g.current,$p),!g.current)return;if(typeof v=="number"){l.go(v);return}let j=Ef(v,JSON.parse(h),d,y.relative==="path");r==null&&i!=="/"&&(j.pathname=j.pathname==="/"?i:ia([i,j.pathname])),(y.replace?l.replace:l.push)(j,y.state,y)},[i,l,h,d,r])}var cx=z.createContext(null);function dx(r){let i=z.useContext(Kr).outlet;return i&&z.createElement(cx.Provider,{value:r},i)}function fx(){let{matches:r}=z.useContext(Kr),i=r[r.length-1];return i?i.params:{}}function go(r,{relative:i}={}){let{matches:l}=z.useContext(Kr),{pathname:s}=Qr(),d=JSON.stringify(jf(l));return z.useMemo(()=>Ef(r,JSON.parse(d),s,i==="path"),[r,d,s,i])}function hx(r,i,l,s){gt(po(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:d}=z.useContext(la),{matches:h}=z.useContext(Kr),g=h[h.length-1],b=g?g.params:{},v=g?g.pathname:"/",y=g?g.pathnameBase:"/",j=g&&g.route;{let X=j&&j.path||"";Fp(v,!j||X.endsWith("*")||X.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${v}" (under <Route path="${X}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${X}"> to <Route path="${X==="/"?"*":`${X}/*`}">.`)}let R=Qr(),A;A=R;let B=A.pathname||"/",k=B;if(y!=="/"){let X=y.replace(/^\//,"").split("/");k="/"+B.replace(/^\//,"").split("/").slice(X.length).join("/")}let D=pi(r,{pathname:k});return ln(j||D!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),ln(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),vx(D&&D.map(X=>Object.assign({},X,{params:Object.assign({},b,X.params),pathname:ia([y,d.encodeLocation?d.encodeLocation(X.pathname).pathname:X.pathname]),pathnameBase:X.pathnameBase==="/"?y:ia([y,d.encodeLocation?d.encodeLocation(X.pathnameBase).pathname:X.pathnameBase])})),h,l,s)}function mx(){let r=jx(),i=fo(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),l=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",d={padding:"0.5rem",backgroundColor:s},h={padding:"2px 4px",backgroundColor:s},g=null;return console.error("Error handled by React Router default ErrorBoundary:",r),g=z.createElement(z.Fragment,null,z.createElement("p",null,"💿 Hey developer 👋"),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:h},"ErrorBoundary")," or"," ",z.createElement("code",{style:h},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},i),l?z.createElement("pre",{style:d},l):null,g)}var px=z.createElement(mx,null),gx=class extends z.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,i){return i.location!==r.location||i.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:i.error,location:i.location,revalidation:r.revalidation||i.revalidation}}componentDidCatch(r,i){console.error("React Router caught the following error during render",r,i)}render(){return this.state.error!==void 0?z.createElement(Kr.Provider,{value:this.props.routeContext},z.createElement(Af.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function yx({routeContext:r,match:i,children:l}){let s=z.useContext(Wi);return s&&s.static&&s.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=i.route.id),z.createElement(Kr.Provider,{value:r},l)}function vx(r,i=[],l=null,s=null){if(r==null){if(!l)return null;if(l.errors)r=l.matches;else if(i.length===0&&!l.initialized&&l.matches.length>0)r=l.matches;else return null}let d=r,h=l?.errors;if(h!=null){let v=d.findIndex(y=>y.route.id&&h?.[y.route.id]!==void 0);gt(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),d=d.slice(0,Math.min(d.length,v+1))}let g=!1,b=-1;if(l)for(let v=0;v<d.length;v++){let y=d[v];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(b=v),y.route.id){let{loaderData:j,errors:R}=l,A=y.route.loader&&!j.hasOwnProperty(y.route.id)&&(!R||R[y.route.id]===void 0);if(y.route.lazy||A){g=!0,b>=0?d=d.slice(0,b+1):d=[d[0]];break}}}return d.reduceRight((v,y,j)=>{let R,A=!1,B=null,k=null;l&&(R=h&&y.route.id?h[y.route.id]:void 0,B=y.route.errorElement||px,g&&(b<0&&j===0?(Fp("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,k=null):b===j&&(A=!0,k=y.route.hydrateFallbackElement||null)));let D=i.concat(d.slice(0,j+1)),Q=()=>{let X;return R?X=B:A?X=k:y.route.Component?X=z.createElement(y.route.Component,null):y.route.element?X=y.route.element:X=v,z.createElement(yx,{match:y,routeContext:{outlet:v,matches:D,isDataRoute:l!=null},children:X})};return l&&(y.route.ErrorBoundary||y.route.errorElement||j===0)?z.createElement(gx,{location:l.location,revalidation:l.revalidation,component:B,error:R,children:Q(),routeContext:{outlet:null,matches:D,isDataRoute:!0}}):Q()},null)}function _f(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xx(r){let i=z.useContext(Wi);return gt(i,_f(r)),i}function bx(r){let i=z.useContext(mo);return gt(i,_f(r)),i}function wx(r){let i=z.useContext(Kr);return gt(i,_f(r)),i}function Cf(r){let i=wx(r),l=i.matches[i.matches.length-1];return gt(l.route.id,`${r} can only be used on routes that contain a unique "id"`),l.route.id}function Sx(){return Cf("useRouteId")}function jx(){let r=z.useContext(Af),i=bx("useRouteError"),l=Cf("useRouteError");return r!==void 0?r:i.errors?.[l]}function Ex(){let{router:r}=xx("useNavigate"),i=Cf("useNavigate"),l=z.useRef(!1);return Xp(()=>{l.current=!0}),z.useCallback(async(d,h={})=>{ln(l.current,$p),l.current&&(typeof d=="number"?r.navigate(d):await r.navigate(d,{fromRouteId:i,...h}))},[r,i])}var ip={};function Fp(r,i,l){!i&&!ip[r]&&(ip[r]=!0,ln(!1,l))}var lp={};function sp(r,i){!r&&!lp[i]&&(lp[i]=!0,console.warn(i))}function Nx(r){let i={hasErrorBoundary:r.hasErrorBoundary||r.ErrorBoundary!=null||r.errorElement!=null};return r.Component&&(r.element&&ln(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(i,{element:z.createElement(r.Component),Component:void 0})),r.HydrateFallback&&(r.hydrateFallbackElement&&ln(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(i,{hydrateFallbackElement:z.createElement(r.HydrateFallback),HydrateFallback:void 0})),r.ErrorBoundary&&(r.errorElement&&ln(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(i,{errorElement:z.createElement(r.ErrorBoundary),ErrorBoundary:void 0})),i}var Rx=["HydrateFallback","hydrateFallbackElement"],Tx=class{constructor(){this.status="pending",this.promise=new Promise((r,i)=>{this.resolve=l=>{this.status==="pending"&&(this.status="resolved",r(l))},this.reject=l=>{this.status==="pending"&&(this.status="rejected",i(l))}})}};function Ax({router:r,flushSync:i}){let[l,s]=z.useState(r.state),[d,h]=z.useState(),[g,b]=z.useState({isTransitioning:!1}),[v,y]=z.useState(),[j,R]=z.useState(),[A,B]=z.useState(),k=z.useRef(new Map),D=z.useCallback((Z,{deletedFetchers:Se,flushSync:pe,viewTransitionOpts:I})=>{Z.fetchers.forEach((Ie,Ye)=>{Ie.data!==void 0&&k.current.set(Ye,Ie.data)}),Se.forEach(Ie=>k.current.delete(Ie)),sp(pe===!1||i!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let Me=r.window!=null&&r.window.document!=null&&typeof r.window.document.startViewTransition=="function";if(sp(I==null||Me,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!I||!Me){i&&pe?i(()=>s(Z)):z.startTransition(()=>s(Z));return}if(i&&pe){i(()=>{j&&(v&&v.resolve(),j.skipTransition()),b({isTransitioning:!0,flushSync:!0,currentLocation:I.currentLocation,nextLocation:I.nextLocation})});let Ie=r.window.document.startViewTransition(()=>{i(()=>s(Z))});Ie.finished.finally(()=>{i(()=>{y(void 0),R(void 0),h(void 0),b({isTransitioning:!1})})}),i(()=>R(Ie));return}j?(v&&v.resolve(),j.skipTransition(),B({state:Z,currentLocation:I.currentLocation,nextLocation:I.nextLocation})):(h(Z),b({isTransitioning:!0,flushSync:!1,currentLocation:I.currentLocation,nextLocation:I.nextLocation}))},[r.window,i,j,v]);z.useLayoutEffect(()=>r.subscribe(D),[r,D]),z.useEffect(()=>{g.isTransitioning&&!g.flushSync&&y(new Tx)},[g]),z.useEffect(()=>{if(v&&d&&r.window){let Z=d,Se=v.promise,pe=r.window.document.startViewTransition(async()=>{z.startTransition(()=>s(Z)),await Se});pe.finished.finally(()=>{y(void 0),R(void 0),h(void 0),b({isTransitioning:!1})}),R(pe)}},[d,v,r.window]),z.useEffect(()=>{v&&d&&l.location.key===d.location.key&&v.resolve()},[v,j,l.location,d]),z.useEffect(()=>{!g.isTransitioning&&A&&(h(A.state),b({isTransitioning:!0,flushSync:!1,currentLocation:A.currentLocation,nextLocation:A.nextLocation}),B(void 0))},[g.isTransitioning,A]);let Q=z.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:Z=>r.navigate(Z),push:(Z,Se,pe)=>r.navigate(Z,{state:Se,preventScrollReset:pe?.preventScrollReset}),replace:(Z,Se,pe)=>r.navigate(Z,{replace:!0,state:Se,preventScrollReset:pe?.preventScrollReset})}),[r]),X=r.basename||"/",ce=z.useMemo(()=>({router:r,navigator:Q,static:!1,basename:X}),[r,Q,X]);return z.createElement(z.Fragment,null,z.createElement(Wi.Provider,{value:ce},z.createElement(mo.Provider,{value:l},z.createElement(Ip.Provider,{value:k.current},z.createElement(Tf.Provider,{value:g},z.createElement(Dx,{basename:X,location:l.location,navigationType:l.historyAction,navigator:Q},z.createElement(_x,{routes:r.routes,future:r.future,state:l})))))),null)}var _x=z.memo(Cx);function Cx({routes:r,future:i,state:l}){return hx(r,void 0,l,i)}function Ox(r){return dx(r.context)}function Dx({basename:r="/",children:i=null,location:l,navigationType:s="POP",navigator:d,static:h=!1}){gt(!po(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let g=r.replace(/^\/*/,"/"),b=z.useMemo(()=>({basename:g,navigator:d,static:h,future:{}}),[g,d,h]);typeof l=="string"&&(l=xi(l));let{pathname:v="/",search:y="",hash:j="",state:R=null,key:A="default"}=l,B=z.useMemo(()=>{let k=Ar(v,g);return k==null?null:{location:{pathname:k,search:y,hash:j,state:R,key:A},navigationType:s}},[g,v,y,j,R,A,s]);return ln(B!=null,`<Router basename="${g}"> is not able to match the URL "${v}${y}${j}" because it does not start with the basename, so the <Router> won't render anything.`),B==null?null:z.createElement(la.Provider,{value:b},z.createElement(Xu.Provider,{children:i,value:B}))}var zu="get",ku="application/x-www-form-urlencoded";function Wu(r){return r!=null&&typeof r.tagName=="string"}function Mx(r){return Wu(r)&&r.tagName.toLowerCase()==="button"}function Lx(r){return Wu(r)&&r.tagName.toLowerCase()==="form"}function zx(r){return Wu(r)&&r.tagName.toLowerCase()==="input"}function kx(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Ux(r,i){return r.button===0&&(!i||i==="_self")&&!kx(r)}var Cu=null;function qx(){if(Cu===null)try{new FormData(document.createElement("form"),0),Cu=!1}catch{Cu=!0}return Cu}var Bx=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function tf(r){return r!=null&&!Bx.has(r)?(ln(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ku}"`),null):r}function Hx(r,i){let l,s,d,h,g;if(Lx(r)){let b=r.getAttribute("action");s=b?Ar(b,i):null,l=r.getAttribute("method")||zu,d=tf(r.getAttribute("enctype"))||ku,h=new FormData(r)}else if(Mx(r)||zx(r)&&(r.type==="submit"||r.type==="image")){let b=r.form;if(b==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let v=r.getAttribute("formaction")||b.getAttribute("action");if(s=v?Ar(v,i):null,l=r.getAttribute("formmethod")||b.getAttribute("method")||zu,d=tf(r.getAttribute("formenctype"))||tf(b.getAttribute("enctype"))||ku,h=new FormData(b,r),!qx()){let{name:y,type:j,value:R}=r;if(j==="image"){let A=y?`${y}.`:"";h.append(`${A}x`,"0"),h.append(`${A}y`,"0")}else y&&h.append(y,R)}}else{if(Wu(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');l=zu,s=null,d=ku,g=r}return h&&d==="text/plain"&&(g=h,h=void 0),{action:s,method:l.toLowerCase(),encType:d,formData:h,body:g}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Of(r,i){if(r===!1||r===null||typeof r>"u")throw new Error(i)}function Px(r,i,l){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${l}`:i&&Ar(s.pathname,i)==="/"?s.pathname=`${i.replace(/\/$/,"")}/_root.${l}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${l}`,s}async function Kx(r,i){if(r.id in i)return i[r.id];try{let l=await import(r.module);return i[r.id]=l,l}catch(l){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(l),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Qx(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function Gx(r,i,l){let s=await Promise.all(r.map(async d=>{let h=i.routes[d.route.id];if(h){let g=await Kx(h,l);return g.links?g.links():[]}return[]}));return $x(s.flat(1).filter(Qx).filter(d=>d.rel==="stylesheet"||d.rel==="preload").map(d=>d.rel==="stylesheet"?{...d,rel:"prefetch",as:"style"}:{...d,rel:"prefetch"}))}function op(r,i,l,s,d,h){let g=(v,y)=>l[y]?v.route.id!==l[y].route.id:!0,b=(v,y)=>l[y].pathname!==v.pathname||l[y].route.path?.endsWith("*")&&l[y].params["*"]!==v.params["*"];return h==="assets"?i.filter((v,y)=>g(v,y)||b(v,y)):h==="data"?i.filter((v,y)=>{let j=s.routes[v.route.id];if(!j||!j.hasLoader)return!1;if(g(v,y)||b(v,y))return!0;if(v.route.shouldRevalidate){let R=v.route.shouldRevalidate({currentUrl:new URL(d.pathname+d.search+d.hash,window.origin),currentParams:l[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:v.params,defaultShouldRevalidate:!0});if(typeof R=="boolean")return R}return!0}):[]}function Vx(r,i,{includeHydrateFallback:l}={}){return Yx(r.map(s=>{let d=i.routes[s.route.id];if(!d)return[];let h=[d.module];return d.clientActionModule&&(h=h.concat(d.clientActionModule)),d.clientLoaderModule&&(h=h.concat(d.clientLoaderModule)),l&&d.hydrateFallbackModule&&(h=h.concat(d.hydrateFallbackModule)),d.imports&&(h=h.concat(d.imports)),h}).flat(1))}function Yx(r){return[...new Set(r)]}function Ix(r){let i={},l=Object.keys(r).sort();for(let s of l)i[s]=r[s];return i}function $x(r,i){let l=new Set;return new Set(i),r.reduce((s,d)=>{let h=JSON.stringify(Ix(d));return l.has(h)||(l.add(h),s.push({key:h,link:d})),s},[])}function Wp(){let r=z.useContext(Wi);return Of(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Xx(){let r=z.useContext(mo);return Of(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Df=z.createContext(void 0);Df.displayName="FrameworkContext";function Zp(){let r=z.useContext(Df);return Of(r,"You must render this element inside a <HydratedRouter> element"),r}function Fx(r,i){let l=z.useContext(Df),[s,d]=z.useState(!1),[h,g]=z.useState(!1),{onFocus:b,onBlur:v,onMouseEnter:y,onMouseLeave:j,onTouchStart:R}=i,A=z.useRef(null);z.useEffect(()=>{if(r==="render"&&g(!0),r==="viewport"){let D=X=>{X.forEach(ce=>{g(ce.isIntersecting)})},Q=new IntersectionObserver(D,{threshold:.5});return A.current&&Q.observe(A.current),()=>{Q.disconnect()}}},[r]),z.useEffect(()=>{if(s){let D=setTimeout(()=>{g(!0)},100);return()=>{clearTimeout(D)}}},[s]);let B=()=>{d(!0)},k=()=>{d(!1),g(!1)};return l?r!=="intent"?[h,A,{}]:[h,A,{onFocus:ro(b,B),onBlur:ro(v,k),onMouseEnter:ro(y,B),onMouseLeave:ro(j,k),onTouchStart:ro(R,B)}]:[!1,A,{}]}function ro(r,i){return l=>{r&&r(l),l.defaultPrevented||i(l)}}function Wx({page:r,...i}){let{router:l}=Wp(),s=z.useMemo(()=>pi(l.routes,r,l.basename),[l.routes,r,l.basename]);return s?z.createElement(Jx,{page:r,matches:s,...i}):null}function Zx(r){let{manifest:i,routeModules:l}=Zp(),[s,d]=z.useState([]);return z.useEffect(()=>{let h=!1;return Gx(r,i,l).then(g=>{h||d(g)}),()=>{h=!0}},[r,i,l]),s}function Jx({page:r,matches:i,...l}){let s=Qr(),{manifest:d,routeModules:h}=Zp(),{basename:g}=Wp(),{loaderData:b,matches:v}=Xx(),y=z.useMemo(()=>op(r,i,v,d,s,"data"),[r,i,v,d,s]),j=z.useMemo(()=>op(r,i,v,d,s,"assets"),[r,i,v,d,s]),R=z.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let k=new Set,D=!1;if(i.forEach(X=>{let ce=d.routes[X.route.id];!ce||!ce.hasLoader||(!y.some(Z=>Z.route.id===X.route.id)&&X.route.id in b&&h[X.route.id]?.shouldRevalidate||ce.hasClientLoader?D=!0:k.add(X.route.id))}),k.size===0)return[];let Q=Px(r,g,"data");return D&&k.size>0&&Q.searchParams.set("_routes",i.filter(X=>k.has(X.route.id)).map(X=>X.route.id).join(",")),[Q.pathname+Q.search]},[g,b,s,d,y,i,r,h]),A=z.useMemo(()=>Vx(j,d),[j,d]),B=Zx(j);return z.createElement(z.Fragment,null,R.map(k=>z.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...l})),A.map(k=>z.createElement("link",{key:k,rel:"modulepreload",href:k,...l})),B.map(({key:k,link:D})=>z.createElement("link",{key:k,...D})))}function eb(...r){return i=>{r.forEach(l=>{typeof l=="function"?l(i):l!=null&&(l.current=i)})}}var Jp=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Jp&&(window.__reactRouterVersion="7.7.0")}catch{}function tb(r,i){return Kv({basename:i?.basename,unstable_getContext:i?.unstable_getContext,future:i?.future,history:sv({window:i?.window}),hydrationData:nb(),routes:r,mapRouteProperties:Nx,hydrationRouteProperties:Rx,dataStrategy:i?.dataStrategy,patchRoutesOnNavigation:i?.patchRoutesOnNavigation,window:i?.window}).initialize()}function nb(){let r=window?.__staticRouterHydrationData;return r&&r.errors&&(r={...r,errors:rb(r.errors)}),r}function rb(r){if(!r)return null;let i=Object.entries(r),l={};for(let[s,d]of i)if(d&&d.__type==="RouteErrorResponse")l[s]=new Qu(d.status,d.statusText,d.data,d.internal===!0);else if(d&&d.__type==="Error"){if(d.__subType){let h=window[d.__subType];if(typeof h=="function")try{let g=new h(d.message);g.stack="",l[s]=g}catch{}}if(l[s]==null){let h=new Error(d.message);h.stack="",l[s]=h}}else l[s]=d;return l}var eg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yi=z.forwardRef(function({onClick:i,discover:l="render",prefetch:s="none",relative:d,reloadDocument:h,replace:g,state:b,target:v,to:y,preventScrollReset:j,viewTransition:R,...A},B){let{basename:k}=z.useContext(la),D=typeof y=="string"&&eg.test(y),Q,X=!1;if(typeof y=="string"&&D&&(Q=y,Jp))try{let Ye=new URL(window.location.href),Ct=y.startsWith("//")?new URL(Ye.protocol+y):new URL(y),ct=Ar(Ct.pathname,k);Ct.origin===Ye.origin&&ct!=null?y=ct+Ct.search+Ct.hash:X=!0}catch{ln(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ce=ox(y,{relative:d}),[Z,Se,pe]=Fx(s,A),I=sb(y,{replace:g,state:b,target:v,preventScrollReset:j,relative:d,viewTransition:R});function Me(Ye){i&&i(Ye),Ye.defaultPrevented||I(Ye)}let Ie=z.createElement("a",{...A,...pe,href:Q||ce,onClick:X||h?i:Me,ref:eb(B,Se),target:v,"data-discover":!D&&l==="render"?"true":void 0});return Z&&!D?z.createElement(z.Fragment,null,Ie,z.createElement(Wx,{page:ce})):Ie});yi.displayName="Link";var ab=z.forwardRef(function({"aria-current":i="page",caseSensitive:l=!1,className:s="",end:d=!1,style:h,to:g,viewTransition:b,children:v,...y},j){let R=go(g,{relative:y.relative}),A=Qr(),B=z.useContext(mo),{navigator:k,basename:D}=z.useContext(la),Q=B!=null&&fb(R)&&b===!0,X=k.encodeLocation?k.encodeLocation(R).pathname:R.pathname,ce=A.pathname,Z=B&&B.navigation&&B.navigation.location?B.navigation.location.pathname:null;l||(ce=ce.toLowerCase(),Z=Z?Z.toLowerCase():null,X=X.toLowerCase()),Z&&D&&(Z=Ar(Z,D)||Z);const Se=X!=="/"&&X.endsWith("/")?X.length-1:X.length;let pe=ce===X||!d&&ce.startsWith(X)&&ce.charAt(Se)==="/",I=Z!=null&&(Z===X||!d&&Z.startsWith(X)&&Z.charAt(X.length)==="/"),Me={isActive:pe,isPending:I,isTransitioning:Q},Ie=pe?i:void 0,Ye;typeof s=="function"?Ye=s(Me):Ye=[s,pe?"active":null,I?"pending":null,Q?"transitioning":null].filter(Boolean).join(" ");let Ct=typeof h=="function"?h(Me):h;return z.createElement(yi,{...y,"aria-current":Ie,className:Ye,ref:j,style:Ct,to:g,viewTransition:b},typeof v=="function"?v(Me):v)});ab.displayName="NavLink";var ib=z.forwardRef(({discover:r="render",fetcherKey:i,navigate:l,reloadDocument:s,replace:d,state:h,method:g=zu,action:b,onSubmit:v,relative:y,preventScrollReset:j,viewTransition:R,...A},B)=>{let k=cb(),D=db(b,{relative:y}),Q=g.toLowerCase()==="get"?"get":"post",X=typeof b=="string"&&eg.test(b),ce=Z=>{if(v&&v(Z),Z.defaultPrevented)return;Z.preventDefault();let Se=Z.nativeEvent.submitter,pe=Se?.getAttribute("formmethod")||g;k(Se||Z.currentTarget,{fetcherKey:i,method:pe,navigate:l,replace:d,state:h,relative:y,preventScrollReset:j,viewTransition:R})};return z.createElement("form",{ref:B,method:Q,action:D,onSubmit:s?v:ce,...A,"data-discover":!X&&r==="render"?"true":void 0})});ib.displayName="Form";function lb(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tg(r){let i=z.useContext(Wi);return gt(i,lb(r)),i}function sb(r,{target:i,replace:l,state:s,preventScrollReset:d,relative:h,viewTransition:g}={}){let b=Fu(),v=Qr(),y=go(r,{relative:h});return z.useCallback(j=>{if(Ux(j,i)){j.preventDefault();let R=l!==void 0?l:vi(v)===vi(y);b(r,{replace:R,state:s,preventScrollReset:d,relative:h,viewTransition:g})}},[v,b,y,l,s,i,r,d,h,g])}var ob=0,ub=()=>`__${String(++ob)}__`;function cb(){let{router:r}=tg("useSubmit"),{basename:i}=z.useContext(la),l=Sx();return z.useCallback(async(s,d={})=>{let{action:h,method:g,encType:b,formData:v,body:y}=Hx(s,i);if(d.navigate===!1){let j=d.fetcherKey||ub();await r.fetch(j,l,d.action||h,{preventScrollReset:d.preventScrollReset,formData:v,body:y,formMethod:d.method||g,formEncType:d.encType||b,flushSync:d.flushSync})}else await r.navigate(d.action||h,{preventScrollReset:d.preventScrollReset,formData:v,body:y,formMethod:d.method||g,formEncType:d.encType||b,replace:d.replace,state:d.state,fromRouteId:l,flushSync:d.flushSync,viewTransition:d.viewTransition})},[r,i,l])}function db(r,{relative:i}={}){let{basename:l}=z.useContext(la),s=z.useContext(Kr);gt(s,"useFormAction must be used inside a RouteContext");let[d]=s.matches.slice(-1),h={...go(r||".",{relative:i})},g=Qr();if(r==null){h.search=g.search;let b=new URLSearchParams(h.search),v=b.getAll("index");if(v.some(j=>j==="")){b.delete("index"),v.filter(R=>R).forEach(R=>b.append("index",R));let j=b.toString();h.search=j?`?${j}`:""}}return(!r||r===".")&&d.route.index&&(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),l!=="/"&&(h.pathname=h.pathname==="/"?l:ia([l,h.pathname])),vi(h)}function fb(r,i={}){let l=z.useContext(Tf);gt(l!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=tg("useViewTransitionState"),d=go(r,{relative:i.relative});if(!l.isTransitioning)return!1;let h=Ar(l.currentLocation.pathname,s)||l.currentLocation.pathname,g=Ar(l.nextLocation.pathname,s)||l.nextLocation.pathname;return Ku(d.pathname,g)!=null||Ku(d.pathname,h)!=null}var hb=Op();function mb(r){return z.createElement(Ax,{flushSync:hb.flushSync,...r})}const up=r=>{let i;const l=new Set,s=(y,j)=>{const R=typeof y=="function"?y(i):y;if(!Object.is(R,i)){const A=i;i=j??(typeof R!="object"||R===null)?R:Object.assign({},i,R),l.forEach(B=>B(i,A))}},d=()=>i,b={setState:s,getState:d,getInitialState:()=>v,subscribe:y=>(l.add(y),()=>l.delete(y))},v=i=r(s,d,b);return b},pb=r=>r?up(r):up,gb=r=>r;function yb(r,i=gb){const l=L0.useSyncExternalStore(r.subscribe,()=>i(r.getState()),()=>i(r.getInitialState()));return L0.useDebugValue(l),l}const cp=r=>{const i=pb(r),l=s=>yb(i,s);return Object.assign(l,i),l},yo=r=>r?cp(r):cp,vb=r=>(i,l,s)=>{const d=s.subscribe;return s.subscribe=(g,b,v)=>{let y=g;if(b){const j=v?.equalityFn||Object.is;let R=g(s.getState());y=A=>{const B=g(A);if(!j(R,B)){const k=R;b(R=B,k)}},v?.fireImmediately&&b(R,R)}return d(y)},r(i,l,s)},xb=vb;function bb(r,i){let l;try{l=r()}catch{return}return{getItem:d=>{var h;const g=v=>v===null?null:JSON.parse(v,void 0),b=(h=l.getItem(d))!=null?h:null;return b instanceof Promise?b.then(g):g(b)},setItem:(d,h)=>l.setItem(d,JSON.stringify(h,void 0)),removeItem:d=>l.removeItem(d)}}const hf=r=>i=>{try{const l=r(i);return l instanceof Promise?l:{then(s){return hf(s)(l)},catch(s){return this}}}catch(l){return{then(s){return this},catch(s){return hf(s)(l)}}}},wb=(r,i)=>(l,s,d)=>{let h={storage:bb(()=>localStorage),partialize:D=>D,version:0,merge:(D,Q)=>({...Q,...D}),...i},g=!1;const b=new Set,v=new Set;let y=h.storage;if(!y)return r((...D)=>{console.warn(`[zustand persist middleware] Unable to update item '${h.name}', the given storage is currently unavailable.`),l(...D)},s,d);const j=()=>{const D=h.partialize({...s()});return y.setItem(h.name,{state:D,version:h.version})},R=d.setState;d.setState=(D,Q)=>{R(D,Q),j()};const A=r((...D)=>{l(...D),j()},s,d);d.getInitialState=()=>A;let B;const k=()=>{var D,Q;if(!y)return;g=!1,b.forEach(ce=>{var Z;return ce((Z=s())!=null?Z:A)});const X=((Q=h.onRehydrateStorage)==null?void 0:Q.call(h,(D=s())!=null?D:A))||void 0;return hf(y.getItem.bind(y))(h.name).then(ce=>{if(ce)if(typeof ce.version=="number"&&ce.version!==h.version){if(h.migrate){const Z=h.migrate(ce.state,ce.version);return Z instanceof Promise?Z.then(Se=>[!0,Se]):[!0,Z]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,ce.state];return[!1,void 0]}).then(ce=>{var Z;const[Se,pe]=ce;if(B=h.merge(pe,(Z=s())!=null?Z:A),l(B,!0),Se)return j()}).then(()=>{X?.(B,void 0),B=s(),g=!0,v.forEach(ce=>ce(B))}).catch(ce=>{X?.(void 0,ce)})};return d.persist={setOptions:D=>{h={...h,...D},D.storage&&(y=D.storage)},clearStorage:()=>{y?.removeItem(h.name)},getOptions:()=>h,rehydrate:()=>k(),hasHydrated:()=>g,onHydrate:D=>(b.add(D),()=>{b.delete(D)}),onFinishHydration:D=>(v.add(D),()=>{v.delete(D)})},h.skipHydration||k(),B||A},Mf=wb,dp=[{code:"zh",name:"Chinese",nativeName:"中文",flag:"🇨🇳"},{code:"ja",name:"Japanese",nativeName:"日本語",flag:"🇯🇵"},{code:"en",name:"English",nativeName:"English",flag:"🇺🇸"}],Sb="zh",$i=yo()(Mf((r,i)=>({currentLanguage:Sb,setLanguage:l=>{r({currentLanguage:l})},getLanguageForAI:()=>{const{currentLanguage:l}=i();switch(l){case"zh":return"Please respond in Chinese (Simplified Chinese)";case"ja":return"Please respond in Japanese";case"en":return"Please respond in English";default:return"Please respond in Chinese"}}}),{name:"toeic-language-storage",version:1})),jb={"nav.home":"首页","nav.practice":"练习","nav.review":"复习","home.title":"欢迎使用 ChatToeic","home.subtitle":"通过AI生成的题目进行TOEIC练习，提升您的英语水平","home.demo.title":"演示模式","home.demo.description":"当前使用演示题目。如需AI生成题目，请在设置中配置Google Gemini API密钥。","stats.practiceCount":"练习次数","stats.averageScore":"平均正确率","stats.totalQuestions":"总题数","practice.start":"开始练习","practice.startPractice":"开始练习","practice.scoreEstimation":"分数估值","practice.review":"错题复习","practiceSetup.title":"开始练习","practiceSetup.loading":"准备中...","practiceSetup.error":"练习出错","common.loading":"加载中...","common.error":"出现错误","common.retry":"重试","common.cancel":"取消","common.confirm":"确认","common.save":"保存","shortcuts.title":"快捷键:","shortcuts.practice":"练习","shortcuts.score":"分数","shortcuts.review":"复习","language.selector":"选择语言","language.chinese":"中文","language.japanese":"日本語","language.english":"English","practiceSession.notFound":"没有找到练习会话","practiceSession.saving":"正在保存练习结果...","practiceSession.complete":"完成练习","practiceSession.saveError":"保存练习结果时出错","results.completed":"练习完成！","results.summary":"以下是您的练习结果","results.accuracy":"准确率","results.correct":"正确答案","results.wrong":"错误答案","results.unanswered":"未回答","results.duration":"用时","results.minutes":"分钟","results.analysis":"练习分析","results.excellent":"优秀！继续保持！","results.good":"做得不错！","results.needPractice":"不错，继续努力！","results.needMorePractice":"需要更多练习","results.keepTrying":"继续加油！","results.reviewQuestions":"回顾题目","results.startNewPractice":"开始新练习","results.backToHome":"返回首页","question.previous":"上一题","question.next":"下一题","question.submit":"提交答案","question.answered":"已答","question.current":"当前题","question.unanswered":"未答","review.title":"题目回顾","review.discussion":"与AI讨论","review.explanation":"解释","review.yourAnswer":"您的答案","review.correctAnswer":"正确答案","review.difficulty":"难度","review.category":"分类","setup.questionType":"题目类型","setup.reading":"阅读","setup.listening":"听力","setup.questionCount":"题目数量","setup.difficultyLevel":"难度等级","setup.veryEasy":"很简单","setup.easy":"简单","setup.medium":"中等","setup.hard":"困难","setup.veryHard":"很困难","setup.questionCategory":"题目类别","setup.generating":"生成中...","setup.startPractice":"开始练习","setup.previewTitle":"练习设置预览:","setup.type":"类型","setup.count":"数量","setup.difficulty":"难度","setup.category":"类别","setup.allCategories":"所有类别","setup.questions":"题","reviewPage.title":"错题复习","reviewPage.noRecords":"还没有完成的练习记录","reviewPage.startPracticeButton":"开始练习","reviewPage.practiceRecords":"练习记录","reviewPage.questionList":"题目列表","reviewPage.loadError":"加载练习记录失败","reviewPage.retry":"重试","reviewPage.questions":"题","reviewPage.all":"全部","reviewPage.correct":"正确","reviewPage.incorrect":"错误","reviewPage.noQuestionsMatch":"没有符合条件的题目","reviewPage.questionNumber":"第"},Eb={"nav.home":"ホーム","nav.practice":"練習","nav.review":"復習","home.title":"ChatToeic へようこそ","home.subtitle":"AI生成問題でTOEIC練習を行い、英語力を向上させましょう","home.demo.title":"デモモード","home.demo.description":"現在はデモ問題を使用しています。AI生成問題をご利用いただくには、設定でGoogle Gemini APIキーを設定してください。","stats.practiceCount":"練習回数","stats.averageScore":"平均正答率","stats.totalQuestions":"総問題数","practice.start":"練習開始","practice.startPractice":"練習開始","practice.scoreEstimation":"スコア推定","practice.review":"間違い問題復習","practiceSetup.title":"練習開始","practiceSetup.loading":"準備中...","practiceSetup.error":"練習エラー","common.loading":"読み込み中...","common.error":"エラーが発生しました","common.retry":"再試行","common.cancel":"キャンセル","common.confirm":"確認","common.save":"保存","shortcuts.title":"ショートカット:","shortcuts.practice":"練習","shortcuts.score":"スコア","shortcuts.review":"復習","language.selector":"言語を選択","language.chinese":"中文","language.japanese":"日本語","language.english":"English","practiceSession.notFound":"練習セッションが見つかりません","practiceSession.saving":"練習結果を保存中...","practiceSession.complete":"練習完了","practiceSession.saveError":"練習結果の保存中にエラーが発生しました","results.completed":"練習完了！","results.summary":"練習結果は以下の通りです","results.accuracy":"正答率","results.correct":"正解","results.wrong":"不正解","results.unanswered":"未回答","results.duration":"所要時間","results.minutes":"分","results.analysis":"練習分析","results.excellent":"素晴らしい！この調子で続けましょう！","results.good":"よくできました！","results.needPractice":"良い調子です、頑張りましょう！","results.needMorePractice":"もっと練習が必要です","results.keepTrying":"頑張りましょう！","results.reviewQuestions":"問題をレビュー","results.startNewPractice":"新しい練習を開始","results.backToHome":"ホームに戻る","question.previous":"前の問題","question.next":"次の問題","question.submit":"答えを提出","question.answered":"回答済み","question.current":"現在の問題","question.unanswered":"未回答","review.title":"問題レビュー","review.discussion":"AIと議論","review.explanation":"解説","review.yourAnswer":"あなたの答え","review.correctAnswer":"正解","review.difficulty":"難易度","review.category":"カテゴリー","setup.questionType":"問題タイプ","setup.reading":"読解","setup.listening":"聴力","setup.questionCount":"問題数","setup.difficultyLevel":"難易度レベル (複数選択可)","setup.veryEasy":"とても簡単","setup.easy":"簡単","setup.medium":"中級","setup.hard":"困難","setup.veryHard":"とても困難","setup.questionCategory":"問題カテゴリー (複数選択可)","setup.generating":"生成中...","setup.startPractice":"練習開始","setup.previewTitle":"練習設定プレビュー:","setup.type":"タイプ","setup.count":"数量","setup.difficulty":"難易度","setup.category":"カテゴリー","setup.allCategories":"すべてのカテゴリー","setup.questions":"問","reviewPage.title":"間違い問題復習","reviewPage.noRecords":"完了した練習記録がまだありません","reviewPage.startPracticeButton":"練習開始","reviewPage.practiceRecords":"練習記録","reviewPage.questionList":"問題リスト","reviewPage.loadError":"練習記録の読み込みに失敗しました","reviewPage.retry":"再試行","reviewPage.questions":"問","reviewPage.all":"すべて","reviewPage.correct":"正解","reviewPage.incorrect":"不正解","reviewPage.noQuestionsMatch":"条件に一致する問題がありません","reviewPage.questionNumber":"第"},Nb={"nav.home":"Home","nav.practice":"Practice","nav.review":"Revision","home.title":"Welcome to ChatToeic","home.subtitle":"Practice TOEIC with AI-generated questions to improve your English skills","home.demo.title":"Demo Mode","home.demo.description":"Currently using demo questions. To use AI-generated questions, please configure your Google Gemini API key in settings.","stats.practiceCount":"Practice Sessions","stats.averageScore":"Average Score","stats.totalQuestions":"Total Questions","practice.start":"Start Practice","practice.startPractice":"Start Practice","practice.scoreEstimation":"Score Estimation","practice.review":"Wrong Questions Revision","practiceSetup.title":"Start Practice","practiceSetup.loading":"Preparing...","practiceSetup.error":"Practice Error","common.loading":"Loading...","common.error":"An error occurred","common.retry":"Retry","common.cancel":"Cancel","common.confirm":"Confirm","common.save":"Save","shortcuts.title":"Shortcuts:","shortcuts.practice":"Practice","shortcuts.score":"Score","shortcuts.review":"Review","language.selector":"Select Language","language.chinese":"中文","language.japanese":"日本語","language.english":"English","practiceSession.notFound":"Practice session not found","practiceSession.saving":"Saving practice results...","practiceSession.complete":"Complete Practice","practiceSession.saveError":"Error saving practice results","results.completed":"Practice Completed!","results.summary":"Here are your practice results","results.accuracy":"Accuracy","results.correct":"Correct","results.wrong":"Wrong","results.unanswered":"Unanswered","results.duration":"Duration","results.minutes":"minutes","results.analysis":"Practice Analysis","results.excellent":"Excellent! Keep it up!","results.good":"Well done!","results.needPractice":"Good job, keep practicing!","results.needMorePractice":"Need more practice","results.keepTrying":"Keep trying!","results.reviewQuestions":"Review Questions","results.startNewPractice":"Start New Practice","results.backToHome":"Back to Home","question.previous":"Previous","question.next":"Next","question.submit":"Submit Answer","question.answered":"Answered","question.current":"Current","question.unanswered":"Unanswered","review.title":"Question Review","review.discussion":"Discuss with AI","review.explanation":"Explanation","review.yourAnswer":"Your Answer","review.correctAnswer":"Correct Answer","review.difficulty":"Difficulty","review.category":"Category","setup.questionType":"Question Type","setup.reading":"Reading","setup.listening":"Listening","setup.questionCount":"Question Count","setup.difficultyLevel":"Difficulty Level (Multi-select)","setup.veryEasy":"Very Easy","setup.easy":"Easy","setup.medium":"Medium","setup.hard":"Hard","setup.veryHard":"Very Hard","setup.questionCategory":"Question Category (Multi-select)","setup.generating":"Generating...","setup.startPractice":"Start Practice","setup.previewTitle":"Practice Setup Preview:","setup.type":"Type","setup.count":"Count","setup.difficulty":"Difficulty","setup.category":"Category","setup.allCategories":"All Categories","setup.questions":"questions","reviewPage.title":"Wrong Questions Revision","reviewPage.noRecords":"No completed practice records yet","reviewPage.startPracticeButton":"Start Practice","reviewPage.practiceRecords":"Practice Records","reviewPage.questionList":"Question List","reviewPage.loadError":"Failed to load practice records","reviewPage.retry":"Retry","reviewPage.questions":"questions","reviewPage.all":"All","reviewPage.correct":"Correct","reviewPage.incorrect":"Incorrect","reviewPage.noQuestionsMatch":"No questions match the criteria","reviewPage.questionNumber":"Question"},Rb={zh:jb,ja:Eb,en:Nb};function _r(){const{currentLanguage:r}=$i();return{t:l=>Rb[r][l]||l,currentLanguage:r}}const Tb=()=>{const{currentLanguage:r,setLanguage:i}=$i(),{t:l}=_r(),[s,d]=z.useState(!1),h=z.useRef(null),g=dp.find(v=>v.code===r),b=v=>{i(v),d(!1)};return z.useEffect(()=>{const v=y=>{h.current&&!h.current.contains(y.target)&&d(!1)};return document.addEventListener("mousedown",v),()=>document.removeEventListener("mousedown",v)},[]),c.jsxs("div",{className:"relative",ref:h,children:[c.jsxs("button",{onClick:()=>d(!s),className:"flex items-center gap-2 px-3 py-2 text-sm text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors","aria-label":l("language.selector"),"aria-expanded":s,"aria-haspopup":"true",children:[c.jsx("span",{className:"text-lg",children:g?.flag}),c.jsx("span",{className:"font-medium",children:g?.nativeName}),c.jsx("svg",{className:`w-4 h-4 transition-transform ${s?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),s&&c.jsx("div",{className:"absolute right-0 top-full mt-1 py-1 bg-white border border-gray-200 rounded-lg shadow-lg z-50 min-w-[140px]",children:dp.map(v=>c.jsxs("button",{onClick:()=>b(v.code),className:`w-full flex items-center gap-3 px-4 py-2 text-sm hover:bg-gray-100 transition-colors ${r===v.code?"text-blue-600 bg-blue-50":"text-gray-700"}`,children:[c.jsx("span",{className:"text-lg",children:v.flag}),c.jsx("span",{className:"font-medium",children:v.nativeName}),r===v.code&&c.jsx("svg",{className:"w-4 h-4 ml-auto text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]},v.code))})]})},Ab=({title:r})=>{const i=Qr(),{t:l}=_r(),s=[{path:"/",label:l("nav.home")},{path:"/practice",label:l("nav.practice")},{path:"/review",label:l("nav.review")},{path:"/vocabulary",label:"生词本"}],d=h=>h==="/"?i.pathname==="/":i.pathname.startsWith(h);return c.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 bg-white shadow-sm border-b",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"flex justify-between items-center h-16",children:[c.jsx("div",{className:"flex items-center",children:c.jsx(yi,{to:"/",className:"text-2xl font-semibold text-gray-900 hover:text-blue-600 transition-colors",children:r||"ChatToeic"})}),c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("nav",{className:"flex space-x-1",children:s.map(h=>c.jsxs(yi,{to:h.path,className:`relative px-4 py-2 text-sm font-medium rounded-lg transition-all duration-200 ease-in-out ${d(h.path)?"text-blue-600 bg-blue-50":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[h.label,d(h.path)&&c.jsx("span",{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 w-1 h-1 bg-blue-600 rounded-full"})]},h.path))}),c.jsx(Tb,{})]})]})})})};function ng(r,i){return function(){return r.apply(i,arguments)}}const{toString:_b}=Object.prototype,{getPrototypeOf:Lf}=Object,{iterator:Zu,toStringTag:rg}=Symbol,Ju=(r=>i=>{const l=_b.call(i);return r[l]||(r[l]=l.slice(8,-1).toLowerCase())})(Object.create(null)),Gr=r=>(r=r.toLowerCase(),i=>Ju(i)===r),ec=r=>i=>typeof i===r,{isArray:Vl}=Array,ho=ec("undefined");function Cb(r){return r!==null&&!ho(r)&&r.constructor!==null&&!ho(r.constructor)&&nr(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const ag=Gr("ArrayBuffer");function Ob(r){let i;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?i=ArrayBuffer.isView(r):i=r&&r.buffer&&ag(r.buffer),i}const Db=ec("string"),nr=ec("function"),ig=ec("number"),tc=r=>r!==null&&typeof r=="object",Mb=r=>r===!0||r===!1,Uu=r=>{if(Ju(r)!=="object")return!1;const i=Lf(r);return(i===null||i===Object.prototype||Object.getPrototypeOf(i)===null)&&!(rg in r)&&!(Zu in r)},Lb=Gr("Date"),zb=Gr("File"),kb=Gr("Blob"),Ub=Gr("FileList"),qb=r=>tc(r)&&nr(r.pipe),Bb=r=>{let i;return r&&(typeof FormData=="function"&&r instanceof FormData||nr(r.append)&&((i=Ju(r))==="formdata"||i==="object"&&nr(r.toString)&&r.toString()==="[object FormData]"))},Hb=Gr("URLSearchParams"),[Pb,Kb,Qb,Gb]=["ReadableStream","Request","Response","Headers"].map(Gr),Vb=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function vo(r,i,{allOwnKeys:l=!1}={}){if(r===null||typeof r>"u")return;let s,d;if(typeof r!="object"&&(r=[r]),Vl(r))for(s=0,d=r.length;s<d;s++)i.call(null,r[s],s,r);else{const h=l?Object.getOwnPropertyNames(r):Object.keys(r),g=h.length;let b;for(s=0;s<g;s++)b=h[s],i.call(null,r[b],b,r)}}function lg(r,i){i=i.toLowerCase();const l=Object.keys(r);let s=l.length,d;for(;s-- >0;)if(d=l[s],i===d.toLowerCase())return d;return null}const Ii=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,sg=r=>!ho(r)&&r!==Ii;function mf(){const{caseless:r}=sg(this)&&this||{},i={},l=(s,d)=>{const h=r&&lg(i,d)||d;Uu(i[h])&&Uu(s)?i[h]=mf(i[h],s):Uu(s)?i[h]=mf({},s):Vl(s)?i[h]=s.slice():i[h]=s};for(let s=0,d=arguments.length;s<d;s++)arguments[s]&&vo(arguments[s],l);return i}const Yb=(r,i,l,{allOwnKeys:s}={})=>(vo(i,(d,h)=>{l&&nr(d)?r[h]=ng(d,l):r[h]=d},{allOwnKeys:s}),r),Ib=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),$b=(r,i,l,s)=>{r.prototype=Object.create(i.prototype,s),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:i.prototype}),l&&Object.assign(r.prototype,l)},Xb=(r,i,l,s)=>{let d,h,g;const b={};if(i=i||{},r==null)return i;do{for(d=Object.getOwnPropertyNames(r),h=d.length;h-- >0;)g=d[h],(!s||s(g,r,i))&&!b[g]&&(i[g]=r[g],b[g]=!0);r=l!==!1&&Lf(r)}while(r&&(!l||l(r,i))&&r!==Object.prototype);return i},Fb=(r,i,l)=>{r=String(r),(l===void 0||l>r.length)&&(l=r.length),l-=i.length;const s=r.indexOf(i,l);return s!==-1&&s===l},Wb=r=>{if(!r)return null;if(Vl(r))return r;let i=r.length;if(!ig(i))return null;const l=new Array(i);for(;i-- >0;)l[i]=r[i];return l},Zb=(r=>i=>r&&i instanceof r)(typeof Uint8Array<"u"&&Lf(Uint8Array)),Jb=(r,i)=>{const s=(r&&r[Zu]).call(r);let d;for(;(d=s.next())&&!d.done;){const h=d.value;i.call(r,h[0],h[1])}},e1=(r,i)=>{let l;const s=[];for(;(l=r.exec(i))!==null;)s.push(l);return s},t1=Gr("HTMLFormElement"),n1=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(l,s,d){return s.toUpperCase()+d}),fp=(({hasOwnProperty:r})=>(i,l)=>r.call(i,l))(Object.prototype),r1=Gr("RegExp"),og=(r,i)=>{const l=Object.getOwnPropertyDescriptors(r),s={};vo(l,(d,h)=>{let g;(g=i(d,h,r))!==!1&&(s[h]=g||d)}),Object.defineProperties(r,s)},a1=r=>{og(r,(i,l)=>{if(nr(r)&&["arguments","caller","callee"].indexOf(l)!==-1)return!1;const s=r[l];if(nr(s)){if(i.enumerable=!1,"writable"in i){i.writable=!1;return}i.set||(i.set=()=>{throw Error("Can not rewrite read-only method '"+l+"'")})}})},i1=(r,i)=>{const l={},s=d=>{d.forEach(h=>{l[h]=!0})};return Vl(r)?s(r):s(String(r).split(i)),l},l1=()=>{},s1=(r,i)=>r!=null&&Number.isFinite(r=+r)?r:i;function o1(r){return!!(r&&nr(r.append)&&r[rg]==="FormData"&&r[Zu])}const u1=r=>{const i=new Array(10),l=(s,d)=>{if(tc(s)){if(i.indexOf(s)>=0)return;if(!("toJSON"in s)){i[d]=s;const h=Vl(s)?[]:{};return vo(s,(g,b)=>{const v=l(g,d+1);!ho(v)&&(h[b]=v)}),i[d]=void 0,h}}return s};return l(r,0)},c1=Gr("AsyncFunction"),d1=r=>r&&(tc(r)||nr(r))&&nr(r.then)&&nr(r.catch),ug=((r,i)=>r?setImmediate:i?((l,s)=>(Ii.addEventListener("message",({source:d,data:h})=>{d===Ii&&h===l&&s.length&&s.shift()()},!1),d=>{s.push(d),Ii.postMessage(l,"*")}))(`axios@${Math.random()}`,[]):l=>setTimeout(l))(typeof setImmediate=="function",nr(Ii.postMessage)),f1=typeof queueMicrotask<"u"?queueMicrotask.bind(Ii):typeof process<"u"&&process.nextTick||ug,h1=r=>r!=null&&nr(r[Zu]),oe={isArray:Vl,isArrayBuffer:ag,isBuffer:Cb,isFormData:Bb,isArrayBufferView:Ob,isString:Db,isNumber:ig,isBoolean:Mb,isObject:tc,isPlainObject:Uu,isReadableStream:Pb,isRequest:Kb,isResponse:Qb,isHeaders:Gb,isUndefined:ho,isDate:Lb,isFile:zb,isBlob:kb,isRegExp:r1,isFunction:nr,isStream:qb,isURLSearchParams:Hb,isTypedArray:Zb,isFileList:Ub,forEach:vo,merge:mf,extend:Yb,trim:Vb,stripBOM:Ib,inherits:$b,toFlatObject:Xb,kindOf:Ju,kindOfTest:Gr,endsWith:Fb,toArray:Wb,forEachEntry:Jb,matchAll:e1,isHTMLForm:t1,hasOwnProperty:fp,hasOwnProp:fp,reduceDescriptors:og,freezeMethods:a1,toObjectSet:i1,toCamelCase:n1,noop:l1,toFiniteNumber:s1,findKey:lg,global:Ii,isContextDefined:sg,isSpecCompliantForm:o1,toJSONObject:u1,isAsyncFn:c1,isThenable:d1,setImmediate:ug,asap:f1,isIterable:h1};function lt(r,i,l,s,d){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",i&&(this.code=i),l&&(this.config=l),s&&(this.request=s),d&&(this.response=d,this.status=d.status?d.status:null)}oe.inherits(lt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:oe.toJSONObject(this.config),code:this.code,status:this.status}}});const cg=lt.prototype,dg={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{dg[r]={value:r}});Object.defineProperties(lt,dg);Object.defineProperty(cg,"isAxiosError",{value:!0});lt.from=(r,i,l,s,d,h)=>{const g=Object.create(cg);return oe.toFlatObject(r,g,function(v){return v!==Error.prototype},b=>b!=="isAxiosError"),lt.call(g,r.message,i,l,s,d),g.cause=r,g.name=r.name,h&&Object.assign(g,h),g};const m1=null;function pf(r){return oe.isPlainObject(r)||oe.isArray(r)}function fg(r){return oe.endsWith(r,"[]")?r.slice(0,-2):r}function hp(r,i,l){return r?r.concat(i).map(function(d,h){return d=fg(d),!l&&h?"["+d+"]":d}).join(l?".":""):i}function p1(r){return oe.isArray(r)&&!r.some(pf)}const g1=oe.toFlatObject(oe,{},null,function(i){return/^is[A-Z]/.test(i)});function nc(r,i,l){if(!oe.isObject(r))throw new TypeError("target must be an object");i=i||new FormData,l=oe.toFlatObject(l,{metaTokens:!0,dots:!1,indexes:!1},!1,function(D,Q){return!oe.isUndefined(Q[D])});const s=l.metaTokens,d=l.visitor||j,h=l.dots,g=l.indexes,v=(l.Blob||typeof Blob<"u"&&Blob)&&oe.isSpecCompliantForm(i);if(!oe.isFunction(d))throw new TypeError("visitor must be a function");function y(k){if(k===null)return"";if(oe.isDate(k))return k.toISOString();if(oe.isBoolean(k))return k.toString();if(!v&&oe.isBlob(k))throw new lt("Blob is not supported. Use a Buffer instead.");return oe.isArrayBuffer(k)||oe.isTypedArray(k)?v&&typeof Blob=="function"?new Blob([k]):Buffer.from(k):k}function j(k,D,Q){let X=k;if(k&&!Q&&typeof k=="object"){if(oe.endsWith(D,"{}"))D=s?D:D.slice(0,-2),k=JSON.stringify(k);else if(oe.isArray(k)&&p1(k)||(oe.isFileList(k)||oe.endsWith(D,"[]"))&&(X=oe.toArray(k)))return D=fg(D),X.forEach(function(Z,Se){!(oe.isUndefined(Z)||Z===null)&&i.append(g===!0?hp([D],Se,h):g===null?D:D+"[]",y(Z))}),!1}return pf(k)?!0:(i.append(hp(Q,D,h),y(k)),!1)}const R=[],A=Object.assign(g1,{defaultVisitor:j,convertValue:y,isVisitable:pf});function B(k,D){if(!oe.isUndefined(k)){if(R.indexOf(k)!==-1)throw Error("Circular reference detected in "+D.join("."));R.push(k),oe.forEach(k,function(X,ce){(!(oe.isUndefined(X)||X===null)&&d.call(i,X,oe.isString(ce)?ce.trim():ce,D,A))===!0&&B(X,D?D.concat(ce):[ce])}),R.pop()}}if(!oe.isObject(r))throw new TypeError("data must be an object");return B(r),i}function mp(r){const i={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(s){return i[s]})}function zf(r,i){this._pairs=[],r&&nc(r,this,i)}const hg=zf.prototype;hg.append=function(i,l){this._pairs.push([i,l])};hg.toString=function(i){const l=i?function(s){return i.call(this,s,mp)}:mp;return this._pairs.map(function(d){return l(d[0])+"="+l(d[1])},"").join("&")};function y1(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function mg(r,i,l){if(!i)return r;const s=l&&l.encode||y1;oe.isFunction(l)&&(l={serialize:l});const d=l&&l.serialize;let h;if(d?h=d(i,l):h=oe.isURLSearchParams(i)?i.toString():new zf(i,l).toString(s),h){const g=r.indexOf("#");g!==-1&&(r=r.slice(0,g)),r+=(r.indexOf("?")===-1?"?":"&")+h}return r}class pp{constructor(){this.handlers=[]}use(i,l,s){return this.handlers.push({fulfilled:i,rejected:l,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(i){this.handlers[i]&&(this.handlers[i]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(i){oe.forEach(this.handlers,function(s){s!==null&&i(s)})}}const pg={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},v1=typeof URLSearchParams<"u"?URLSearchParams:zf,x1=typeof FormData<"u"?FormData:null,b1=typeof Blob<"u"?Blob:null,w1={isBrowser:!0,classes:{URLSearchParams:v1,FormData:x1,Blob:b1},protocols:["http","https","file","blob","url","data"]},kf=typeof window<"u"&&typeof document<"u",gf=typeof navigator=="object"&&navigator||void 0,S1=kf&&(!gf||["ReactNative","NativeScript","NS"].indexOf(gf.product)<0),j1=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",E1=kf&&window.location.href||"http://localhost",N1=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:kf,hasStandardBrowserEnv:S1,hasStandardBrowserWebWorkerEnv:j1,navigator:gf,origin:E1},Symbol.toStringTag,{value:"Module"})),Un={...N1,...w1};function R1(r,i){return nc(r,new Un.classes.URLSearchParams,Object.assign({visitor:function(l,s,d,h){return Un.isNode&&oe.isBuffer(l)?(this.append(s,l.toString("base64")),!1):h.defaultVisitor.apply(this,arguments)}},i))}function T1(r){return oe.matchAll(/\w+|\[(\w*)]/g,r).map(i=>i[0]==="[]"?"":i[1]||i[0])}function A1(r){const i={},l=Object.keys(r);let s;const d=l.length;let h;for(s=0;s<d;s++)h=l[s],i[h]=r[h];return i}function gg(r){function i(l,s,d,h){let g=l[h++];if(g==="__proto__")return!0;const b=Number.isFinite(+g),v=h>=l.length;return g=!g&&oe.isArray(d)?d.length:g,v?(oe.hasOwnProp(d,g)?d[g]=[d[g],s]:d[g]=s,!b):((!d[g]||!oe.isObject(d[g]))&&(d[g]=[]),i(l,s,d[g],h)&&oe.isArray(d[g])&&(d[g]=A1(d[g])),!b)}if(oe.isFormData(r)&&oe.isFunction(r.entries)){const l={};return oe.forEachEntry(r,(s,d)=>{i(T1(s),d,l,0)}),l}return null}function _1(r,i,l){if(oe.isString(r))try{return(i||JSON.parse)(r),oe.trim(r)}catch(s){if(s.name!=="SyntaxError")throw s}return(l||JSON.stringify)(r)}const xo={transitional:pg,adapter:["xhr","http","fetch"],transformRequest:[function(i,l){const s=l.getContentType()||"",d=s.indexOf("application/json")>-1,h=oe.isObject(i);if(h&&oe.isHTMLForm(i)&&(i=new FormData(i)),oe.isFormData(i))return d?JSON.stringify(gg(i)):i;if(oe.isArrayBuffer(i)||oe.isBuffer(i)||oe.isStream(i)||oe.isFile(i)||oe.isBlob(i)||oe.isReadableStream(i))return i;if(oe.isArrayBufferView(i))return i.buffer;if(oe.isURLSearchParams(i))return l.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),i.toString();let b;if(h){if(s.indexOf("application/x-www-form-urlencoded")>-1)return R1(i,this.formSerializer).toString();if((b=oe.isFileList(i))||s.indexOf("multipart/form-data")>-1){const v=this.env&&this.env.FormData;return nc(b?{"files[]":i}:i,v&&new v,this.formSerializer)}}return h||d?(l.setContentType("application/json",!1),_1(i)):i}],transformResponse:[function(i){const l=this.transitional||xo.transitional,s=l&&l.forcedJSONParsing,d=this.responseType==="json";if(oe.isResponse(i)||oe.isReadableStream(i))return i;if(i&&oe.isString(i)&&(s&&!this.responseType||d)){const g=!(l&&l.silentJSONParsing)&&d;try{return JSON.parse(i)}catch(b){if(g)throw b.name==="SyntaxError"?lt.from(b,lt.ERR_BAD_RESPONSE,this,null,this.response):b}}return i}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Un.classes.FormData,Blob:Un.classes.Blob},validateStatus:function(i){return i>=200&&i<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};oe.forEach(["delete","get","head","post","put","patch"],r=>{xo.headers[r]={}});const C1=oe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),O1=r=>{const i={};let l,s,d;return r&&r.split(`
`).forEach(function(g){d=g.indexOf(":"),l=g.substring(0,d).trim().toLowerCase(),s=g.substring(d+1).trim(),!(!l||i[l]&&C1[l])&&(l==="set-cookie"?i[l]?i[l].push(s):i[l]=[s]:i[l]=i[l]?i[l]+", "+s:s)}),i},gp=Symbol("internals");function ao(r){return r&&String(r).trim().toLowerCase()}function qu(r){return r===!1||r==null?r:oe.isArray(r)?r.map(qu):String(r)}function D1(r){const i=Object.create(null),l=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=l.exec(r);)i[s[1]]=s[2];return i}const M1=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function nf(r,i,l,s,d){if(oe.isFunction(s))return s.call(this,i,l);if(d&&(i=l),!!oe.isString(i)){if(oe.isString(s))return i.indexOf(s)!==-1;if(oe.isRegExp(s))return s.test(i)}}function L1(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(i,l,s)=>l.toUpperCase()+s)}function z1(r,i){const l=oe.toCamelCase(" "+i);["get","set","has"].forEach(s=>{Object.defineProperty(r,s+l,{value:function(d,h,g){return this[s].call(this,i,d,h,g)},configurable:!0})})}let rr=class{constructor(i){i&&this.set(i)}set(i,l,s){const d=this;function h(b,v,y){const j=ao(v);if(!j)throw new Error("header name must be a non-empty string");const R=oe.findKey(d,j);(!R||d[R]===void 0||y===!0||y===void 0&&d[R]!==!1)&&(d[R||v]=qu(b))}const g=(b,v)=>oe.forEach(b,(y,j)=>h(y,j,v));if(oe.isPlainObject(i)||i instanceof this.constructor)g(i,l);else if(oe.isString(i)&&(i=i.trim())&&!M1(i))g(O1(i),l);else if(oe.isObject(i)&&oe.isIterable(i)){let b={},v,y;for(const j of i){if(!oe.isArray(j))throw TypeError("Object iterator must return a key-value pair");b[y=j[0]]=(v=b[y])?oe.isArray(v)?[...v,j[1]]:[v,j[1]]:j[1]}g(b,l)}else i!=null&&h(l,i,s);return this}get(i,l){if(i=ao(i),i){const s=oe.findKey(this,i);if(s){const d=this[s];if(!l)return d;if(l===!0)return D1(d);if(oe.isFunction(l))return l.call(this,d,s);if(oe.isRegExp(l))return l.exec(d);throw new TypeError("parser must be boolean|regexp|function")}}}has(i,l){if(i=ao(i),i){const s=oe.findKey(this,i);return!!(s&&this[s]!==void 0&&(!l||nf(this,this[s],s,l)))}return!1}delete(i,l){const s=this;let d=!1;function h(g){if(g=ao(g),g){const b=oe.findKey(s,g);b&&(!l||nf(s,s[b],b,l))&&(delete s[b],d=!0)}}return oe.isArray(i)?i.forEach(h):h(i),d}clear(i){const l=Object.keys(this);let s=l.length,d=!1;for(;s--;){const h=l[s];(!i||nf(this,this[h],h,i,!0))&&(delete this[h],d=!0)}return d}normalize(i){const l=this,s={};return oe.forEach(this,(d,h)=>{const g=oe.findKey(s,h);if(g){l[g]=qu(d),delete l[h];return}const b=i?L1(h):String(h).trim();b!==h&&delete l[h],l[b]=qu(d),s[b]=!0}),this}concat(...i){return this.constructor.concat(this,...i)}toJSON(i){const l=Object.create(null);return oe.forEach(this,(s,d)=>{s!=null&&s!==!1&&(l[d]=i&&oe.isArray(s)?s.join(", "):s)}),l}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([i,l])=>i+": "+l).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(i){return i instanceof this?i:new this(i)}static concat(i,...l){const s=new this(i);return l.forEach(d=>s.set(d)),s}static accessor(i){const s=(this[gp]=this[gp]={accessors:{}}).accessors,d=this.prototype;function h(g){const b=ao(g);s[b]||(z1(d,g),s[b]=!0)}return oe.isArray(i)?i.forEach(h):h(i),this}};rr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);oe.reduceDescriptors(rr.prototype,({value:r},i)=>{let l=i[0].toUpperCase()+i.slice(1);return{get:()=>r,set(s){this[l]=s}}});oe.freezeMethods(rr);function rf(r,i){const l=this||xo,s=i||l,d=rr.from(s.headers);let h=s.data;return oe.forEach(r,function(b){h=b.call(l,h,d.normalize(),i?i.status:void 0)}),d.normalize(),h}function yg(r){return!!(r&&r.__CANCEL__)}function Yl(r,i,l){lt.call(this,r??"canceled",lt.ERR_CANCELED,i,l),this.name="CanceledError"}oe.inherits(Yl,lt,{__CANCEL__:!0});function vg(r,i,l){const s=l.config.validateStatus;!l.status||!s||s(l.status)?r(l):i(new lt("Request failed with status code "+l.status,[lt.ERR_BAD_REQUEST,lt.ERR_BAD_RESPONSE][Math.floor(l.status/100)-4],l.config,l.request,l))}function k1(r){const i=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return i&&i[1]||""}function U1(r,i){r=r||10;const l=new Array(r),s=new Array(r);let d=0,h=0,g;return i=i!==void 0?i:1e3,function(v){const y=Date.now(),j=s[h];g||(g=y),l[d]=v,s[d]=y;let R=h,A=0;for(;R!==d;)A+=l[R++],R=R%r;if(d=(d+1)%r,d===h&&(h=(h+1)%r),y-g<i)return;const B=j&&y-j;return B?Math.round(A*1e3/B):void 0}}function q1(r,i){let l=0,s=1e3/i,d,h;const g=(y,j=Date.now())=>{l=j,d=null,h&&(clearTimeout(h),h=null),r.apply(null,y)};return[(...y)=>{const j=Date.now(),R=j-l;R>=s?g(y,j):(d=y,h||(h=setTimeout(()=>{h=null,g(d)},s-R)))},()=>d&&g(d)]}const Vu=(r,i,l=3)=>{let s=0;const d=U1(50,250);return q1(h=>{const g=h.loaded,b=h.lengthComputable?h.total:void 0,v=g-s,y=d(v),j=g<=b;s=g;const R={loaded:g,total:b,progress:b?g/b:void 0,bytes:v,rate:y||void 0,estimated:y&&b&&j?(b-g)/y:void 0,event:h,lengthComputable:b!=null,[i?"download":"upload"]:!0};r(R)},l)},yp=(r,i)=>{const l=r!=null;return[s=>i[0]({lengthComputable:l,total:r,loaded:s}),i[1]]},vp=r=>(...i)=>oe.asap(()=>r(...i)),B1=Un.hasStandardBrowserEnv?((r,i)=>l=>(l=new URL(l,Un.origin),r.protocol===l.protocol&&r.host===l.host&&(i||r.port===l.port)))(new URL(Un.origin),Un.navigator&&/(msie|trident)/i.test(Un.navigator.userAgent)):()=>!0,H1=Un.hasStandardBrowserEnv?{write(r,i,l,s,d,h){const g=[r+"="+encodeURIComponent(i)];oe.isNumber(l)&&g.push("expires="+new Date(l).toGMTString()),oe.isString(s)&&g.push("path="+s),oe.isString(d)&&g.push("domain="+d),h===!0&&g.push("secure"),document.cookie=g.join("; ")},read(r){const i=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove(r){this.write(r,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function P1(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function K1(r,i){return i?r.replace(/\/?\/$/,"")+"/"+i.replace(/^\/+/,""):r}function xg(r,i,l){let s=!P1(i);return r&&(s||l==!1)?K1(r,i):i}const xp=r=>r instanceof rr?{...r}:r;function Fi(r,i){i=i||{};const l={};function s(y,j,R,A){return oe.isPlainObject(y)&&oe.isPlainObject(j)?oe.merge.call({caseless:A},y,j):oe.isPlainObject(j)?oe.merge({},j):oe.isArray(j)?j.slice():j}function d(y,j,R,A){if(oe.isUndefined(j)){if(!oe.isUndefined(y))return s(void 0,y,R,A)}else return s(y,j,R,A)}function h(y,j){if(!oe.isUndefined(j))return s(void 0,j)}function g(y,j){if(oe.isUndefined(j)){if(!oe.isUndefined(y))return s(void 0,y)}else return s(void 0,j)}function b(y,j,R){if(R in i)return s(y,j);if(R in r)return s(void 0,y)}const v={url:h,method:h,data:h,baseURL:g,transformRequest:g,transformResponse:g,paramsSerializer:g,timeout:g,timeoutMessage:g,withCredentials:g,withXSRFToken:g,adapter:g,responseType:g,xsrfCookieName:g,xsrfHeaderName:g,onUploadProgress:g,onDownloadProgress:g,decompress:g,maxContentLength:g,maxBodyLength:g,beforeRedirect:g,transport:g,httpAgent:g,httpsAgent:g,cancelToken:g,socketPath:g,responseEncoding:g,validateStatus:b,headers:(y,j,R)=>d(xp(y),xp(j),R,!0)};return oe.forEach(Object.keys(Object.assign({},r,i)),function(j){const R=v[j]||d,A=R(r[j],i[j],j);oe.isUndefined(A)&&R!==b||(l[j]=A)}),l}const bg=r=>{const i=Fi({},r);let{data:l,withXSRFToken:s,xsrfHeaderName:d,xsrfCookieName:h,headers:g,auth:b}=i;i.headers=g=rr.from(g),i.url=mg(xg(i.baseURL,i.url,i.allowAbsoluteUrls),r.params,r.paramsSerializer),b&&g.set("Authorization","Basic "+btoa((b.username||"")+":"+(b.password?unescape(encodeURIComponent(b.password)):"")));let v;if(oe.isFormData(l)){if(Un.hasStandardBrowserEnv||Un.hasStandardBrowserWebWorkerEnv)g.setContentType(void 0);else if((v=g.getContentType())!==!1){const[y,...j]=v?v.split(";").map(R=>R.trim()).filter(Boolean):[];g.setContentType([y||"multipart/form-data",...j].join("; "))}}if(Un.hasStandardBrowserEnv&&(s&&oe.isFunction(s)&&(s=s(i)),s||s!==!1&&B1(i.url))){const y=d&&h&&H1.read(h);y&&g.set(d,y)}return i},Q1=typeof XMLHttpRequest<"u",G1=Q1&&function(r){return new Promise(function(l,s){const d=bg(r);let h=d.data;const g=rr.from(d.headers).normalize();let{responseType:b,onUploadProgress:v,onDownloadProgress:y}=d,j,R,A,B,k;function D(){B&&B(),k&&k(),d.cancelToken&&d.cancelToken.unsubscribe(j),d.signal&&d.signal.removeEventListener("abort",j)}let Q=new XMLHttpRequest;Q.open(d.method.toUpperCase(),d.url,!0),Q.timeout=d.timeout;function X(){if(!Q)return;const Z=rr.from("getAllResponseHeaders"in Q&&Q.getAllResponseHeaders()),pe={data:!b||b==="text"||b==="json"?Q.responseText:Q.response,status:Q.status,statusText:Q.statusText,headers:Z,config:r,request:Q};vg(function(Me){l(Me),D()},function(Me){s(Me),D()},pe),Q=null}"onloadend"in Q?Q.onloadend=X:Q.onreadystatechange=function(){!Q||Q.readyState!==4||Q.status===0&&!(Q.responseURL&&Q.responseURL.indexOf("file:")===0)||setTimeout(X)},Q.onabort=function(){Q&&(s(new lt("Request aborted",lt.ECONNABORTED,r,Q)),Q=null)},Q.onerror=function(){s(new lt("Network Error",lt.ERR_NETWORK,r,Q)),Q=null},Q.ontimeout=function(){let Se=d.timeout?"timeout of "+d.timeout+"ms exceeded":"timeout exceeded";const pe=d.transitional||pg;d.timeoutErrorMessage&&(Se=d.timeoutErrorMessage),s(new lt(Se,pe.clarifyTimeoutError?lt.ETIMEDOUT:lt.ECONNABORTED,r,Q)),Q=null},h===void 0&&g.setContentType(null),"setRequestHeader"in Q&&oe.forEach(g.toJSON(),function(Se,pe){Q.setRequestHeader(pe,Se)}),oe.isUndefined(d.withCredentials)||(Q.withCredentials=!!d.withCredentials),b&&b!=="json"&&(Q.responseType=d.responseType),y&&([A,k]=Vu(y,!0),Q.addEventListener("progress",A)),v&&Q.upload&&([R,B]=Vu(v),Q.upload.addEventListener("progress",R),Q.upload.addEventListener("loadend",B)),(d.cancelToken||d.signal)&&(j=Z=>{Q&&(s(!Z||Z.type?new Yl(null,r,Q):Z),Q.abort(),Q=null)},d.cancelToken&&d.cancelToken.subscribe(j),d.signal&&(d.signal.aborted?j():d.signal.addEventListener("abort",j)));const ce=k1(d.url);if(ce&&Un.protocols.indexOf(ce)===-1){s(new lt("Unsupported protocol "+ce+":",lt.ERR_BAD_REQUEST,r));return}Q.send(h||null)})},V1=(r,i)=>{const{length:l}=r=r?r.filter(Boolean):[];if(i||l){let s=new AbortController,d;const h=function(y){if(!d){d=!0,b();const j=y instanceof Error?y:this.reason;s.abort(j instanceof lt?j:new Yl(j instanceof Error?j.message:j))}};let g=i&&setTimeout(()=>{g=null,h(new lt(`timeout ${i} of ms exceeded`,lt.ETIMEDOUT))},i);const b=()=>{r&&(g&&clearTimeout(g),g=null,r.forEach(y=>{y.unsubscribe?y.unsubscribe(h):y.removeEventListener("abort",h)}),r=null)};r.forEach(y=>y.addEventListener("abort",h));const{signal:v}=s;return v.unsubscribe=()=>oe.asap(b),v}},Y1=function*(r,i){let l=r.byteLength;if(l<i){yield r;return}let s=0,d;for(;s<l;)d=s+i,yield r.slice(s,d),s=d},I1=async function*(r,i){for await(const l of $1(r))yield*Y1(l,i)},$1=async function*(r){if(r[Symbol.asyncIterator]){yield*r;return}const i=r.getReader();try{for(;;){const{done:l,value:s}=await i.read();if(l)break;yield s}}finally{await i.cancel()}},bp=(r,i,l,s)=>{const d=I1(r,i);let h=0,g,b=v=>{g||(g=!0,s&&s(v))};return new ReadableStream({async pull(v){try{const{done:y,value:j}=await d.next();if(y){b(),v.close();return}let R=j.byteLength;if(l){let A=h+=R;l(A)}v.enqueue(new Uint8Array(j))}catch(y){throw b(y),y}},cancel(v){return b(v),d.return()}},{highWaterMark:2})},rc=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",wg=rc&&typeof ReadableStream=="function",X1=rc&&(typeof TextEncoder=="function"?(r=>i=>r.encode(i))(new TextEncoder):async r=>new Uint8Array(await new Response(r).arrayBuffer())),Sg=(r,...i)=>{try{return!!r(...i)}catch{return!1}},F1=wg&&Sg(()=>{let r=!1;const i=new Request(Un.origin,{body:new ReadableStream,method:"POST",get duplex(){return r=!0,"half"}}).headers.has("Content-Type");return r&&!i}),wp=64*1024,yf=wg&&Sg(()=>oe.isReadableStream(new Response("").body)),Yu={stream:yf&&(r=>r.body)};rc&&(r=>{["text","arrayBuffer","blob","formData","stream"].forEach(i=>{!Yu[i]&&(Yu[i]=oe.isFunction(r[i])?l=>l[i]():(l,s)=>{throw new lt(`Response type '${i}' is not supported`,lt.ERR_NOT_SUPPORT,s)})})})(new Response);const W1=async r=>{if(r==null)return 0;if(oe.isBlob(r))return r.size;if(oe.isSpecCompliantForm(r))return(await new Request(Un.origin,{method:"POST",body:r}).arrayBuffer()).byteLength;if(oe.isArrayBufferView(r)||oe.isArrayBuffer(r))return r.byteLength;if(oe.isURLSearchParams(r)&&(r=r+""),oe.isString(r))return(await X1(r)).byteLength},Z1=async(r,i)=>{const l=oe.toFiniteNumber(r.getContentLength());return l??W1(i)},J1=rc&&(async r=>{let{url:i,method:l,data:s,signal:d,cancelToken:h,timeout:g,onDownloadProgress:b,onUploadProgress:v,responseType:y,headers:j,withCredentials:R="same-origin",fetchOptions:A}=bg(r);y=y?(y+"").toLowerCase():"text";let B=V1([d,h&&h.toAbortSignal()],g),k;const D=B&&B.unsubscribe&&(()=>{B.unsubscribe()});let Q;try{if(v&&F1&&l!=="get"&&l!=="head"&&(Q=await Z1(j,s))!==0){let pe=new Request(i,{method:"POST",body:s,duplex:"half"}),I;if(oe.isFormData(s)&&(I=pe.headers.get("content-type"))&&j.setContentType(I),pe.body){const[Me,Ie]=yp(Q,Vu(vp(v)));s=bp(pe.body,wp,Me,Ie)}}oe.isString(R)||(R=R?"include":"omit");const X="credentials"in Request.prototype;k=new Request(i,{...A,signal:B,method:l.toUpperCase(),headers:j.normalize().toJSON(),body:s,duplex:"half",credentials:X?R:void 0});let ce=await fetch(k,A);const Z=yf&&(y==="stream"||y==="response");if(yf&&(b||Z&&D)){const pe={};["status","statusText","headers"].forEach(Ye=>{pe[Ye]=ce[Ye]});const I=oe.toFiniteNumber(ce.headers.get("content-length")),[Me,Ie]=b&&yp(I,Vu(vp(b),!0))||[];ce=new Response(bp(ce.body,wp,Me,()=>{Ie&&Ie(),D&&D()}),pe)}y=y||"text";let Se=await Yu[oe.findKey(Yu,y)||"text"](ce,r);return!Z&&D&&D(),await new Promise((pe,I)=>{vg(pe,I,{data:Se,headers:rr.from(ce.headers),status:ce.status,statusText:ce.statusText,config:r,request:k})})}catch(X){throw D&&D(),X&&X.name==="TypeError"&&/Load failed|fetch/i.test(X.message)?Object.assign(new lt("Network Error",lt.ERR_NETWORK,r,k),{cause:X.cause||X}):lt.from(X,X&&X.code,r,k)}}),vf={http:m1,xhr:G1,fetch:J1};oe.forEach(vf,(r,i)=>{if(r){try{Object.defineProperty(r,"name",{value:i})}catch{}Object.defineProperty(r,"adapterName",{value:i})}});const Sp=r=>`- ${r}`,ew=r=>oe.isFunction(r)||r===null||r===!1,jg={getAdapter:r=>{r=oe.isArray(r)?r:[r];const{length:i}=r;let l,s;const d={};for(let h=0;h<i;h++){l=r[h];let g;if(s=l,!ew(l)&&(s=vf[(g=String(l)).toLowerCase()],s===void 0))throw new lt(`Unknown adapter '${g}'`);if(s)break;d[g||"#"+h]=s}if(!s){const h=Object.entries(d).map(([b,v])=>`adapter ${b} `+(v===!1?"is not supported by the environment":"is not available in the build"));let g=i?h.length>1?`since :
`+h.map(Sp).join(`
`):" "+Sp(h[0]):"as no adapter specified";throw new lt("There is no suitable adapter to dispatch the request "+g,"ERR_NOT_SUPPORT")}return s},adapters:vf};function af(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new Yl(null,r)}function jp(r){return af(r),r.headers=rr.from(r.headers),r.data=rf.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),jg.getAdapter(r.adapter||xo.adapter)(r).then(function(s){return af(r),s.data=rf.call(r,r.transformResponse,s),s.headers=rr.from(s.headers),s},function(s){return yg(s)||(af(r),s&&s.response&&(s.response.data=rf.call(r,r.transformResponse,s.response),s.response.headers=rr.from(s.response.headers))),Promise.reject(s)})}const Eg="1.10.0",ac={};["object","boolean","number","function","string","symbol"].forEach((r,i)=>{ac[r]=function(s){return typeof s===r||"a"+(i<1?"n ":" ")+r}});const Ep={};ac.transitional=function(i,l,s){function d(h,g){return"[Axios v"+Eg+"] Transitional option '"+h+"'"+g+(s?". "+s:"")}return(h,g,b)=>{if(i===!1)throw new lt(d(g," has been removed"+(l?" in "+l:"")),lt.ERR_DEPRECATED);return l&&!Ep[g]&&(Ep[g]=!0,console.warn(d(g," has been deprecated since v"+l+" and will be removed in the near future"))),i?i(h,g,b):!0}};ac.spelling=function(i){return(l,s)=>(console.warn(`${s} is likely a misspelling of ${i}`),!0)};function tw(r,i,l){if(typeof r!="object")throw new lt("options must be an object",lt.ERR_BAD_OPTION_VALUE);const s=Object.keys(r);let d=s.length;for(;d-- >0;){const h=s[d],g=i[h];if(g){const b=r[h],v=b===void 0||g(b,h,r);if(v!==!0)throw new lt("option "+h+" must be "+v,lt.ERR_BAD_OPTION_VALUE);continue}if(l!==!0)throw new lt("Unknown option "+h,lt.ERR_BAD_OPTION)}}const Bu={assertOptions:tw,validators:ac},aa=Bu.validators;let Xi=class{constructor(i){this.defaults=i||{},this.interceptors={request:new pp,response:new pp}}async request(i,l){try{return await this._request(i,l)}catch(s){if(s instanceof Error){let d={};Error.captureStackTrace?Error.captureStackTrace(d):d=new Error;const h=d.stack?d.stack.replace(/^.+\n/,""):"";try{s.stack?h&&!String(s.stack).endsWith(h.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+h):s.stack=h}catch{}}throw s}}_request(i,l){typeof i=="string"?(l=l||{},l.url=i):l=i||{},l=Fi(this.defaults,l);const{transitional:s,paramsSerializer:d,headers:h}=l;s!==void 0&&Bu.assertOptions(s,{silentJSONParsing:aa.transitional(aa.boolean),forcedJSONParsing:aa.transitional(aa.boolean),clarifyTimeoutError:aa.transitional(aa.boolean)},!1),d!=null&&(oe.isFunction(d)?l.paramsSerializer={serialize:d}:Bu.assertOptions(d,{encode:aa.function,serialize:aa.function},!0)),l.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?l.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:l.allowAbsoluteUrls=!0),Bu.assertOptions(l,{baseUrl:aa.spelling("baseURL"),withXsrfToken:aa.spelling("withXSRFToken")},!0),l.method=(l.method||this.defaults.method||"get").toLowerCase();let g=h&&oe.merge(h.common,h[l.method]);h&&oe.forEach(["delete","get","head","post","put","patch","common"],k=>{delete h[k]}),l.headers=rr.concat(g,h);const b=[];let v=!0;this.interceptors.request.forEach(function(D){typeof D.runWhen=="function"&&D.runWhen(l)===!1||(v=v&&D.synchronous,b.unshift(D.fulfilled,D.rejected))});const y=[];this.interceptors.response.forEach(function(D){y.push(D.fulfilled,D.rejected)});let j,R=0,A;if(!v){const k=[jp.bind(this),void 0];for(k.unshift.apply(k,b),k.push.apply(k,y),A=k.length,j=Promise.resolve(l);R<A;)j=j.then(k[R++],k[R++]);return j}A=b.length;let B=l;for(R=0;R<A;){const k=b[R++],D=b[R++];try{B=k(B)}catch(Q){D.call(this,Q);break}}try{j=jp.call(this,B)}catch(k){return Promise.reject(k)}for(R=0,A=y.length;R<A;)j=j.then(y[R++],y[R++]);return j}getUri(i){i=Fi(this.defaults,i);const l=xg(i.baseURL,i.url,i.allowAbsoluteUrls);return mg(l,i.params,i.paramsSerializer)}};oe.forEach(["delete","get","head","options"],function(i){Xi.prototype[i]=function(l,s){return this.request(Fi(s||{},{method:i,url:l,data:(s||{}).data}))}});oe.forEach(["post","put","patch"],function(i){function l(s){return function(h,g,b){return this.request(Fi(b||{},{method:i,headers:s?{"Content-Type":"multipart/form-data"}:{},url:h,data:g}))}}Xi.prototype[i]=l(),Xi.prototype[i+"Form"]=l(!0)});let nw=class Ng{constructor(i){if(typeof i!="function")throw new TypeError("executor must be a function.");let l;this.promise=new Promise(function(h){l=h});const s=this;this.promise.then(d=>{if(!s._listeners)return;let h=s._listeners.length;for(;h-- >0;)s._listeners[h](d);s._listeners=null}),this.promise.then=d=>{let h;const g=new Promise(b=>{s.subscribe(b),h=b}).then(d);return g.cancel=function(){s.unsubscribe(h)},g},i(function(h,g,b){s.reason||(s.reason=new Yl(h,g,b),l(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(i){if(this.reason){i(this.reason);return}this._listeners?this._listeners.push(i):this._listeners=[i]}unsubscribe(i){if(!this._listeners)return;const l=this._listeners.indexOf(i);l!==-1&&this._listeners.splice(l,1)}toAbortSignal(){const i=new AbortController,l=s=>{i.abort(s)};return this.subscribe(l),i.signal.unsubscribe=()=>this.unsubscribe(l),i.signal}static source(){let i;return{token:new Ng(function(d){i=d}),cancel:i}}};function rw(r){return function(l){return r.apply(null,l)}}function aw(r){return oe.isObject(r)&&r.isAxiosError===!0}const xf={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(xf).forEach(([r,i])=>{xf[i]=r});function Rg(r){const i=new Xi(r),l=ng(Xi.prototype.request,i);return oe.extend(l,Xi.prototype,i,{allOwnKeys:!0}),oe.extend(l,i,null,{allOwnKeys:!0}),l.create=function(d){return Rg(Fi(r,d))},l}const Wt=Rg(xo);Wt.Axios=Xi;Wt.CanceledError=Yl;Wt.CancelToken=nw;Wt.isCancel=yg;Wt.VERSION=Eg;Wt.toFormData=nc;Wt.AxiosError=lt;Wt.Cancel=Wt.CanceledError;Wt.all=function(i){return Promise.all(i)};Wt.spread=rw;Wt.isAxiosError=aw;Wt.mergeConfig=Fi;Wt.AxiosHeaders=rr;Wt.formToJSON=r=>gg(oe.isHTMLForm(r)?new FormData(r):r);Wt.getAdapter=jg.getAdapter;Wt.HttpStatusCode=xf;Wt.default=Wt;const{Axios:f2,AxiosError:h2,CanceledError:m2,isCancel:p2,CancelToken:g2,VERSION:y2,all:v2,Cancel:x2,isAxiosError:b2,spread:w2,toFormData:S2,AxiosHeaders:j2,HttpStatusCode:E2,formToJSON:N2,getAdapter:R2,mergeConfig:T2}=Wt,iw="http://localhost:3002/api",lw=3e4;class Pr extends Error{code;statusCode;details;constructor(i,l,s,d){super(i),this.name="APIClientError",this.code=l,this.statusCode=s,this.details=d}}class sw{client;constructor(){this.client=Wt.create({baseURL:iw,timeout:lw,headers:{"Content-Type":"application/json"}}),this.client.interceptors.response.use(i=>i,i=>Promise.reject(this.handleError(i)))}handleError(i){if(i.response){const l=i.response.data;return l&&!l.success&&l.error?new Pr(l.error.message,l.error.code,i.response.status,l.error.details):new Pr(`服务器错误 (${i.response.status})`,"SERVER_ERROR",i.response.status)}return i.request?new Pr("网络连接失败，请检查网络连接","NETWORK_ERROR"):new Pr("请求失败","REQUEST_ERROR")}async generateQuestions(i,l){try{const s=await this.client.post("/v1/questions/generate",{...i,languageInstruction:l});if(!s.data.success||!s.data.data)throw new Pr(s.data.error?.message||"题目生成失败",s.data.error?.code||"GENERATION_FAILED");return s.data.data}catch(s){throw s instanceof Pr?s:new Pr("题目生成请求失败","REQUEST_FAILED")}}async chatWithAI(i,l={}){try{const s={message:i,questionContext:l.questionContext,conversationHistory:l.conversationHistory,languageInstruction:l.languageInstruction},d=await this.client.post("/v1/chat",s);if(!d.data.success||!d.data.data)throw new Pr(d.data.error?.message||"聊天请求失败",d.data.error?.code||"CHAT_FAILED");return d.data.data}catch(s){throw s instanceof Pr?s:new Pr("聊天请求失败","REQUEST_FAILED")}}async healthCheck(){try{return(await this.client.get("/health")).data.success}catch{return!1}}async checkGeminiHealth(){try{const i=await this.client.get("/health/gemini");return i.data.success&&i.data.data?{connected:i.data.data.geminiAPI.connected,rateLimit:i.data.data.geminiAPI.rateLimit}:{connected:!1}}catch{return{connected:!1}}}async getServerStatus(){try{const i=await this.client.get("/health");return i.data.success&&i.data.data?i.data.data:null}catch{return null}}}const Tg=new sw,ow=(r,i)=>Tg.generateQuestions(r,i),uw=(r,i)=>Tg.chatWithAI(r,i);var Hu={exports:{}},cw=Hu.exports,Np;function dw(){return Np||(Np=1,function(r,i){(function(l,s){r.exports=s()})(cw,function(){var l=function(o,f){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,x){p.__proto__=x}||function(p,x){for(var S in x)Object.prototype.hasOwnProperty.call(x,S)&&(p[S]=x[S])})(o,f)},s=function(){return(s=Object.assign||function(o){for(var f,p=1,x=arguments.length;p<x;p++)for(var S in f=arguments[p])Object.prototype.hasOwnProperty.call(f,S)&&(o[S]=f[S]);return o}).apply(this,arguments)};function d(o,f,p){for(var x,S=0,E=f.length;S<E;S++)!x&&S in f||((x=x||Array.prototype.slice.call(f,0,S))[S]=f[S]);return o.concat(x||Array.prototype.slice.call(f))}var h=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Xy,g=Object.keys,b=Array.isArray;function v(o,f){return typeof f!="object"||g(f).forEach(function(p){o[p]=f[p]}),o}typeof Promise>"u"||h.Promise||(h.Promise=Promise);var y=Object.getPrototypeOf,j={}.hasOwnProperty;function R(o,f){return j.call(o,f)}function A(o,f){typeof f=="function"&&(f=f(y(o))),(typeof Reflect>"u"?g:Reflect.ownKeys)(f).forEach(function(p){k(o,p,f[p])})}var B=Object.defineProperty;function k(o,f,p,x){B(o,f,v(p&&R(p,"get")&&typeof p.get=="function"?{get:p.get,set:p.set,configurable:!0}:{value:p,configurable:!0,writable:!0},x))}function D(o){return{from:function(f){return o.prototype=Object.create(f.prototype),k(o.prototype,"constructor",o),{extend:A.bind(null,o.prototype)}}}}var Q=Object.getOwnPropertyDescriptor,X=[].slice;function ce(o,f,p){return X.call(o,f,p)}function Z(o,f){return f(o)}function Se(o){if(!o)throw new Error("Assertion Failed")}function pe(o){h.setImmediate?setImmediate(o):setTimeout(o,0)}function I(o,f){if(typeof f=="string"&&R(o,f))return o[f];if(!f)return o;if(typeof f!="string"){for(var p=[],x=0,S=f.length;x<S;++x){var E=I(o,f[x]);p.push(E)}return p}var T=f.indexOf(".");if(T!==-1){var _=o[f.substr(0,T)];return _==null?void 0:I(_,f.substr(T+1))}}function Me(o,f,p){if(o&&f!==void 0&&!("isFrozen"in Object&&Object.isFrozen(o)))if(typeof f!="string"&&"length"in f){Se(typeof p!="string"&&"length"in p);for(var x=0,S=f.length;x<S;++x)Me(o,f[x],p[x])}else{var E,T,_=f.indexOf(".");_!==-1?(E=f.substr(0,_),(T=f.substr(_+1))===""?p===void 0?b(o)&&!isNaN(parseInt(E))?o.splice(E,1):delete o[E]:o[E]=p:Me(_=!(_=o[E])||!R(o,E)?o[E]={}:_,T,p)):p===void 0?b(o)&&!isNaN(parseInt(f))?o.splice(f,1):delete o[f]:o[f]=p}}function Ie(o){var f,p={};for(f in o)R(o,f)&&(p[f]=o[f]);return p}var Ye=[].concat;function Ct(o){return Ye.apply([],o)}var $t="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(Ct([8,16,32,64].map(function(o){return["Int","Uint","Float"].map(function(f){return f+o+"Array"})}))).filter(function(o){return h[o]}),ct=new Set($t.map(function(o){return h[o]})),jt=null;function nt(o){return jt=new WeakMap,o=function f(p){if(!p||typeof p!="object")return p;var x=jt.get(p);if(x)return x;if(b(p)){x=[],jt.set(p,x);for(var S=0,E=p.length;S<E;++S)x.push(f(p[S]))}else if(ct.has(p.constructor))x=p;else{var T,_=y(p);for(T in x=_===Object.prototype?{}:Object.create(_),jt.set(p,x),p)R(p,T)&&(x[T]=f(p[T]))}return x}(o),jt=null,o}var yt={}.toString;function vt(o){return yt.call(o).slice(8,-1)}var te=typeof Symbol<"u"?Symbol.iterator:"@@iterator",je=typeof te=="symbol"?function(o){var f;return o!=null&&(f=o[te])&&f.apply(o)}:function(){return null};function Ce(o,f){return f=o.indexOf(f),0<=f&&o.splice(f,1),0<=f}var Ze={};function O(o){var f,p,x,S;if(arguments.length===1){if(b(o))return o.slice();if(this===Ze&&typeof o=="string")return[o];if(S=je(o)){for(p=[];!(x=S.next()).done;)p.push(x.value);return p}if(o==null)return[o];if(typeof(f=o.length)!="number")return[o];for(p=new Array(f);f--;)p[f]=o[f];return p}for(f=arguments.length,p=new Array(f);f--;)p[f]=arguments[f];return p}var ue=typeof Symbol<"u"?function(o){return o[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Dr=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Vn=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Dr),Ne={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function ve(o,f){this.name=o,this.message=f}function De(o,f){return o+". Errors: "+Object.keys(f).map(function(p){return f[p].toString()}).filter(function(p,x,S){return S.indexOf(p)===x}).join(`
`)}function at(o,f,p,x){this.failures=f,this.failedKeys=x,this.successCount=p,this.message=De(o,f)}function Ke(o,f){this.name="BulkError",this.failures=Object.keys(f).map(function(p){return f[p]}),this.failuresByPos=f,this.message=De(o,this.failures)}D(ve).from(Error).extend({toString:function(){return this.name+": "+this.message}}),D(at).from(ve),D(Ke).from(ve);var sn=Vn.reduce(function(o,f){return o[f]=f+"Error",o},{}),Ot=ve,Ue=Vn.reduce(function(o,f){var p=f+"Error";function x(S,E){this.name=p,S?typeof S=="string"?(this.message="".concat(S).concat(E?`
 `+E:""),this.inner=E||null):typeof S=="object"&&(this.message="".concat(S.name," ").concat(S.message),this.inner=S):(this.message=Ne[f]||p,this.inner=null)}return D(x).from(Ot),o[f]=x,o},{});Ue.Syntax=SyntaxError,Ue.Type=TypeError,Ue.Range=RangeError;var Vt=Dr.reduce(function(o,f){return o[f+"Error"]=Ue[f],o},{}),An=Vn.reduce(function(o,f){return["Syntax","Type","Range"].indexOf(f)===-1&&(o[f+"Error"]=Ue[f]),o},{});function xt(){}function Cr(o){return o}function ar(o,f){return o==null||o===Cr?f:function(p){return f(o(p))}}function Or(o,f){return function(){o.apply(this,arguments),f.apply(this,arguments)}}function Xl(o,f){return o===xt?f:function(){var p=o.apply(this,arguments);p!==void 0&&(arguments[0]=p);var x=this.onsuccess,S=this.onerror;this.onsuccess=null,this.onerror=null;var E=f.apply(this,arguments);return x&&(this.onsuccess=this.onsuccess?Or(x,this.onsuccess):x),S&&(this.onerror=this.onerror?Or(S,this.onerror):S),E!==void 0?E:p}}function qn(o,f){return o===xt?f:function(){o.apply(this,arguments);var p=this.onsuccess,x=this.onerror;this.onsuccess=this.onerror=null,f.apply(this,arguments),p&&(this.onsuccess=this.onsuccess?Or(p,this.onsuccess):p),x&&(this.onerror=this.onerror?Or(x,this.onerror):x)}}function Fl(o,f){return o===xt?f:function(p){var x=o.apply(this,arguments);v(p,x);var S=this.onsuccess,E=this.onerror;return this.onsuccess=null,this.onerror=null,p=f.apply(this,arguments),S&&(this.onsuccess=this.onsuccess?Or(S,this.onsuccess):S),E&&(this.onerror=this.onerror?Or(E,this.onerror):E),x===void 0?p===void 0?void 0:p:v(x,p)}}function Zi(o,f){return o===xt?f:function(){return f.apply(this,arguments)!==!1&&o.apply(this,arguments)}}function Ca(o,f){return o===xt?f:function(){var p=o.apply(this,arguments);if(p&&typeof p.then=="function"){for(var x=this,S=arguments.length,E=new Array(S);S--;)E[S]=arguments[S];return p.then(function(){return f.apply(x,E)})}return f.apply(this,arguments)}}An.ModifyError=at,An.DexieError=ve,An.BulkError=Ke;var Sn=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function hr(o){Sn=o}var $n={},bi=100,$t=typeof Promise>"u"?[]:function(){var o=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[o,y(o),o];var f=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[f,y(f),o]}(),Dr=$t[0],Vn=$t[1],$t=$t[2],Vn=Vn&&Vn.then,Nt=Dr&&Dr.constructor,Bn=!!$t,Yt=function(o,f){_n.push([o,f]),Hn&&(queueMicrotask(ji),Hn=!1)},wi=!0,Hn=!0,mr=[],pr=[],Mr=Cr,fn={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:xt,pgp:!1,env:{},finalize:xt},ze=fn,_n=[],gr=0,Lr=[];function _e(o){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var f=this._PSD=ze;if(typeof o!="function"){if(o!==$n)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Oa(this,this._value))}this._state=null,this._value=null,++f.ref,function p(x,S){try{S(function(E){if(x._state===null){if(E===x)throw new TypeError("A promise cannot be resolved with itself.");var T=x._lib&&L();E&&typeof E.then=="function"?p(x,function(_,q){E instanceof _e?E._then(_,q):E.then(_,q)}):(x._state=!0,x._value=E,Ir(x)),T&&W()}},Oa.bind(null,x))}catch(E){Oa(x,E)}}(this,o)}var Vr={get:function(){var o=ze,f=Ge;function p(x,S){var E=this,T=!o.global&&(o!==ze||f!==Ge),_=T&&!ft(),q=new _e(function(P,V){zr(E,new Yr(Cn(x,o,T,_),Cn(S,o,T,_),P,V,o))});return this._consoleTask&&(q._consoleTask=this._consoleTask),q}return p.prototype=$n,p},set:function(o){k(this,"then",o&&o.prototype===$n?Vr:{get:function(){return o},set:Vr.set})}};function Yr(o,f,p,x,S){this.onFulfilled=typeof o=="function"?o:null,this.onRejected=typeof f=="function"?f:null,this.resolve=p,this.reject=x,this.psd=S}function Oa(o,f){var p,x;pr.push(f),o._state===null&&(p=o._lib&&L(),f=Mr(f),o._state=!1,o._value=f,x=o,mr.some(function(S){return S._value===x._value})||mr.push(x),Ir(o),p&&W())}function Ir(o){var f=o._listeners;o._listeners=[];for(var p=0,x=f.length;p<x;++p)zr(o,f[p]);var S=o._PSD;--S.ref||S.finalize(),gr===0&&(++gr,Yt(function(){--gr==0&&ie()},[]))}function zr(o,f){if(o._state!==null){var p=o._state?f.onFulfilled:f.onRejected;if(p===null)return(o._state?f.resolve:f.reject)(o._value);++f.psd.ref,++gr,Yt(Si,[p,o,f])}else o._listeners.push(f)}function Si(o,f,p){try{var x,S=f._value;!f._state&&pr.length&&(pr=[]),x=Sn&&f._consoleTask?f._consoleTask.run(function(){return o(S)}):o(S),f._state||pr.indexOf(S)!==-1||function(E){for(var T=mr.length;T;)if(mr[--T]._value===E._value)return mr.splice(T,1)}(f),p.resolve(x)}catch(E){p.reject(E)}finally{--gr==0&&ie(),--p.psd.ref||p.psd.finalize()}}function ji(){hn(fn,function(){L()&&W()})}function L(){var o=wi;return Hn=wi=!1,o}function W(){var o,f,p;do for(;0<_n.length;)for(o=_n,_n=[],p=o.length,f=0;f<p;++f){var x=o[f];x[0].apply(null,x[1])}while(0<_n.length);Hn=wi=!0}function ie(){var o=mr;mr=[],o.forEach(function(x){x._PSD.onunhandled.call(null,x._value,x)});for(var f=Lr.slice(0),p=f.length;p;)f[--p]()}function ge(o){return new _e($n,!1,o)}function he(o,f){var p=ze;return function(){var x=L(),S=ze;try{return Fe(p,!0),o.apply(this,arguments)}catch(E){f&&f(E)}finally{Fe(S,!1),x&&W()}}}A(_e.prototype,{then:Vr,_then:function(o,f){zr(this,new Yr(null,null,o,f,ze))},catch:function(o){if(arguments.length===1)return this.then(null,o);var f=o,p=arguments[1];return typeof f=="function"?this.then(null,function(x){return(x instanceof f?p:ge)(x)}):this.then(null,function(x){return(x&&x.name===f?p:ge)(x)})},finally:function(o){return this.then(function(f){return _e.resolve(o()).then(function(){return f})},function(f){return _e.resolve(o()).then(function(){return ge(f)})})},timeout:function(o,f){var p=this;return o<1/0?new _e(function(x,S){var E=setTimeout(function(){return S(new Ue.Timeout(f))},o);p.then(x,S).finally(clearTimeout.bind(null,E))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&k(_e.prototype,Symbol.toStringTag,"Dexie.Promise"),fn.env=Rt(),A(_e,{all:function(){var o=O.apply(null,arguments).map(kt);return new _e(function(f,p){o.length===0&&f([]);var x=o.length;o.forEach(function(S,E){return _e.resolve(S).then(function(T){o[E]=T,--x||f(o)},p)})})},resolve:function(o){return o instanceof _e?o:o&&typeof o.then=="function"?new _e(function(f,p){o.then(f,p)}):new _e($n,!0,o)},reject:ge,race:function(){var o=O.apply(null,arguments).map(kt);return new _e(function(f,p){o.map(function(x){return _e.resolve(x).then(f,p)})})},PSD:{get:function(){return ze},set:function(o){return ze=o}},totalEchoes:{get:function(){return Ge}},newPSD:Le,usePSD:hn,scheduler:{get:function(){return Yt},set:function(o){Yt=o}},rejectionMapper:{get:function(){return Mr},set:function(o){Mr=o}},follow:function(o,f){return new _e(function(p,x){return Le(function(S,E){var T=ze;T.unhandleds=[],T.onunhandled=E,T.finalize=Or(function(){var _,q=this;_=function(){q.unhandleds.length===0?S():E(q.unhandleds[0])},Lr.push(function P(){_(),Lr.splice(Lr.indexOf(P),1)}),++gr,Yt(function(){--gr==0&&ie()},[])},T.finalize),o()},f,p,x)})}}),Nt&&(Nt.allSettled&&k(_e,"allSettled",function(){var o=O.apply(null,arguments).map(kt);return new _e(function(f){o.length===0&&f([]);var p=o.length,x=new Array(p);o.forEach(function(S,E){return _e.resolve(S).then(function(T){return x[E]={status:"fulfilled",value:T}},function(T){return x[E]={status:"rejected",reason:T}}).then(function(){return--p||f(x)})})})}),Nt.any&&typeof AggregateError<"u"&&k(_e,"any",function(){var o=O.apply(null,arguments).map(kt);return new _e(function(f,p){o.length===0&&p(new AggregateError([]));var x=o.length,S=new Array(x);o.forEach(function(E,T){return _e.resolve(E).then(function(_){return f(_)},function(_){S[T]=_,--x||p(new AggregateError(S))})})})}),Nt.withResolvers&&(_e.withResolvers=Nt.withResolvers));var Te={awaits:0,echoes:0,id:0},He=0,ke=[],Pe=0,Ge=0,Be=0;function Le(o,f,p,x){var S=ze,E=Object.create(S);return E.parent=S,E.ref=0,E.global=!1,E.id=++Be,fn.env,E.env=Bn?{Promise:_e,PromiseProp:{value:_e,configurable:!0,writable:!0},all:_e.all,race:_e.race,allSettled:_e.allSettled,any:_e.any,resolve:_e.resolve,reject:_e.reject}:{},f&&v(E,f),++S.ref,E.finalize=function(){--this.parent.ref||this.parent.finalize()},x=hn(E,o,p,x),E.ref===0&&E.finalize(),x}function tt(){return Te.id||(Te.id=++He),++Te.awaits,Te.echoes+=bi,Te.id}function ft(){return!!Te.awaits&&(--Te.awaits==0&&(Te.id=0),Te.echoes=Te.awaits*bi,!0)}function kt(o){return Te.echoes&&o&&o.constructor===Nt?(tt(),o.then(function(f){return ft(),f},function(f){return ft(),bt(f)})):o}function Kt(){var o=ke[ke.length-1];ke.pop(),Fe(o,!1)}function Fe(o,f){var p,x=ze;(f?!Te.echoes||Pe++&&o===ze:!Pe||--Pe&&o===ze)||queueMicrotask(f?(function(S){++Ge,Te.echoes&&--Te.echoes!=0||(Te.echoes=Te.awaits=Te.id=0),ke.push(ze),Fe(S,!0)}).bind(null,o):Kt),o!==ze&&(ze=o,x===fn&&(fn.env=Rt()),Bn&&(p=fn.env.Promise,f=o.env,(x.global||o.global)&&(Object.defineProperty(h,"Promise",f.PromiseProp),p.all=f.all,p.race=f.race,p.resolve=f.resolve,p.reject=f.reject,f.allSettled&&(p.allSettled=f.allSettled),f.any&&(p.any=f.any))))}function Rt(){var o=h.Promise;return Bn?{Promise:o,PromiseProp:Object.getOwnPropertyDescriptor(h,"Promise"),all:o.all,race:o.race,allSettled:o.allSettled,any:o.any,resolve:o.resolve,reject:o.reject}:{}}function hn(o,f,p,x,S){var E=ze;try{return Fe(o,!0),f(p,x,S)}finally{Fe(E,!1)}}function Cn(o,f,p,x){return typeof o!="function"?o:function(){var S=ze;p&&tt(),Fe(f,!0);try{return o.apply(this,arguments)}finally{Fe(S,!1),x&&queueMicrotask(ft)}}}function on(o){Promise===Nt&&Te.echoes===0?Pe===0?o():enqueueNativeMicroTask(o):setTimeout(o,0)}(""+Vn).indexOf("[native code]")===-1&&(tt=ft=xt);var bt=_e.reject,Xn="￿",mn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",yr="String expected.",On=[],Fn="__dbnames",it="readonly",Qt="readwrite";function Pn(o,f){return o?f?function(){return o.apply(this,arguments)&&f.apply(this,arguments)}:o:f}var Kn={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Dt(o){return typeof o!="string"||/\./.test(o)?function(f){return f}:function(f){return f[o]===void 0&&o in f&&delete(f=nt(f))[o],f}}function kr(){throw Ue.Type()}function ut(o,f){try{var p=Ei(o),x=Ei(f);if(p!==x)return p==="Array"?1:x==="Array"?-1:p==="binary"?1:x==="binary"?-1:p==="string"?1:x==="string"?-1:p==="Date"?1:x!=="Date"?NaN:-1;switch(p){case"number":case"Date":case"string":return f<o?1:o<f?-1:0;case"binary":return function(S,E){for(var T=S.length,_=E.length,q=T<_?T:_,P=0;P<q;++P)if(S[P]!==E[P])return S[P]<E[P]?-1:1;return T===_?0:T<_?-1:1}(Qn(o),Qn(f));case"Array":return function(S,E){for(var T=S.length,_=E.length,q=T<_?T:_,P=0;P<q;++P){var V=ut(S[P],E[P]);if(V!==0)return V}return T===_?0:T<_?-1:1}(o,f)}}catch{}return NaN}function Ei(o){var f=typeof o;return f!="object"?f:ArrayBuffer.isView(o)?"binary":(o=vt(o),o==="ArrayBuffer"?"binary":o)}function Qn(o){return o instanceof Uint8Array?o:ArrayBuffer.isView(o)?new Uint8Array(o.buffer,o.byteOffset,o.byteLength):new Uint8Array(o)}var Wl=(Ut.prototype._trans=function(o,f,p){var x=this._tx||ze.trans,S=this.name,E=Sn&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(o==="readonly"?"read":"write"," ").concat(this.name));function T(P,V,M){if(!M.schema[S])throw new Ue.NotFound("Table "+S+" not part of transaction");return f(M.idbtrans,M)}var _=L();try{var q=x&&x.db._novip===this.db._novip?x===ze.trans?x._promise(o,T,p):Le(function(){return x._promise(o,T,p)},{trans:x,transless:ze.transless||ze}):function P(V,M,$,U){if(V.idbdb&&(V._state.openComplete||ze.letThrough||V._vip)){var G=V._createTransaction(M,$,V._dbSchema);try{G.create(),V._state.PR1398_maxLoop=3}catch(F){return F.name===sn.InvalidState&&V.isOpen()&&0<--V._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),V.close({disableAutoOpen:!1}),V.open().then(function(){return P(V,M,$,U)})):bt(F)}return G._promise(M,function(F,K){return Le(function(){return ze.trans=G,U(F,K,G)})}).then(function(F){if(M==="readwrite")try{G.idbtrans.commit()}catch{}return M==="readonly"?F:G._completion.then(function(){return F})})}if(V._state.openComplete)return bt(new Ue.DatabaseClosed(V._state.dbOpenError));if(!V._state.isBeingOpened){if(!V._state.autoOpen)return bt(new Ue.DatabaseClosed);V.open().catch(xt)}return V._state.dbReadyPromise.then(function(){return P(V,M,$,U)})}(this.db,o,[this.name],T);return E&&(q._consoleTask=E,q=q.catch(function(P){return console.trace(P),bt(P)})),q}finally{_&&W()}},Ut.prototype.get=function(o,f){var p=this;return o&&o.constructor===Object?this.where(o).first(f):o==null?bt(new Ue.Type("Invalid argument to Table.get()")):this._trans("readonly",function(x){return p.core.get({trans:x,key:o}).then(function(S){return p.hook.reading.fire(S)})}).then(f)},Ut.prototype.where=function(o){if(typeof o=="string")return new this.db.WhereClause(this,o);if(b(o))return new this.db.WhereClause(this,"[".concat(o.join("+"),"]"));var f=g(o);if(f.length===1)return this.where(f[0]).equals(o[f[0]]);var p=this.schema.indexes.concat(this.schema.primKey).filter(function(_){if(_.compound&&f.every(function(P){return 0<=_.keyPath.indexOf(P)})){for(var q=0;q<f.length;++q)if(f.indexOf(_.keyPath[q])===-1)return!1;return!0}return!1}).sort(function(_,q){return _.keyPath.length-q.keyPath.length})[0];if(p&&this.db._maxKey!==Xn){var E=p.keyPath.slice(0,f.length);return this.where(E).equals(E.map(function(q){return o[q]}))}!p&&Sn&&console.warn("The query ".concat(JSON.stringify(o)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(f.join("+"),"]"));var x=this.schema.idxByName;function S(_,q){return ut(_,q)===0}var T=f.reduce(function(M,q){var P=M[0],V=M[1],M=x[q],$=o[q];return[P||M,P||!M?Pn(V,M&&M.multi?function(U){return U=I(U,q),b(U)&&U.some(function(G){return S($,G)})}:function(U){return S($,I(U,q))}):V]},[null,null]),E=T[0],T=T[1];return E?this.where(E.name).equals(o[E.keyPath]).filter(T):p?this.filter(T):this.where(f).equals("")},Ut.prototype.filter=function(o){return this.toCollection().and(o)},Ut.prototype.count=function(o){return this.toCollection().count(o)},Ut.prototype.offset=function(o){return this.toCollection().offset(o)},Ut.prototype.limit=function(o){return this.toCollection().limit(o)},Ut.prototype.each=function(o){return this.toCollection().each(o)},Ut.prototype.toArray=function(o){return this.toCollection().toArray(o)},Ut.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},Ut.prototype.orderBy=function(o){return new this.db.Collection(new this.db.WhereClause(this,b(o)?"[".concat(o.join("+"),"]"):o))},Ut.prototype.reverse=function(){return this.toCollection().reverse()},Ut.prototype.mapToClass=function(o){var f,p=this.db,x=this.name;function S(){return f!==null&&f.apply(this,arguments)||this}(this.schema.mappedClass=o).prototype instanceof kr&&(function(q,P){if(typeof P!="function"&&P!==null)throw new TypeError("Class extends value "+String(P)+" is not a constructor or null");function V(){this.constructor=q}l(q,P),q.prototype=P===null?Object.create(P):(V.prototype=P.prototype,new V)}(S,f=o),Object.defineProperty(S.prototype,"db",{get:function(){return p},enumerable:!1,configurable:!0}),S.prototype.table=function(){return x},o=S);for(var E=new Set,T=o.prototype;T;T=y(T))Object.getOwnPropertyNames(T).forEach(function(q){return E.add(q)});function _(q){if(!q)return q;var P,V=Object.create(o.prototype);for(P in q)if(!E.has(P))try{V[P]=q[P]}catch{}return V}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=_,this.hook("reading",_),o},Ut.prototype.defineClass=function(){return this.mapToClass(function(o){v(this,o)})},Ut.prototype.add=function(o,f){var p=this,x=this.schema.primKey,S=x.auto,E=x.keyPath,T=o;return E&&S&&(T=Dt(E)(o)),this._trans("readwrite",function(_){return p.core.mutate({trans:_,type:"add",keys:f!=null?[f]:null,values:[T]})}).then(function(_){return _.numFailures?_e.reject(_.failures[0]):_.lastResult}).then(function(_){if(E)try{Me(o,E,_)}catch{}return _})},Ut.prototype.update=function(o,f){return typeof o!="object"||b(o)?this.where(":id").equals(o).modify(f):(o=I(o,this.schema.primKey.keyPath),o===void 0?bt(new Ue.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(o).modify(f))},Ut.prototype.put=function(o,f){var p=this,x=this.schema.primKey,S=x.auto,E=x.keyPath,T=o;return E&&S&&(T=Dt(E)(o)),this._trans("readwrite",function(_){return p.core.mutate({trans:_,type:"put",values:[T],keys:f!=null?[f]:null})}).then(function(_){return _.numFailures?_e.reject(_.failures[0]):_.lastResult}).then(function(_){if(E)try{Me(o,E,_)}catch{}return _})},Ut.prototype.delete=function(o){var f=this;return this._trans("readwrite",function(p){return f.core.mutate({trans:p,type:"delete",keys:[o]})}).then(function(p){return p.numFailures?_e.reject(p.failures[0]):void 0})},Ut.prototype.clear=function(){var o=this;return this._trans("readwrite",function(f){return o.core.mutate({trans:f,type:"deleteRange",range:Kn})}).then(function(f){return f.numFailures?_e.reject(f.failures[0]):void 0})},Ut.prototype.bulkGet=function(o){var f=this;return this._trans("readonly",function(p){return f.core.getMany({keys:o,trans:p}).then(function(x){return x.map(function(S){return f.hook.reading.fire(S)})})})},Ut.prototype.bulkAdd=function(o,f,p){var x=this,S=Array.isArray(f)?f:void 0,E=(p=p||(S?void 0:f))?p.allKeys:void 0;return this._trans("readwrite",function(T){var P=x.schema.primKey,_=P.auto,P=P.keyPath;if(P&&S)throw new Ue.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(S&&S.length!==o.length)throw new Ue.InvalidArgument("Arguments objects and keys must have the same length");var q=o.length,P=P&&_?o.map(Dt(P)):o;return x.core.mutate({trans:T,type:"add",keys:S,values:P,wantResults:E}).then(function(G){var M=G.numFailures,$=G.results,U=G.lastResult,G=G.failures;if(M===0)return E?$:U;throw new Ke("".concat(x.name,".bulkAdd(): ").concat(M," of ").concat(q," operations failed"),G)})})},Ut.prototype.bulkPut=function(o,f,p){var x=this,S=Array.isArray(f)?f:void 0,E=(p=p||(S?void 0:f))?p.allKeys:void 0;return this._trans("readwrite",function(T){var P=x.schema.primKey,_=P.auto,P=P.keyPath;if(P&&S)throw new Ue.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(S&&S.length!==o.length)throw new Ue.InvalidArgument("Arguments objects and keys must have the same length");var q=o.length,P=P&&_?o.map(Dt(P)):o;return x.core.mutate({trans:T,type:"put",keys:S,values:P,wantResults:E}).then(function(G){var M=G.numFailures,$=G.results,U=G.lastResult,G=G.failures;if(M===0)return E?$:U;throw new Ke("".concat(x.name,".bulkPut(): ").concat(M," of ").concat(q," operations failed"),G)})})},Ut.prototype.bulkUpdate=function(o){var f=this,p=this.core,x=o.map(function(T){return T.key}),S=o.map(function(T){return T.changes}),E=[];return this._trans("readwrite",function(T){return p.getMany({trans:T,keys:x,cache:"clone"}).then(function(_){var q=[],P=[];o.forEach(function(M,$){var U=M.key,G=M.changes,F=_[$];if(F){for(var K=0,ne=Object.keys(G);K<ne.length;K++){var le=ne[K],se=G[le];if(le===f.schema.primKey.keyPath){if(ut(se,U)!==0)throw new Ue.Constraint("Cannot update primary key in bulkUpdate()")}else Me(F,le,se)}E.push($),q.push(U),P.push(F)}});var V=q.length;return p.mutate({trans:T,type:"put",keys:q,values:P,updates:{keys:x,changeSpecs:S}}).then(function(M){var $=M.numFailures,U=M.failures;if($===0)return V;for(var G=0,F=Object.keys(U);G<F.length;G++){var K,ne=F[G],le=E[Number(ne)];le!=null&&(K=U[ne],delete U[ne],U[le]=K)}throw new Ke("".concat(f.name,".bulkUpdate(): ").concat($," of ").concat(V," operations failed"),U)})})})},Ut.prototype.bulkDelete=function(o){var f=this,p=o.length;return this._trans("readwrite",function(x){return f.core.mutate({trans:x,type:"delete",keys:o})}).then(function(T){var S=T.numFailures,E=T.lastResult,T=T.failures;if(S===0)return E;throw new Ke("".concat(f.name,".bulkDelete(): ").concat(S," of ").concat(p," operations failed"),T)})},Ut);function Ut(){}function $r(o){function f(T,_){if(_){for(var q=arguments.length,P=new Array(q-1);--q;)P[q-1]=arguments[q];return p[T].subscribe.apply(null,P),o}if(typeof T=="string")return p[T]}var p={};f.addEventType=E;for(var x=1,S=arguments.length;x<S;++x)E(arguments[x]);return f;function E(T,_,q){if(typeof T!="object"){var P;_=_||Zi;var V={subscribers:[],fire:q=q||xt,subscribe:function(M){V.subscribers.indexOf(M)===-1&&(V.subscribers.push(M),V.fire=_(V.fire,M))},unsubscribe:function(M){V.subscribers=V.subscribers.filter(function($){return $!==M}),V.fire=V.subscribers.reduce(_,q)}};return p[T]=f[T]=V}g(P=T).forEach(function(M){var $=P[M];if(b($))E(M,P[M][0],P[M][1]);else{if($!=="asap")throw new Ue.InvalidArgument("Invalid event config");var U=E(M,Cr,function(){for(var G=arguments.length,F=new Array(G);G--;)F[G]=arguments[G];U.subscribers.forEach(function(K){pe(function(){K.apply(null,F)})})})}})}}function Da(o,f){return D(f).from({prototype:o}),f}function Ur(o,f){return!(o.filter||o.algorithm||o.or)&&(f?o.justLimit:!o.replayFilter)}function Zl(o,f){o.filter=Pn(o.filter,f)}function Dn(o,f,p){var x=o.replayFilter;o.replayFilter=x?function(){return Pn(x(),f())}:f,o.justLimit=p&&!x}function Ma(o,f){if(o.isPrimKey)return f.primaryKey;var p=f.getIndexByKeyPath(o.index);if(!p)throw new Ue.Schema("KeyPath "+o.index+" on object store "+f.name+" is not indexed");return p}function Jl(o,f,p){var x=Ma(o,f.schema);return f.openCursor({trans:p,values:!o.keysOnly,reverse:o.dir==="prev",unique:!!o.unique,query:{index:x,range:o.range}})}function La(o,f,p,x){var S=o.replayFilter?Pn(o.filter,o.replayFilter()):o.filter;if(o.or){var E={},T=function(_,q,P){var V,M;S&&!S(q,P,function($){return q.stop($)},function($){return q.fail($)})||((M=""+(V=q.primaryKey))=="[object ArrayBuffer]"&&(M=""+new Uint8Array(V)),R(E,M)||(E[M]=!0,f(_,q,P)))};return Promise.all([o.or._iterate(T,p),sa(Jl(o,x,p),o.algorithm,T,!o.keysOnly&&o.valueMapper)])}return sa(Jl(o,x,p),Pn(o.algorithm,S),f,!o.keysOnly&&o.valueMapper)}function sa(o,f,p,x){var S=he(x?function(E,T,_){return p(x(E),T,_)}:p);return o.then(function(E){if(E)return E.start(function(){var T=function(){return E.continue()};f&&!f(E,function(_){return T=_},function(_){E.stop(_),T=xt},function(_){E.fail(_),T=xt})||S(E.value,E,function(_){return T=_}),T()})})}var za=(es.prototype.execute=function(o){var f=this["@@propmod"];if(f.add!==void 0){var p=f.add;if(b(p))return d(d([],b(o)?o:[],!0),p).sort();if(typeof p=="number")return(Number(o)||0)+p;if(typeof p=="bigint")try{return BigInt(o)+p}catch{return BigInt(0)+p}throw new TypeError("Invalid term ".concat(p))}if(f.remove!==void 0){var x=f.remove;if(b(x))return b(o)?o.filter(function(S){return!x.includes(S)}).sort():[];if(typeof x=="number")return Number(o)-x;if(typeof x=="bigint")try{return BigInt(o)-x}catch{return BigInt(0)-x}throw new TypeError("Invalid subtrahend ".concat(x))}return p=(p=f.replacePrefix)===null||p===void 0?void 0:p[0],p&&typeof o=="string"&&o.startsWith(p)?f.replacePrefix[1]+o.substring(p.length):o},es);function es(o){this["@@propmod"]=o}var ka=(wt.prototype._read=function(o,f){var p=this._ctx;return p.error?p.table._trans(null,bt.bind(null,p.error)):p.table._trans("readonly",o).then(f)},wt.prototype._write=function(o){var f=this._ctx;return f.error?f.table._trans(null,bt.bind(null,f.error)):f.table._trans("readwrite",o,"locked")},wt.prototype._addAlgorithm=function(o){var f=this._ctx;f.algorithm=Pn(f.algorithm,o)},wt.prototype._iterate=function(o,f){return La(this._ctx,o,f,this._ctx.table.core)},wt.prototype.clone=function(o){var f=Object.create(this.constructor.prototype),p=Object.create(this._ctx);return o&&v(p,o),f._ctx=p,f},wt.prototype.raw=function(){return this._ctx.valueMapper=null,this},wt.prototype.each=function(o){var f=this._ctx;return this._read(function(p){return La(f,o,p,f.table.core)})},wt.prototype.count=function(o){var f=this;return this._read(function(p){var x=f._ctx,S=x.table.core;if(Ur(x,!0))return S.count({trans:p,query:{index:Ma(x,S.schema),range:x.range}}).then(function(T){return Math.min(T,x.limit)});var E=0;return La(x,function(){return++E,!1},p,S).then(function(){return E})}).then(o)},wt.prototype.sortBy=function(o,f){var p=o.split(".").reverse(),x=p[0],S=p.length-1;function E(q,P){return P?E(q[p[P]],P-1):q[x]}var T=this._ctx.dir==="next"?1:-1;function _(q,P){return ut(E(q,S),E(P,S))*T}return this.toArray(function(q){return q.sort(_)}).then(f)},wt.prototype.toArray=function(o){var f=this;return this._read(function(p){var x=f._ctx;if(x.dir==="next"&&Ur(x,!0)&&0<x.limit){var S=x.valueMapper,E=Ma(x,x.table.core.schema);return x.table.core.query({trans:p,limit:x.limit,values:!0,query:{index:E,range:x.range}}).then(function(_){return _=_.result,S?_.map(S):_})}var T=[];return La(x,function(_){return T.push(_)},p,x.table.core).then(function(){return T})},o)},wt.prototype.offset=function(o){var f=this._ctx;return o<=0||(f.offset+=o,Ur(f)?Dn(f,function(){var p=o;return function(x,S){return p===0||(p===1?--p:S(function(){x.advance(p),p=0}),!1)}}):Dn(f,function(){var p=o;return function(){return--p<0}})),this},wt.prototype.limit=function(o){return this._ctx.limit=Math.min(this._ctx.limit,o),Dn(this._ctx,function(){var f=o;return function(p,x,S){return--f<=0&&x(S),0<=f}},!0),this},wt.prototype.until=function(o,f){return Zl(this._ctx,function(p,x,S){return!o(p.value)||(x(S),f)}),this},wt.prototype.first=function(o){return this.limit(1).toArray(function(f){return f[0]}).then(o)},wt.prototype.last=function(o){return this.reverse().first(o)},wt.prototype.filter=function(o){var f;return Zl(this._ctx,function(p){return o(p.value)}),(f=this._ctx).isMatch=Pn(f.isMatch,o),this},wt.prototype.and=function(o){return this.filter(o)},wt.prototype.or=function(o){return new this.db.WhereClause(this._ctx.table,o,this)},wt.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},wt.prototype.desc=function(){return this.reverse()},wt.prototype.eachKey=function(o){var f=this._ctx;return f.keysOnly=!f.isMatch,this.each(function(p,x){o(x.key,x)})},wt.prototype.eachUniqueKey=function(o){return this._ctx.unique="unique",this.eachKey(o)},wt.prototype.eachPrimaryKey=function(o){var f=this._ctx;return f.keysOnly=!f.isMatch,this.each(function(p,x){o(x.primaryKey,x)})},wt.prototype.keys=function(o){var f=this._ctx;f.keysOnly=!f.isMatch;var p=[];return this.each(function(x,S){p.push(S.key)}).then(function(){return p}).then(o)},wt.prototype.primaryKeys=function(o){var f=this._ctx;if(f.dir==="next"&&Ur(f,!0)&&0<f.limit)return this._read(function(x){var S=Ma(f,f.table.core.schema);return f.table.core.query({trans:x,values:!1,limit:f.limit,query:{index:S,range:f.range}})}).then(function(x){return x.result}).then(o);f.keysOnly=!f.isMatch;var p=[];return this.each(function(x,S){p.push(S.primaryKey)}).then(function(){return p}).then(o)},wt.prototype.uniqueKeys=function(o){return this._ctx.unique="unique",this.keys(o)},wt.prototype.firstKey=function(o){return this.limit(1).keys(function(f){return f[0]}).then(o)},wt.prototype.lastKey=function(o){return this.reverse().firstKey(o)},wt.prototype.distinct=function(){var o=this._ctx,o=o.index&&o.table.schema.idxByName[o.index];if(!o||!o.multi)return this;var f={};return Zl(this._ctx,function(S){var x=S.primaryKey.toString(),S=R(f,x);return f[x]=!0,!S}),this},wt.prototype.modify=function(o){var f=this,p=this._ctx;return this._write(function(x){var S,E,T;T=typeof o=="function"?o:(S=g(o),E=S.length,function(K){for(var ne=!1,le=0;le<E;++le){var se=S[le],de=o[se],we=I(K,se);de instanceof za?(Me(K,se,de.execute(we)),ne=!0):we!==de&&(Me(K,se,de),ne=!0)}return ne});var _=p.table.core,M=_.schema.primaryKey,q=M.outbound,P=M.extractKey,V=200,M=f.db._options.modifyChunkSize;M&&(V=typeof M=="object"?M[_.name]||M["*"]||200:M);function $(K,se){var le=se.failures,se=se.numFailures;G+=K-se;for(var de=0,we=g(le);de<we.length;de++){var Re=we[de];U.push(le[Re])}}var U=[],G=0,F=[];return f.clone().primaryKeys().then(function(K){function ne(se){var de=Math.min(V,K.length-se);return _.getMany({trans:x,keys:K.slice(se,se+de),cache:"immutable"}).then(function(we){for(var Re=[],xe=[],Ee=q?[]:null,Ae=[],be=0;be<de;++be){var Oe=we[be],Ve={value:nt(Oe),primKey:K[se+be]};T.call(Ve,Ve.value,Ve)!==!1&&(Ve.value==null?Ae.push(K[se+be]):q||ut(P(Oe),P(Ve.value))===0?(xe.push(Ve.value),q&&Ee.push(K[se+be])):(Ae.push(K[se+be]),Re.push(Ve.value)))}return Promise.resolve(0<Re.length&&_.mutate({trans:x,type:"add",values:Re}).then(function($e){for(var rt in $e.failures)Ae.splice(parseInt(rt),1);$(Re.length,$e)})).then(function(){return(0<xe.length||le&&typeof o=="object")&&_.mutate({trans:x,type:"put",keys:Ee,values:xe,criteria:le,changeSpec:typeof o!="function"&&o,isAdditionalChunk:0<se}).then(function($e){return $(xe.length,$e)})}).then(function(){return(0<Ae.length||le&&o===Ji)&&_.mutate({trans:x,type:"delete",keys:Ae,criteria:le,isAdditionalChunk:0<se}).then(function($e){return $(Ae.length,$e)})}).then(function(){return K.length>se+de&&ne(se+V)})})}var le=Ur(p)&&p.limit===1/0&&(typeof o!="function"||o===Ji)&&{index:p.index,range:p.range};return ne(0).then(function(){if(0<U.length)throw new at("Error modifying one or more objects",U,G,F);return K.length})})})},wt.prototype.delete=function(){var o=this._ctx,f=o.range;return Ur(o)&&(o.isPrimKey||f.type===3)?this._write(function(p){var x=o.table.core.schema.primaryKey,S=f;return o.table.core.count({trans:p,query:{index:x,range:S}}).then(function(E){return o.table.core.mutate({trans:p,type:"deleteRange",range:S}).then(function(T){var _=T.failures;if(T.lastResult,T.results,T=T.numFailures,T)throw new at("Could not delete some values",Object.keys(_).map(function(q){return _[q]}),E-T);return E-T})})}):this.modify(Ji)},wt);function wt(){}var Ji=function(o,f){return f.value=null};function bo(o,f){return o<f?-1:o===f?0:1}function ts(o,f){return f<o?-1:o===f?0:1}function Gn(o,f,p){return o=o instanceof ua?new o.Collection(o):o,o._ctx.error=new(p||TypeError)(f),o}function Ua(o){return new o.Collection(o,function(){return el("")}).limit(0)}function oa(o,f,p,x){var S,E,T,_,q,P,V,M=p.length;if(!p.every(function(G){return typeof G=="string"}))return Gn(o,yr);function $(G){S=G==="next"?function(K){return K.toUpperCase()}:function(K){return K.toLowerCase()},E=G==="next"?function(K){return K.toLowerCase()}:function(K){return K.toUpperCase()},T=G==="next"?bo:ts;var F=p.map(function(K){return{lower:E(K),upper:S(K)}}).sort(function(K,ne){return T(K.lower,ne.lower)});_=F.map(function(K){return K.upper}),q=F.map(function(K){return K.lower}),V=(P=G)==="next"?"":x}$("next"),o=new o.Collection(o,function(){return vr(_[0],q[M-1]+x)}),o._ondirectionchange=function(G){$(G)};var U=0;return o._addAlgorithm(function(G,F,K){var ne=G.key;if(typeof ne!="string")return!1;var le=E(ne);if(f(le,q,U))return!0;for(var se=null,de=U;de<M;++de){var we=function(Re,xe,Ee,Ae,be,Oe){for(var Ve=Math.min(Re.length,Ae.length),$e=-1,rt=0;rt<Ve;++rt){var jn=xe[rt];if(jn!==Ae[rt])return be(Re[rt],Ee[rt])<0?Re.substr(0,rt)+Ee[rt]+Ee.substr(rt+1):be(Re[rt],Ae[rt])<0?Re.substr(0,rt)+Ae[rt]+Ee.substr(rt+1):0<=$e?Re.substr(0,$e)+xe[$e]+Ee.substr($e+1):null;be(Re[rt],jn)<0&&($e=rt)}return Ve<Ae.length&&Oe==="next"?Re+Ee.substr(Re.length):Ve<Re.length&&Oe==="prev"?Re.substr(0,Ee.length):$e<0?null:Re.substr(0,$e)+Ae[$e]+Ee.substr($e+1)}(ne,le,_[de],q[de],T,P);we===null&&se===null?U=de+1:(se===null||0<T(se,we))&&(se=we)}return F(se!==null?function(){G.continue(se+V)}:K),!1}),o}function vr(o,f,p,x){return{type:2,lower:o,upper:f,lowerOpen:p,upperOpen:x}}function el(o){return{type:1,lower:o,upper:o}}var ua=(Object.defineProperty(Ht.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Ht.prototype.between=function(o,f,p,x){p=p!==!1,x=x===!0;try{return 0<this._cmp(o,f)||this._cmp(o,f)===0&&(p||x)&&(!p||!x)?Ua(this):new this.Collection(this,function(){return vr(o,f,!p,!x)})}catch{return Gn(this,mn)}},Ht.prototype.equals=function(o){return o==null?Gn(this,mn):new this.Collection(this,function(){return el(o)})},Ht.prototype.above=function(o){return o==null?Gn(this,mn):new this.Collection(this,function(){return vr(o,void 0,!0)})},Ht.prototype.aboveOrEqual=function(o){return o==null?Gn(this,mn):new this.Collection(this,function(){return vr(o,void 0,!1)})},Ht.prototype.below=function(o){return o==null?Gn(this,mn):new this.Collection(this,function(){return vr(void 0,o,!1,!0)})},Ht.prototype.belowOrEqual=function(o){return o==null?Gn(this,mn):new this.Collection(this,function(){return vr(void 0,o)})},Ht.prototype.startsWith=function(o){return typeof o!="string"?Gn(this,yr):this.between(o,o+Xn,!0,!0)},Ht.prototype.startsWithIgnoreCase=function(o){return o===""?this.startsWith(o):oa(this,function(f,p){return f.indexOf(p[0])===0},[o],Xn)},Ht.prototype.equalsIgnoreCase=function(o){return oa(this,function(f,p){return f===p[0]},[o],"")},Ht.prototype.anyOfIgnoreCase=function(){var o=O.apply(Ze,arguments);return o.length===0?Ua(this):oa(this,function(f,p){return p.indexOf(f)!==-1},o,"")},Ht.prototype.startsWithAnyOfIgnoreCase=function(){var o=O.apply(Ze,arguments);return o.length===0?Ua(this):oa(this,function(f,p){return p.some(function(x){return f.indexOf(x)===0})},o,Xn)},Ht.prototype.anyOf=function(){var o=this,f=O.apply(Ze,arguments),p=this._cmp;try{f.sort(p)}catch{return Gn(this,mn)}if(f.length===0)return Ua(this);var x=new this.Collection(this,function(){return vr(f[0],f[f.length-1])});x._ondirectionchange=function(E){p=E==="next"?o._ascending:o._descending,f.sort(p)};var S=0;return x._addAlgorithm(function(E,T,_){for(var q=E.key;0<p(q,f[S]);)if(++S===f.length)return T(_),!1;return p(q,f[S])===0||(T(function(){E.continue(f[S])}),!1)}),x},Ht.prototype.notEqual=function(o){return this.inAnyRange([[-1/0,o],[o,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Ht.prototype.noneOf=function(){var o=O.apply(Ze,arguments);if(o.length===0)return new this.Collection(this);try{o.sort(this._ascending)}catch{return Gn(this,mn)}var f=o.reduce(function(p,x){return p?p.concat([[p[p.length-1][1],x]]):[[-1/0,x]]},null);return f.push([o[o.length-1],this.db._maxKey]),this.inAnyRange(f,{includeLowers:!1,includeUppers:!1})},Ht.prototype.inAnyRange=function(ne,f){var p=this,x=this._cmp,S=this._ascending,E=this._descending,T=this._min,_=this._max;if(ne.length===0)return Ua(this);if(!ne.every(function(le){return le[0]!==void 0&&le[1]!==void 0&&S(le[0],le[1])<=0}))return Gn(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Ue.InvalidArgument);var q=!f||f.includeLowers!==!1,P=f&&f.includeUppers===!0,V,M=S;function $(le,se){return M(le[0],se[0])}try{(V=ne.reduce(function(le,se){for(var de=0,we=le.length;de<we;++de){var Re=le[de];if(x(se[0],Re[1])<0&&0<x(se[1],Re[0])){Re[0]=T(Re[0],se[0]),Re[1]=_(Re[1],se[1]);break}}return de===we&&le.push(se),le},[])).sort($)}catch{return Gn(this,mn)}var U=0,G=P?function(le){return 0<S(le,V[U][1])}:function(le){return 0<=S(le,V[U][1])},F=q?function(le){return 0<E(le,V[U][0])}:function(le){return 0<=E(le,V[U][0])},K=G,ne=new this.Collection(this,function(){return vr(V[0][0],V[V.length-1][1],!q,!P)});return ne._ondirectionchange=function(le){M=le==="next"?(K=G,S):(K=F,E),V.sort($)},ne._addAlgorithm(function(le,se,de){for(var we,Re=le.key;K(Re);)if(++U===V.length)return se(de),!1;return!G(we=Re)&&!F(we)||(p._cmp(Re,V[U][1])===0||p._cmp(Re,V[U][0])===0||se(function(){M===S?le.continue(V[U][0]):le.continue(V[U][1])}),!1)}),ne},Ht.prototype.startsWithAnyOf=function(){var o=O.apply(Ze,arguments);return o.every(function(f){return typeof f=="string"})?o.length===0?Ua(this):this.inAnyRange(o.map(function(f){return[f,f+Xn]})):Gn(this,"startsWithAnyOf() only works with strings")},Ht);function Ht(){}function ir(o){return he(function(f){return ca(f),o(f.target.error),!1})}function ca(o){o.stopPropagation&&o.stopPropagation(),o.preventDefault&&o.preventDefault()}var qa="storagemutated",da="x-storagemutated-1",pn=$r(null,qa),ns=(Mn.prototype._lock=function(){return Se(!ze.global),++this._reculock,this._reculock!==1||ze.global||(ze.lockOwnerFor=this),this},Mn.prototype._unlock=function(){if(Se(!ze.global),--this._reculock==0)for(ze.global||(ze.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var o=this._blockedFuncs.shift();try{hn(o[1],o[0])}catch{}}return this},Mn.prototype._locked=function(){return this._reculock&&ze.lockOwnerFor!==this},Mn.prototype.create=function(o){var f=this;if(!this.mode)return this;var p=this.db.idbdb,x=this.db._state.dbOpenError;if(Se(!this.idbtrans),!o&&!p)switch(x&&x.name){case"DatabaseClosedError":throw new Ue.DatabaseClosed(x);case"MissingAPIError":throw new Ue.MissingAPI(x.message,x);default:throw new Ue.OpenFailed(x)}if(!this.active)throw new Ue.TransactionInactive;return Se(this._completion._state===null),(o=this.idbtrans=o||(this.db.core||p).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=he(function(S){ca(S),f._reject(o.error)}),o.onabort=he(function(S){ca(S),f.active&&f._reject(new Ue.Abort(o.error)),f.active=!1,f.on("abort").fire(S)}),o.oncomplete=he(function(){f.active=!1,f._resolve(),"mutatedParts"in o&&pn.storagemutated.fire(o.mutatedParts)}),this},Mn.prototype._promise=function(o,f,p){var x=this;if(o==="readwrite"&&this.mode!=="readwrite")return bt(new Ue.ReadOnly("Transaction is readonly"));if(!this.active)return bt(new Ue.TransactionInactive);if(this._locked())return new _e(function(E,T){x._blockedFuncs.push([function(){x._promise(o,f,p).then(E,T)},ze])});if(p)return Le(function(){var E=new _e(function(T,_){x._lock();var q=f(T,_,x);q&&q.then&&q.then(T,_)});return E.finally(function(){return x._unlock()}),E._lib=!0,E});var S=new _e(function(E,T){var _=f(E,T,x);_&&_.then&&_.then(E,T)});return S._lib=!0,S},Mn.prototype._root=function(){return this.parent?this.parent._root():this},Mn.prototype.waitFor=function(o){var f,p=this._root(),x=_e.resolve(o);p._waitingFor?p._waitingFor=p._waitingFor.then(function(){return x}):(p._waitingFor=x,p._waitingQueue=[],f=p.idbtrans.objectStore(p.storeNames[0]),function E(){for(++p._spinCount;p._waitingQueue.length;)p._waitingQueue.shift()();p._waitingFor&&(f.get(-1/0).onsuccess=E)}());var S=p._waitingFor;return new _e(function(E,T){x.then(function(_){return p._waitingQueue.push(he(E.bind(null,_)))},function(_){return p._waitingQueue.push(he(T.bind(null,_)))}).finally(function(){p._waitingFor===S&&(p._waitingFor=null)})})},Mn.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Ue.Abort))},Mn.prototype.table=function(o){var f=this._memoizedTables||(this._memoizedTables={});if(R(f,o))return f[o];var p=this.schema[o];if(!p)throw new Ue.NotFound("Table "+o+" not part of transaction");return p=new this.db.Table(o,p,this),p.core=this.db.core.table(o),f[o]=p},Mn);function Mn(){}function xr(o,f,p,x,S,E,T){return{name:o,keyPath:f,unique:p,multi:x,auto:S,compound:E,src:(p&&!T?"&":"")+(x?"*":"")+(S?"++":"")+tl(f)}}function tl(o){return typeof o=="string"?o:o?"["+[].join.call(o,"+")+"]":""}function Ba(o,f,p){return{name:o,primKey:f,indexes:p,mappedClass:null,idxByName:(x=function(S){return[S.name,S]},p.reduce(function(S,E,T){return T=x(E,T),T&&(S[T[0]]=T[1]),S},{}))};var x}var Ha=function(o){try{return o.only([[]]),Ha=function(){return[[]]},[[]]}catch{return Ha=function(){return Xn},Xn}};function Pa(o){return o==null?function(){}:typeof o=="string"?(f=o).split(".").length===1?function(p){return p[f]}:function(p){return I(p,f)}:function(p){return I(p,o)};var f}function Ni(o){return[].slice.call(o)}var wo=0;function tn(o){return o==null?":id":typeof o=="string"?o:"[".concat(o.join("+"),"]")}function fa(o,f,q){function x(K){if(K.type===3)return null;if(K.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var U=K.lower,G=K.upper,F=K.lowerOpen,K=K.upperOpen;return U===void 0?G===void 0?null:f.upperBound(G,!!K):G===void 0?f.lowerBound(U,!!F):f.bound(U,G,!!F,!!K)}function S($){var U,G=$.name;return{name:G,schema:$,mutate:function(F){var K=F.trans,ne=F.type,le=F.keys,se=F.values,de=F.range;return new Promise(function(we,Re){we=he(we);var xe=K.objectStore(G),Ee=xe.keyPath==null,Ae=ne==="put"||ne==="add";if(!Ae&&ne!=="delete"&&ne!=="deleteRange")throw new Error("Invalid operation type: "+ne);var be,Oe=(le||se||{length:1}).length;if(le&&se&&le.length!==se.length)throw new Error("Given keys array must have same length as given values array.");if(Oe===0)return we({numFailures:0,failures:{},results:[],lastResult:void 0});function Ve(yn){++jn,ca(yn)}var $e=[],rt=[],jn=0;if(ne==="deleteRange"){if(de.type===4)return we({numFailures:jn,failures:rt,results:[],lastResult:void 0});de.type===3?$e.push(be=xe.clear()):$e.push(be=xe.delete(x(de)))}else{var Ee=Ae?Ee?[se,le]:[se,null]:[le,null],Je=Ee[0],Zt=Ee[1];if(Ae)for(var nn=0;nn<Oe;++nn)$e.push(be=Zt&&Zt[nn]!==void 0?xe[ne](Je[nn],Zt[nn]):xe[ne](Je[nn])),be.onerror=Ve;else for(nn=0;nn<Oe;++nn)$e.push(be=xe[ne](Je[nn])),be.onerror=Ve}function qr(yn){yn=yn.target.result,$e.forEach(function(wr,Zr){return wr.error!=null&&(rt[Zr]=wr.error)}),we({numFailures:jn,failures:rt,results:ne==="delete"?le:$e.map(function(wr){return wr.result}),lastResult:yn})}be.onerror=function(yn){Ve(yn),qr(yn)},be.onsuccess=qr})},getMany:function(F){var K=F.trans,ne=F.keys;return new Promise(function(le,se){le=he(le);for(var de,we=K.objectStore(G),Re=ne.length,xe=new Array(Re),Ee=0,Ae=0,be=function($e){$e=$e.target,xe[$e._pos]=$e.result,++Ae===Ee&&le(xe)},Oe=ir(se),Ve=0;Ve<Re;++Ve)ne[Ve]!=null&&((de=we.get(ne[Ve]))._pos=Ve,de.onsuccess=be,de.onerror=Oe,++Ee);Ee===0&&le(xe)})},get:function(F){var K=F.trans,ne=F.key;return new Promise(function(le,se){le=he(le);var de=K.objectStore(G).get(ne);de.onsuccess=function(we){return le(we.target.result)},de.onerror=ir(se)})},query:(U=P,function(F){return new Promise(function(K,ne){K=he(K);var le,se,de,Ee=F.trans,we=F.values,Re=F.limit,be=F.query,xe=Re===1/0?void 0:Re,Ae=be.index,be=be.range,Ee=Ee.objectStore(G),Ae=Ae.isPrimaryKey?Ee:Ee.index(Ae.name),be=x(be);if(Re===0)return K({result:[]});U?((xe=we?Ae.getAll(be,xe):Ae.getAllKeys(be,xe)).onsuccess=function(Oe){return K({result:Oe.target.result})},xe.onerror=ir(ne)):(le=0,se=!we&&"openKeyCursor"in Ae?Ae.openKeyCursor(be):Ae.openCursor(be),de=[],se.onsuccess=function(Oe){var Ve=se.result;return Ve?(de.push(we?Ve.value:Ve.primaryKey),++le===Re?K({result:de}):void Ve.continue()):K({result:de})},se.onerror=ir(ne))})}),openCursor:function(F){var K=F.trans,ne=F.values,le=F.query,se=F.reverse,de=F.unique;return new Promise(function(we,Re){we=he(we);var Ae=le.index,xe=le.range,Ee=K.objectStore(G),Ee=Ae.isPrimaryKey?Ee:Ee.index(Ae.name),Ae=se?de?"prevunique":"prev":de?"nextunique":"next",be=!ne&&"openKeyCursor"in Ee?Ee.openKeyCursor(x(xe),Ae):Ee.openCursor(x(xe),Ae);be.onerror=ir(Re),be.onsuccess=he(function(Oe){var Ve,$e,rt,jn,Je=be.result;Je?(Je.___id=++wo,Je.done=!1,Ve=Je.continue.bind(Je),$e=($e=Je.continuePrimaryKey)&&$e.bind(Je),rt=Je.advance.bind(Je),jn=function(){throw new Error("Cursor not stopped")},Je.trans=K,Je.stop=Je.continue=Je.continuePrimaryKey=Je.advance=function(){throw new Error("Cursor not started")},Je.fail=he(Re),Je.next=function(){var Zt=this,nn=1;return this.start(function(){return nn--?Zt.continue():Zt.stop()}).then(function(){return Zt})},Je.start=function(Zt){function nn(){if(be.result)try{Zt()}catch(yn){Je.fail(yn)}else Je.done=!0,Je.start=function(){throw new Error("Cursor behind last entry")},Je.stop()}var qr=new Promise(function(yn,wr){yn=he(yn),be.onerror=ir(wr),Je.fail=wr,Je.stop=function(Zr){Je.stop=Je.continue=Je.continuePrimaryKey=Je.advance=jn,yn(Zr)}});return be.onsuccess=he(function(yn){be.onsuccess=nn,nn()}),Je.continue=Ve,Je.continuePrimaryKey=$e,Je.advance=rt,nn(),qr},we(Je)):we(null)},Re)})},count:function(F){var K=F.query,ne=F.trans,le=K.index,se=K.range;return new Promise(function(de,we){var Re=ne.objectStore(G),xe=le.isPrimaryKey?Re:Re.index(le.name),Re=x(se),xe=Re?xe.count(Re):xe.count();xe.onsuccess=he(function(Ee){return de(Ee.target.result)}),xe.onerror=ir(we)})}}}var E,T,_,V=(T=q,_=Ni((E=o).objectStoreNames),{schema:{name:E.name,tables:_.map(function($){return T.objectStore($)}).map(function($){var U=$.keyPath,K=$.autoIncrement,G=b(U),F={},K={name:$.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:U==null,compound:G,keyPath:U,autoIncrement:K,unique:!0,extractKey:Pa(U)},indexes:Ni($.indexNames).map(function(ne){return $.index(ne)}).map(function(de){var le=de.name,se=de.unique,we=de.multiEntry,de=de.keyPath,we={name:le,compound:b(de),keyPath:de,unique:se,multiEntry:we,extractKey:Pa(de)};return F[tn(de)]=we}),getIndexByKeyPath:function(ne){return F[tn(ne)]}};return F[":id"]=K.primaryKey,U!=null&&(F[tn(U)]=K.primaryKey),K})},hasGetAll:0<_.length&&"getAll"in T.objectStore(_[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),q=V.schema,P=V.hasGetAll,V=q.tables.map(S),M={};return V.forEach(function($){return M[$.name]=$}),{stack:"dbcore",transaction:o.transaction.bind(o),table:function($){if(!M[$])throw new Error("Table '".concat($,"' not found"));return M[$]},MIN_KEY:-1/0,MAX_KEY:Ha(f),schema:q}}function nl(o,f,p,x){var S=p.IDBKeyRange;return p.indexedDB,{dbcore:(x=fa(f,S,x),o.dbcore.reduce(function(E,T){return T=T.create,s(s({},E),T(E))},x))}}function Xr(o,x){var p=x.db,x=nl(o._middlewares,p,o._deps,x);o.core=x.dbcore,o.tables.forEach(function(S){var E=S.name;o.core.schema.tables.some(function(T){return T.name===E})&&(S.core=o.core.table(E),o[E]instanceof o.Table&&(o[E].core=S.core))})}function rl(o,f,p,x){p.forEach(function(S){var E=x[S];f.forEach(function(T){var _=function q(P,V){return Q(P,V)||(P=y(P))&&q(P,V)}(T,S);(!_||"value"in _&&_.value===void 0)&&(T===o.Transaction.prototype||T instanceof o.Transaction?k(T,S,{get:function(){return this.table(S)},set:function(q){B(this,S,{value:q,writable:!0,configurable:!0,enumerable:!0})}}):T[S]=new o.Table(S,E))})})}function Ri(o,f){f.forEach(function(p){for(var x in p)p[x]instanceof o.Table&&delete p[x]})}function rs(o,f){return o._cfg.version-f._cfg.version}function Ti(o,f,p,x){var S=o._dbSchema;p.objectStoreNames.contains("$meta")&&!S.$meta&&(S.$meta=Ba("$meta",jo("")[0],[]),o._storeNames.push("$meta"));var E=o._createTransaction("readwrite",o._storeNames,S);E.create(p),E._completion.catch(x);var T=E._reject.bind(E),_=ze.transless||ze;Le(function(){return ze.trans=E,ze.transless=_,f!==0?(Xr(o,p),P=f,((q=E).storeNames.includes("$meta")?q.table("$meta").get("version").then(function(V){return V??P}):_e.resolve(P)).then(function(V){return $=V,U=E,G=p,F=[],V=(M=o)._versions,K=M._dbSchema=Ka(0,M.idbdb,G),(V=V.filter(function(ne){return ne._cfg.version>=$})).length!==0?(V.forEach(function(ne){F.push(function(){var le=K,se=ne._cfg.dbschema;sl(M,le,G),sl(M,se,G),K=M._dbSchema=se;var de=il(le,se);de.add.forEach(function(Ae){as(G,Ae[0],Ae[1].primKey,Ae[1].indexes)}),de.change.forEach(function(Ae){if(Ae.recreate)throw new Ue.Upgrade("Not yet support for changing primary key");var be=G.objectStore(Ae.name);Ae.add.forEach(function(Oe){return ll(be,Oe)}),Ae.change.forEach(function(Oe){be.deleteIndex(Oe.name),ll(be,Oe)}),Ae.del.forEach(function(Oe){return be.deleteIndex(Oe)})});var we=ne._cfg.contentUpgrade;if(we&&ne._cfg.version>$){Xr(M,G),U._memoizedTables={};var Re=Ie(se);de.del.forEach(function(Ae){Re[Ae]=le[Ae]}),Ri(M,[M.Transaction.prototype]),rl(M,[M.Transaction.prototype],g(Re),Re),U.schema=Re;var xe,Ee=ue(we);return Ee&&tt(),de=_e.follow(function(){var Ae;(xe=we(U))&&Ee&&(Ae=ft.bind(null,null),xe.then(Ae,Ae))}),xe&&typeof xe.then=="function"?_e.resolve(xe):de.then(function(){return xe})}}),F.push(function(le){var se,de,we=ne._cfg.dbschema;se=we,de=le,[].slice.call(de.db.objectStoreNames).forEach(function(Re){return se[Re]==null&&de.db.deleteObjectStore(Re)}),Ri(M,[M.Transaction.prototype]),rl(M,[M.Transaction.prototype],M._storeNames,M._dbSchema),U.schema=M._dbSchema}),F.push(function(le){M.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(M.idbdb.version/10)===ne._cfg.version?(M.idbdb.deleteObjectStore("$meta"),delete M._dbSchema.$meta,M._storeNames=M._storeNames.filter(function(se){return se!=="$meta"})):le.objectStore("$meta").put(ne._cfg.version,"version"))})}),function ne(){return F.length?_e.resolve(F.shift()(U.idbtrans)).then(ne):_e.resolve()}().then(function(){So(K,G)})):_e.resolve();var M,$,U,G,F,K}).catch(T)):(g(S).forEach(function(V){as(p,V,S[V].primKey,S[V].indexes)}),Xr(o,p),void _e.follow(function(){return o.on.populate.fire(E)}).catch(T));var q,P})}function al(o,f){So(o._dbSchema,f),f.db.version%10!=0||f.objectStoreNames.contains("$meta")||f.db.createObjectStore("$meta").add(Math.ceil(f.db.version/10-1),"version");var p=Ka(0,o.idbdb,f);sl(o,o._dbSchema,f);for(var x=0,S=il(p,o._dbSchema).change;x<S.length;x++){var E=function(T){if(T.change.length||T.recreate)return console.warn("Unable to patch indexes of table ".concat(T.name," because it has changes on the type of index or primary key.")),{value:void 0};var _=f.objectStore(T.name);T.add.forEach(function(q){Sn&&console.debug("Dexie upgrade patch: Creating missing index ".concat(T.name,".").concat(q.src)),ll(_,q)})}(S[x]);if(typeof E=="object")return E.value}}function il(o,f){var p,x={del:[],add:[],change:[]};for(p in o)f[p]||x.del.push(p);for(p in f){var S=o[p],E=f[p];if(S){var T={name:p,def:E,recreate:!1,del:[],add:[],change:[]};if(""+(S.primKey.keyPath||"")!=""+(E.primKey.keyPath||"")||S.primKey.auto!==E.primKey.auto)T.recreate=!0,x.change.push(T);else{var _=S.idxByName,q=E.idxByName,P=void 0;for(P in _)q[P]||T.del.push(P);for(P in q){var V=_[P],M=q[P];V?V.src!==M.src&&T.change.push(M):T.add.push(M)}(0<T.del.length||0<T.add.length||0<T.change.length)&&x.change.push(T)}}else x.add.push([p,E])}return x}function as(o,f,p,x){var S=o.db.createObjectStore(f,p.keyPath?{keyPath:p.keyPath,autoIncrement:p.auto}:{autoIncrement:p.auto});return x.forEach(function(E){return ll(S,E)}),S}function So(o,f){g(o).forEach(function(p){f.db.objectStoreNames.contains(p)||(Sn&&console.debug("Dexie: Creating missing table",p),as(f,p,o[p].primKey,o[p].indexes))})}function ll(o,f){o.createIndex(f.name,f.keyPath,{unique:f.unique,multiEntry:f.multi})}function Ka(o,f,p){var x={};return ce(f.objectStoreNames,0).forEach(function(S){for(var E=p.objectStore(S),T=xr(tl(P=E.keyPath),P||"",!0,!1,!!E.autoIncrement,P&&typeof P!="string",!0),_=[],q=0;q<E.indexNames.length;++q){var V=E.index(E.indexNames[q]),P=V.keyPath,V=xr(V.name,P,!!V.unique,!!V.multiEntry,!1,P&&typeof P!="string",!1);_.push(V)}x[S]=Ba(S,T,_)}),x}function sl(o,f,p){for(var x=p.db.objectStoreNames,S=0;S<x.length;++S){var E=x[S],T=p.objectStore(E);o._hasGetAll="getAll"in T;for(var _=0;_<T.indexNames.length;++_){var q=T.indexNames[_],P=T.index(q).keyPath,V=typeof P=="string"?P:"["+ce(P).join("+")+"]";!f[E]||(P=f[E].idxByName[V])&&(P.name=q,delete f[E].idxByName[V],f[E].idxByName[q]=P)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&h.WorkerGlobalScope&&h instanceof h.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(o._hasGetAll=!1)}function jo(o){return o.split(",").map(function(f,p){var x=(f=f.trim()).replace(/([&*]|\+\+)/g,""),S=/^\[/.test(x)?x.match(/^\[(.*)\]$/)[1].split("+"):x;return xr(x,S||null,/\&/.test(f),/\*/.test(f),/\+\+/.test(f),b(S),p===0)})}var ic=(ol.prototype._parseStoresSpec=function(o,f){g(o).forEach(function(p){if(o[p]!==null){var x=jo(o[p]),S=x.shift();if(S.unique=!0,S.multi)throw new Ue.Schema("Primary key cannot be multi-valued");x.forEach(function(E){if(E.auto)throw new Ue.Schema("Only primary key can be marked as autoIncrement (++)");if(!E.keyPath)throw new Ue.Schema("Index must have a name and cannot be an empty string")}),f[p]=Ba(p,S,x)}})},ol.prototype.stores=function(p){var f=this.db;this._cfg.storesSource=this._cfg.storesSource?v(this._cfg.storesSource,p):p;var p=f._versions,x={},S={};return p.forEach(function(E){v(x,E._cfg.storesSource),S=E._cfg.dbschema={},E._parseStoresSpec(x,S)}),f._dbSchema=S,Ri(f,[f._allTables,f,f.Transaction.prototype]),rl(f,[f._allTables,f,f.Transaction.prototype,this._cfg.tables],g(S),S),f._storeNames=g(S),this},ol.prototype.upgrade=function(o){return this._cfg.contentUpgrade=Ca(this._cfg.contentUpgrade||xt,o),this},ol);function ol(){}function is(o,f){var p=o._dbNamesDB;return p||(p=o._dbNamesDB=new br(Fn,{addons:[],indexedDB:o,IDBKeyRange:f})).version(1).stores({dbnames:"name"}),p.table("dbnames")}function ul(o){return o&&typeof o.databases=="function"}function ls(o){return Le(function(){return ze.letThrough=!0,o()})}function ss(o){return!("from"in o)}var gn=function(o,f){if(!this){var p=new gn;return o&&"d"in o&&v(p,o),p}v(this,arguments.length?{d:1,from:o,to:1<arguments.length?f:o}:{d:0})};function Ai(o,f,p){var x=ut(f,p);if(!isNaN(x)){if(0<x)throw RangeError();if(ss(o))return v(o,{from:f,to:p,d:1});var S=o.l,x=o.r;if(ut(p,o.from)<0)return S?Ai(S,f,p):o.l={from:f,to:p,d:1,l:null,r:null},No(o);if(0<ut(f,o.to))return x?Ai(x,f,p):o.r={from:f,to:p,d:1,l:null,r:null},No(o);ut(f,o.from)<0&&(o.from=f,o.l=null,o.d=x?x.d+1:1),0<ut(p,o.to)&&(o.to=p,o.r=null,o.d=o.l?o.l.d+1:1),p=!o.r,S&&!o.l&&ha(o,S),x&&p&&ha(o,x)}}function ha(o,f){ss(f)||function p(x,q){var E=q.from,T=q.to,_=q.l,q=q.r;Ai(x,E,T),_&&p(x,_),q&&p(x,q)}(o,f)}function Eo(o,f){var p=cl(f),x=p.next();if(x.done)return!1;for(var S=x.value,E=cl(o),T=E.next(S.from),_=T.value;!x.done&&!T.done;){if(ut(_.from,S.to)<=0&&0<=ut(_.to,S.from))return!0;ut(S.from,_.from)<0?S=(x=p.next(_.from)).value:_=(T=E.next(S.from)).value}return!1}function cl(o){var f=ss(o)?null:{s:0,n:o};return{next:function(p){for(var x=0<arguments.length;f;)switch(f.s){case 0:if(f.s=1,x)for(;f.n.l&&ut(p,f.n.from)<0;)f={up:f,n:f.n.l,s:1};else for(;f.n.l;)f={up:f,n:f.n.l,s:1};case 1:if(f.s=2,!x||ut(p,f.n.to)<=0)return{value:f.n,done:!1};case 2:if(f.n.r){f.s=3,f={up:f,n:f.n.r,s:0};continue}case 3:f=f.up}return{done:!0}}}}function No(o){var f,p,x=(((f=o.r)===null||f===void 0?void 0:f.d)||0)-(((p=o.l)===null||p===void 0?void 0:p.d)||0),S=1<x?"r":x<-1?"l":"";S&&(f=S=="r"?"l":"r",p=s({},o),x=o[S],o.from=x.from,o.to=x.to,o[S]=x[S],p[S]=x[f],(o[f]=p).d=os(p)),o.d=os(o)}function os(p){var f=p.r,p=p.l;return(f?p?Math.max(f.d,p.d):f.d:p?p.d:0)+1}function dl(o,f){return g(f).forEach(function(p){o[p]?ha(o[p],f[p]):o[p]=function x(S){var E,T,_={};for(E in S)R(S,E)&&(T=S[E],_[E]=!T||typeof T!="object"||ct.has(T.constructor)?T:x(T));return _}(f[p])}),o}function us(o,f){return o.all||f.all||Object.keys(o).some(function(p){return f[p]&&Eo(f[p],o[p])})}A(gn.prototype,((Vn={add:function(o){return ha(this,o),this},addKey:function(o){return Ai(this,o,o),this},addKeys:function(o){var f=this;return o.forEach(function(p){return Ai(f,p,p)}),this},hasKey:function(o){var f=cl(this).next(o).value;return f&&ut(f.from,o)<=0&&0<=ut(f.to,o)}})[te]=function(){return cl(this)},Vn));var ma={},cs={},ds=!1;function fl(o){dl(cs,o),ds||(ds=!0,setTimeout(function(){ds=!1,fs(cs,!(cs={}))},0))}function fs(o,f){f===void 0&&(f=!1);var p=new Set;if(o.all)for(var x=0,S=Object.values(ma);x<S.length;x++)Ro(T=S[x],o,p,f);else for(var E in o){var T,_=/^idb\:\/\/(.*)\/(.*)\//.exec(E);_&&(E=_[1],_=_[2],(T=ma["idb://".concat(E,"/").concat(_)])&&Ro(T,o,p,f))}p.forEach(function(q){return q()})}function Ro(o,f,p,x){for(var S=[],E=0,T=Object.entries(o.queries.query);E<T.length;E++){for(var _=T[E],q=_[0],P=[],V=0,M=_[1];V<M.length;V++){var $=M[V];us(f,$.obsSet)?$.subscribers.forEach(function(K){return p.add(K)}):x&&P.push($)}x&&S.push([q,P])}if(x)for(var U=0,G=S;U<G.length;U++){var F=G[U],q=F[0],P=F[1];o.queries.query[q]=P}}function lc(o){var f=o._state,p=o._deps.indexedDB;if(f.isBeingOpened||o.idbdb)return f.dbReadyPromise.then(function(){return f.dbOpenError?bt(f.dbOpenError):o});f.isBeingOpened=!0,f.dbOpenError=null,f.openComplete=!1;var x=f.openCanceller,S=Math.round(10*o.verno),E=!1;function T(){if(f.openCanceller!==x)throw new Ue.DatabaseClosed("db.open() was cancelled")}function _(){return new _e(function($,U){if(T(),!p)throw new Ue.MissingAPI;var G=o.name,F=f.autoSchema||!S?p.open(G):p.open(G,S);if(!F)throw new Ue.MissingAPI;F.onerror=ir(U),F.onblocked=he(o._fireOnBlocked),F.onupgradeneeded=he(function(K){var ne;V=F.transaction,f.autoSchema&&!o._options.allowEmptyDB?(F.onerror=ca,V.abort(),F.result.close(),(ne=p.deleteDatabase(G)).onsuccess=ne.onerror=he(function(){U(new Ue.NoSuchDatabase("Database ".concat(G," doesnt exist")))})):(V.onerror=ir(U),K=K.oldVersion>Math.pow(2,62)?0:K.oldVersion,M=K<1,o.idbdb=F.result,E&&al(o,V),Ti(o,K/10,V,U))},U),F.onsuccess=he(function(){V=null;var K,ne,le,se,de,we=o.idbdb=F.result,Re=ce(we.objectStoreNames);if(0<Re.length)try{var xe=we.transaction((se=Re).length===1?se[0]:se,"readonly");if(f.autoSchema)ne=we,le=xe,(K=o).verno=ne.version/10,le=K._dbSchema=Ka(0,ne,le),K._storeNames=ce(ne.objectStoreNames,0),rl(K,[K._allTables],g(le),le);else if(sl(o,o._dbSchema,xe),((de=il(Ka(0,(de=o).idbdb,xe),de._dbSchema)).add.length||de.change.some(function(Ee){return Ee.add.length||Ee.change.length}))&&!E)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),we.close(),S=we.version+1,E=!0,$(_());Xr(o,xe)}catch{}On.push(o),we.onversionchange=he(function(Ee){f.vcFired=!0,o.on("versionchange").fire(Ee)}),we.onclose=he(function(Ee){o.on("close").fire(Ee)}),M&&(de=o._deps,xe=G,we=de.indexedDB,de=de.IDBKeyRange,ul(we)||xe===Fn||is(we,de).put({name:xe}).catch(xt)),$()},U)}).catch(function($){switch($?.name){case"UnknownError":if(0<f.PR1398_maxLoop)return f.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),_();break;case"VersionError":if(0<S)return S=0,_()}return _e.reject($)})}var q,P=f.dbReadyResolve,V=null,M=!1;return _e.race([x,(typeof navigator>"u"?_e.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function($){function U(){return indexedDB.databases().finally($)}q=setInterval(U,100),U()}).finally(function(){return clearInterval(q)}):Promise.resolve()).then(_)]).then(function(){return T(),f.onReadyBeingFired=[],_e.resolve(ls(function(){return o.on.ready.fire(o.vip)})).then(function $(){if(0<f.onReadyBeingFired.length){var U=f.onReadyBeingFired.reduce(Ca,xt);return f.onReadyBeingFired=[],_e.resolve(ls(function(){return U(o.vip)})).then($)}})}).finally(function(){f.openCanceller===x&&(f.onReadyBeingFired=null,f.isBeingOpened=!1)}).catch(function($){f.dbOpenError=$;try{V&&V.abort()}catch{}return x===f.openCanceller&&o._close(),bt($)}).finally(function(){f.openComplete=!0,P()}).then(function(){var $;return M&&($={},o.tables.forEach(function(U){U.schema.indexes.forEach(function(G){G.name&&($["idb://".concat(o.name,"/").concat(U.name,"/").concat(G.name)]=new gn(-1/0,[[[]]]))}),$["idb://".concat(o.name,"/").concat(U.name,"/")]=$["idb://".concat(o.name,"/").concat(U.name,"/:dels")]=new gn(-1/0,[[[]]])}),pn(qa).fire($),fs($,!0)),o})}function _i(o){function f(E){return o.next(E)}var p=S(f),x=S(function(E){return o.throw(E)});function S(E){return function(q){var _=E(q),q=_.value;return _.done?q:q&&typeof q.then=="function"?q.then(p,x):b(q)?Promise.all(q).then(p,x):p(q)}}return S(f)()}function Fr(o,f,p){for(var x=b(o)?o.slice():[o],S=0;S<p;++S)x.push(f);return x}var sc={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(o){return s(s({},o),{table:function(f){var p=o.table(f),x=p.schema,S={},E=[];function T(M,$,U){var G=tn(M),F=S[G]=S[G]||[],K=M==null?0:typeof M=="string"?1:M.length,ne=0<$,ne=s(s({},U),{name:ne?"".concat(G,"(virtual-from:").concat(U.name,")"):U.name,lowLevelIndex:U,isVirtual:ne,keyTail:$,keyLength:K,extractKey:Pa(M),unique:!ne&&U.unique});return F.push(ne),ne.isPrimaryKey||E.push(ne),1<K&&T(K===2?M[0]:M.slice(0,K-1),$+1,U),F.sort(function(le,se){return le.keyTail-se.keyTail}),ne}f=T(x.primaryKey.keyPath,0,x.primaryKey),S[":id"]=[f];for(var _=0,q=x.indexes;_<q.length;_++){var P=q[_];T(P.keyPath,0,P)}function V(M){var $,U=M.query.index;return U.isVirtual?s(s({},M),{query:{index:U.lowLevelIndex,range:($=M.query.range,U=U.keyTail,{type:$.type===1?2:$.type,lower:Fr($.lower,$.lowerOpen?o.MAX_KEY:o.MIN_KEY,U),lowerOpen:!0,upper:Fr($.upper,$.upperOpen?o.MIN_KEY:o.MAX_KEY,U),upperOpen:!0})}}):M}return s(s({},p),{schema:s(s({},x),{primaryKey:f,indexes:E,getIndexByKeyPath:function(M){return(M=S[tn(M)])&&M[0]}}),count:function(M){return p.count(V(M))},query:function(M){return p.query(V(M))},openCursor:function(M){var $=M.query.index,U=$.keyTail,G=$.isVirtual,F=$.keyLength;return G?p.openCursor(V(M)).then(function(ne){return ne&&K(ne)}):p.openCursor(M);function K(ne){return Object.create(ne,{continue:{value:function(le){le!=null?ne.continue(Fr(le,M.reverse?o.MAX_KEY:o.MIN_KEY,U)):M.unique?ne.continue(ne.key.slice(0,F).concat(M.reverse?o.MIN_KEY:o.MAX_KEY,U)):ne.continue()}},continuePrimaryKey:{value:function(le,se){ne.continuePrimaryKey(Fr(le,o.MAX_KEY,U),se)}},primaryKey:{get:function(){return ne.primaryKey}},key:{get:function(){var le=ne.key;return F===1?le[0]:le.slice(0,F)}},value:{get:function(){return ne.value}}})}}})}})}};function hl(o,f,p,x){return p=p||{},x=x||"",g(o).forEach(function(S){var E,T,_;R(f,S)?(E=o[S],T=f[S],typeof E=="object"&&typeof T=="object"&&E&&T?(_=vt(E))!==vt(T)?p[x+S]=f[S]:_==="Object"?hl(E,T,p,x+S+"."):E!==T&&(p[x+S]=f[S]):E!==T&&(p[x+S]=f[S])):p[x+S]=void 0}),g(f).forEach(function(S){R(o,S)||(p[x+S]=f[S])}),p}function ml(o,f){return f.type==="delete"?f.keys:f.keys||f.values.map(o.extractKey)}var To={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(o){return s(s({},o),{table:function(f){var p=o.table(f),x=p.schema.primaryKey;return s(s({},p),{mutate:function(S){var E=ze.trans,T=E.table(f).hook,_=T.deleting,q=T.creating,P=T.updating;switch(S.type){case"add":if(q.fire===xt)break;return E._promise("readwrite",function(){return V(S)},!0);case"put":if(q.fire===xt&&P.fire===xt)break;return E._promise("readwrite",function(){return V(S)},!0);case"delete":if(_.fire===xt)break;return E._promise("readwrite",function(){return V(S)},!0);case"deleteRange":if(_.fire===xt)break;return E._promise("readwrite",function(){return function M($,U,G){return p.query({trans:$,values:!1,query:{index:x,range:U},limit:G}).then(function(F){var K=F.result;return V({type:"delete",keys:K,trans:$}).then(function(ne){return 0<ne.numFailures?Promise.reject(ne.failures[0]):K.length<G?{failures:[],numFailures:0,lastResult:void 0}:M($,s(s({},U),{lower:K[K.length-1],lowerOpen:!0}),G)})})}(S.trans,S.range,1e4)},!0)}return p.mutate(S);function V(M){var $,U,G,F=ze.trans,K=M.keys||ml(x,M);if(!K)throw new Error("Keys missing");return(M=M.type==="add"||M.type==="put"?s(s({},M),{keys:K}):s({},M)).type!=="delete"&&(M.values=d([],M.values)),M.keys&&(M.keys=d([],M.keys)),$=p,G=K,((U=M).type==="add"?Promise.resolve([]):$.getMany({trans:U.trans,keys:G,cache:"immutable"})).then(function(ne){var le=K.map(function(se,de){var we,Re,xe,Ee=ne[de],Ae={onerror:null,onsuccess:null};return M.type==="delete"?_.fire.call(Ae,se,Ee,F):M.type==="add"||Ee===void 0?(we=q.fire.call(Ae,se,M.values[de],F),se==null&&we!=null&&(M.keys[de]=se=we,x.outbound||Me(M.values[de],x.keyPath,se))):(we=hl(Ee,M.values[de]),(Re=P.fire.call(Ae,we,se,Ee,F))&&(xe=M.values[de],Object.keys(Re).forEach(function(be){R(xe,be)?xe[be]=Re[be]:Me(xe,be,Re[be])}))),Ae});return p.mutate(M).then(function(se){for(var de=se.failures,we=se.results,Re=se.numFailures,se=se.lastResult,xe=0;xe<K.length;++xe){var Ee=(we||K)[xe],Ae=le[xe];Ee==null?Ae.onerror&&Ae.onerror(de[xe]):Ae.onsuccess&&Ae.onsuccess(M.type==="put"&&ne[xe]?M.values[xe]:Ee)}return{failures:de,results:we,numFailures:Re,lastResult:se}}).catch(function(se){return le.forEach(function(de){return de.onerror&&de.onerror(se)}),Promise.reject(se)})})}}})}})}};function hs(o,f,p){try{if(!f||f.keys.length<o.length)return null;for(var x=[],S=0,E=0;S<f.keys.length&&E<o.length;++S)ut(f.keys[S],o[E])===0&&(x.push(p?nt(f.values[S]):f.values[S]),++E);return x.length===o.length?x:null}catch{return null}}var Ao={stack:"dbcore",level:-1,create:function(o){return{table:function(f){var p=o.table(f);return s(s({},p),{getMany:function(x){if(!x.cache)return p.getMany(x);var S=hs(x.keys,x.trans._cache,x.cache==="clone");return S?_e.resolve(S):p.getMany(x).then(function(E){return x.trans._cache={keys:x.keys,values:x.cache==="clone"?nt(E):E},E})},mutate:function(x){return x.type!=="add"&&(x.trans._cache=null),p.mutate(x)}})}}}};function pa(o,f){return o.trans.mode==="readonly"&&!!o.subscr&&!o.trans.explicit&&o.trans.db._options.cache!=="disabled"&&!f.schema.primaryKey.outbound}function _o(o,f){switch(o){case"query":return f.values&&!f.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var oc={stack:"dbcore",level:0,name:"Observability",create:function(o){var f=o.schema.name,p=new gn(o.MIN_KEY,o.MAX_KEY);return s(s({},o),{transaction:function(x,S,E){if(ze.subscr&&S!=="readonly")throw new Ue.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(ze.querier));return o.transaction(x,S,E)},table:function(x){var S=o.table(x),E=S.schema,T=E.primaryKey,M=E.indexes,_=T.extractKey,q=T.outbound,P=T.autoIncrement&&M.filter(function(U){return U.compound&&U.keyPath.includes(T.keyPath)}),V=s(s({},S),{mutate:function(U){function G(be){return be="idb://".concat(f,"/").concat(x,"/").concat(be),se[be]||(se[be]=new gn)}var F,K,ne,le=U.trans,se=U.mutatedParts||(U.mutatedParts={}),de=G(""),we=G(":dels"),Re=U.type,Ae=U.type==="deleteRange"?[U.range]:U.type==="delete"?[U.keys]:U.values.length<50?[ml(T,U).filter(function(be){return be}),U.values]:[],xe=Ae[0],Ee=Ae[1],Ae=U.trans._cache;return b(xe)?(de.addKeys(xe),(Ae=Re==="delete"||xe.length===Ee.length?hs(xe,Ae):null)||we.addKeys(xe),(Ae||Ee)&&(F=G,K=Ae,ne=Ee,E.indexes.forEach(function(be){var Oe=F(be.name||"");function Ve(rt){return rt!=null?be.extractKey(rt):null}function $e(rt){return be.multiEntry&&b(rt)?rt.forEach(function(jn){return Oe.addKey(jn)}):Oe.addKey(rt)}(K||ne).forEach(function(rt,Zt){var Je=K&&Ve(K[Zt]),Zt=ne&&Ve(ne[Zt]);ut(Je,Zt)!==0&&(Je!=null&&$e(Je),Zt!=null&&$e(Zt))})}))):xe?(Ee={from:(Ee=xe.lower)!==null&&Ee!==void 0?Ee:o.MIN_KEY,to:(Ee=xe.upper)!==null&&Ee!==void 0?Ee:o.MAX_KEY},we.add(Ee),de.add(Ee)):(de.add(p),we.add(p),E.indexes.forEach(function(be){return G(be.name).add(p)})),S.mutate(U).then(function(be){return!xe||U.type!=="add"&&U.type!=="put"||(de.addKeys(be.results),P&&P.forEach(function(Oe){for(var Ve=U.values.map(function(Je){return Oe.extractKey(Je)}),$e=Oe.keyPath.findIndex(function(Je){return Je===T.keyPath}),rt=0,jn=be.results.length;rt<jn;++rt)Ve[rt][$e]=be.results[rt];G(Oe.name).addKeys(Ve)})),le.mutatedParts=dl(le.mutatedParts||{},se),be})}}),M=function(G){var F=G.query,G=F.index,F=F.range;return[G,new gn((G=F.lower)!==null&&G!==void 0?G:o.MIN_KEY,(F=F.upper)!==null&&F!==void 0?F:o.MAX_KEY)]},$={get:function(U){return[T,new gn(U.key)]},getMany:function(U){return[T,new gn().addKeys(U.keys)]},count:M,query:M,openCursor:M};return g($).forEach(function(U){V[U]=function(G){var F=ze.subscr,K=!!F,ne=pa(ze,S)&&_o(U,G)?G.obsSet={}:F;if(K){var le=function(Ee){return Ee="idb://".concat(f,"/").concat(x,"/").concat(Ee),ne[Ee]||(ne[Ee]=new gn)},se=le(""),de=le(":dels"),F=$[U](G),K=F[0],F=F[1];if((U==="query"&&K.isPrimaryKey&&!G.values?de:le(K.name||"")).add(F),!K.isPrimaryKey){if(U!=="count"){var we=U==="query"&&q&&G.values&&S.query(s(s({},G),{values:!1}));return S[U].apply(this,arguments).then(function(Ee){if(U==="query"){if(q&&G.values)return we.then(function(Ve){return Ve=Ve.result,se.addKeys(Ve),Ee});var Ae=G.values?Ee.result.map(_):Ee.result;(G.values?se:de).addKeys(Ae)}else if(U==="openCursor"){var be=Ee,Oe=G.values;return be&&Object.create(be,{key:{get:function(){return de.addKey(be.primaryKey),be.key}},primaryKey:{get:function(){var Ve=be.primaryKey;return de.addKey(Ve),Ve}},value:{get:function(){return Oe&&se.addKey(be.primaryKey),be.value}}})}return Ee})}de.add(p)}}return S[U].apply(this,arguments)}}),V}})}};function Co(o,f,p){if(p.numFailures===0)return f;if(f.type==="deleteRange")return null;var x=f.keys?f.keys.length:"values"in f&&f.values?f.values.length:1;return p.numFailures===x?null:(f=s({},f),b(f.keys)&&(f.keys=f.keys.filter(function(S,E){return!(E in p.failures)})),"values"in f&&b(f.values)&&(f.values=f.values.filter(function(S,E){return!(E in p.failures)})),f)}function pl(o,f){return p=o,((x=f).lower===void 0||(x.lowerOpen?0<ut(p,x.lower):0<=ut(p,x.lower)))&&(o=o,(f=f).upper===void 0||(f.upperOpen?ut(o,f.upper)<0:ut(o,f.upper)<=0));var p,x}function ms(o,f,$,x,S,E){if(!$||$.length===0)return o;var T=f.query.index,_=T.multiEntry,q=f.query.range,P=x.schema.primaryKey.extractKey,V=T.extractKey,M=(T.lowLevelIndex||T).extractKey,$=$.reduce(function(U,G){var F=U,K=[];if(G.type==="add"||G.type==="put")for(var ne=new gn,le=G.values.length-1;0<=le;--le){var se,de=G.values[le],we=P(de);ne.hasKey(we)||(se=V(de),(_&&b(se)?se.some(function(be){return pl(be,q)}):pl(se,q))&&(ne.addKey(we),K.push(de)))}switch(G.type){case"add":var Re=new gn().addKeys(f.values?U.map(function(Oe){return P(Oe)}):U),F=U.concat(f.values?K.filter(function(Oe){return Oe=P(Oe),!Re.hasKey(Oe)&&(Re.addKey(Oe),!0)}):K.map(function(Oe){return P(Oe)}).filter(function(Oe){return!Re.hasKey(Oe)&&(Re.addKey(Oe),!0)}));break;case"put":var xe=new gn().addKeys(G.values.map(function(Oe){return P(Oe)}));F=U.filter(function(Oe){return!xe.hasKey(f.values?P(Oe):Oe)}).concat(f.values?K:K.map(function(Oe){return P(Oe)}));break;case"delete":var Ee=new gn().addKeys(G.keys);F=U.filter(function(Oe){return!Ee.hasKey(f.values?P(Oe):Oe)});break;case"deleteRange":var Ae=G.range;F=U.filter(function(Oe){return!pl(P(Oe),Ae)})}return F},o);return $===o?o:($.sort(function(U,G){return ut(M(U),M(G))||ut(P(U),P(G))}),f.limit&&f.limit<1/0&&($.length>f.limit?$.length=f.limit:o.length===f.limit&&$.length<f.limit&&(S.dirty=!0)),E?Object.freeze($):$)}function Qa(o,f){return ut(o.lower,f.lower)===0&&ut(o.upper,f.upper)===0&&!!o.lowerOpen==!!f.lowerOpen&&!!o.upperOpen==!!f.upperOpen}function Ci(o,f){return function(p,x,S,E){if(p===void 0)return x!==void 0?-1:0;if(x===void 0)return 1;if((x=ut(p,x))===0){if(S&&E)return 0;if(S)return 1;if(E)return-1}return x}(o.lower,f.lower,o.lowerOpen,f.lowerOpen)<=0&&0<=function(p,x,S,E){if(p===void 0)return x!==void 0?1:0;if(x===void 0)return-1;if((x=ut(p,x))===0){if(S&&E)return 0;if(S)return-1;if(E)return 1}return x}(o.upper,f.upper,o.upperOpen,f.upperOpen)}function uc(o,f,p,x){o.subscribers.add(p),x.addEventListener("abort",function(){var S,E;o.subscribers.delete(p),o.subscribers.size===0&&(S=o,E=f,setTimeout(function(){S.subscribers.size===0&&Ce(E,S)},3e3))})}var gl={stack:"dbcore",level:0,name:"Cache",create:function(o){var f=o.schema.name;return s(s({},o),{transaction:function(p,x,S){var E,T,_=o.transaction(p,x,S);return x==="readwrite"&&(T=(E=new AbortController).signal,S=function(q){return function(){if(E.abort(),x==="readwrite"){for(var P=new Set,V=0,M=p;V<M.length;V++){var $=M[V],U=ma["idb://".concat(f,"/").concat($)];if(U){var G=o.table($),F=U.optimisticOps.filter(function(Oe){return Oe.trans===_});if(_._explicit&&q&&_.mutatedParts)for(var K=0,ne=Object.values(U.queries.query);K<ne.length;K++)for(var le=0,se=(Re=ne[K]).slice();le<se.length;le++)us((xe=se[le]).obsSet,_.mutatedParts)&&(Ce(Re,xe),xe.subscribers.forEach(function(Oe){return P.add(Oe)}));else if(0<F.length){U.optimisticOps=U.optimisticOps.filter(function(Oe){return Oe.trans!==_});for(var de=0,we=Object.values(U.queries.query);de<we.length;de++)for(var Re,xe,Ee,Ae=0,be=(Re=we[de]).slice();Ae<be.length;Ae++)(xe=be[Ae]).res!=null&&_.mutatedParts&&(q&&!xe.dirty?(Ee=Object.isFrozen(xe.res),Ee=ms(xe.res,xe.req,F,G,xe,Ee),xe.dirty?(Ce(Re,xe),xe.subscribers.forEach(function(Oe){return P.add(Oe)})):Ee!==xe.res&&(xe.res=Ee,xe.promise=_e.resolve({result:Ee}))):(xe.dirty&&Ce(Re,xe),xe.subscribers.forEach(function(Oe){return P.add(Oe)})))}}}P.forEach(function(Oe){return Oe()})}}},_.addEventListener("abort",S(!1),{signal:T}),_.addEventListener("error",S(!1),{signal:T}),_.addEventListener("complete",S(!0),{signal:T})),_},table:function(p){var x=o.table(p),S=x.schema.primaryKey;return s(s({},x),{mutate:function(E){var T=ze.trans;if(S.outbound||T.db._options.cache==="disabled"||T.explicit||T.idbtrans.mode!=="readwrite")return x.mutate(E);var _=ma["idb://".concat(f,"/").concat(p)];return _?(T=x.mutate(E),E.type!=="add"&&E.type!=="put"||!(50<=E.values.length||ml(S,E).some(function(q){return q==null}))?(_.optimisticOps.push(E),E.mutatedParts&&fl(E.mutatedParts),T.then(function(q){0<q.numFailures&&(Ce(_.optimisticOps,E),(q=Co(0,E,q))&&_.optimisticOps.push(q),E.mutatedParts&&fl(E.mutatedParts))}),T.catch(function(){Ce(_.optimisticOps,E),E.mutatedParts&&fl(E.mutatedParts)})):T.then(function(q){var P=Co(0,s(s({},E),{values:E.values.map(function(V,M){var $;return q.failures[M]?V:(V=($=S.keyPath)!==null&&$!==void 0&&$.includes(".")?nt(V):s({},V),Me(V,S.keyPath,q.results[M]),V)})}),q);_.optimisticOps.push(P),queueMicrotask(function(){return E.mutatedParts&&fl(E.mutatedParts)})}),T):x.mutate(E)},query:function(E){if(!pa(ze,x)||!_o("query",E))return x.query(E);var T=((P=ze.trans)===null||P===void 0?void 0:P.db._options.cache)==="immutable",M=ze,_=M.requery,q=M.signal,P=function(G,F,K,ne){var le=ma["idb://".concat(G,"/").concat(F)];if(!le)return[];if(!(F=le.queries[K]))return[null,!1,le,null];var se=F[(ne.query?ne.query.index.name:null)||""];if(!se)return[null,!1,le,null];switch(K){case"query":var de=se.find(function(we){return we.req.limit===ne.limit&&we.req.values===ne.values&&Qa(we.req.query.range,ne.query.range)});return de?[de,!0,le,se]:[se.find(function(we){return("limit"in we.req?we.req.limit:1/0)>=ne.limit&&(!ne.values||we.req.values)&&Ci(we.req.query.range,ne.query.range)}),!1,le,se];case"count":return de=se.find(function(we){return Qa(we.req.query.range,ne.query.range)}),[de,!!de,le,se]}}(f,p,"query",E),V=P[0],M=P[1],$=P[2],U=P[3];return V&&M?V.obsSet=E.obsSet:(M=x.query(E).then(function(G){var F=G.result;if(V&&(V.res=F),T){for(var K=0,ne=F.length;K<ne;++K)Object.freeze(F[K]);Object.freeze(F)}else G.result=nt(F);return G}).catch(function(G){return U&&V&&Ce(U,V),Promise.reject(G)}),V={obsSet:E.obsSet,promise:M,subscribers:new Set,type:"query",req:E,dirty:!1},U?U.push(V):(U=[V],($=$||(ma["idb://".concat(f,"/").concat(p)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[E.query.index.name||""]=U)),uc(V,U,_,q),V.promise.then(function(G){return{result:ms(G.result,E,$?.optimisticOps,x,V,T)}})}})}})}};function Oi(o,f){return new Proxy(o,{get:function(p,x,S){return x==="db"?f:Reflect.get(p,x,S)}})}var br=(Pt.prototype.version=function(o){if(isNaN(o)||o<.1)throw new Ue.Type("Given version is not a positive number");if(o=Math.round(10*o)/10,this.idbdb||this._state.isBeingOpened)throw new Ue.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,o);var f=this._versions,p=f.filter(function(x){return x._cfg.version===o})[0];return p||(p=new this.Version(o),f.push(p),f.sort(rs),p.stores({}),this._state.autoSchema=!1,p)},Pt.prototype._whenReady=function(o){var f=this;return this.idbdb&&(this._state.openComplete||ze.letThrough||this._vip)?o():new _e(function(p,x){if(f._state.openComplete)return x(new Ue.DatabaseClosed(f._state.dbOpenError));if(!f._state.isBeingOpened){if(!f._state.autoOpen)return void x(new Ue.DatabaseClosed);f.open().catch(xt)}f._state.dbReadyPromise.then(p,x)}).then(o)},Pt.prototype.use=function(o){var f=o.stack,p=o.create,x=o.level,S=o.name;return S&&this.unuse({stack:f,name:S}),o=this._middlewares[f]||(this._middlewares[f]=[]),o.push({stack:f,create:p,level:x??10,name:S}),o.sort(function(E,T){return E.level-T.level}),this},Pt.prototype.unuse=function(o){var f=o.stack,p=o.name,x=o.create;return f&&this._middlewares[f]&&(this._middlewares[f]=this._middlewares[f].filter(function(S){return x?S.create!==x:!!p&&S.name!==p})),this},Pt.prototype.open=function(){var o=this;return hn(fn,function(){return lc(o)})},Pt.prototype._close=function(){var o=this._state,f=On.indexOf(this);if(0<=f&&On.splice(f,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}o.isBeingOpened||(o.dbReadyPromise=new _e(function(p){o.dbReadyResolve=p}),o.openCanceller=new _e(function(p,x){o.cancelOpen=x}))},Pt.prototype.close=function(p){var f=(p===void 0?{disableAutoOpen:!0}:p).disableAutoOpen,p=this._state;f?(p.isBeingOpened&&p.cancelOpen(new Ue.DatabaseClosed),this._close(),p.autoOpen=!1,p.dbOpenError=new Ue.DatabaseClosed):(this._close(),p.autoOpen=this._options.autoOpen||p.isBeingOpened,p.openComplete=!1,p.dbOpenError=null)},Pt.prototype.delete=function(o){var f=this;o===void 0&&(o={disableAutoOpen:!0});var p=0<arguments.length&&typeof arguments[0]!="object",x=this._state;return new _e(function(S,E){function T(){f.close(o);var _=f._deps.indexedDB.deleteDatabase(f.name);_.onsuccess=he(function(){var q,P,V;q=f._deps,P=f.name,V=q.indexedDB,q=q.IDBKeyRange,ul(V)||P===Fn||is(V,q).delete(P).catch(xt),S()}),_.onerror=ir(E),_.onblocked=f._fireOnBlocked}if(p)throw new Ue.InvalidArgument("Invalid closeOptions argument to db.delete()");x.isBeingOpened?x.dbReadyPromise.then(T):T()})},Pt.prototype.backendDB=function(){return this.idbdb},Pt.prototype.isOpen=function(){return this.idbdb!==null},Pt.prototype.hasBeenClosed=function(){var o=this._state.dbOpenError;return o&&o.name==="DatabaseClosed"},Pt.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Pt.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Pt.prototype,"tables",{get:function(){var o=this;return g(this._allTables).map(function(f){return o._allTables[f]})},enumerable:!1,configurable:!0}),Pt.prototype.transaction=function(){var o=(function(f,p,x){var S=arguments.length;if(S<2)throw new Ue.InvalidArgument("Too few arguments");for(var E=new Array(S-1);--S;)E[S-1]=arguments[S];return x=E.pop(),[f,Ct(E),x]}).apply(this,arguments);return this._transaction.apply(this,o)},Pt.prototype._transaction=function(o,f,p){var x=this,S=ze.trans;S&&S.db===this&&o.indexOf("!")===-1||(S=null);var E,T,_=o.indexOf("?")!==-1;o=o.replace("!","").replace("?","");try{if(T=f.map(function(P){if(P=P instanceof x.Table?P.name:P,typeof P!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return P}),o=="r"||o===it)E=it;else{if(o!="rw"&&o!=Qt)throw new Ue.InvalidArgument("Invalid transaction mode: "+o);E=Qt}if(S){if(S.mode===it&&E===Qt){if(!_)throw new Ue.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");S=null}S&&T.forEach(function(P){if(S&&S.storeNames.indexOf(P)===-1){if(!_)throw new Ue.SubTransaction("Table "+P+" not included in parent transaction.");S=null}}),_&&S&&!S.active&&(S=null)}}catch(P){return S?S._promise(null,function(V,M){M(P)}):bt(P)}var q=(function P(V,M,$,U,G){return _e.resolve().then(function(){var F=ze.transless||ze,K=V._createTransaction(M,$,V._dbSchema,U);if(K.explicit=!0,F={trans:K,transless:F},U)K.idbtrans=U.idbtrans;else try{K.create(),K.idbtrans._explicit=!0,V._state.PR1398_maxLoop=3}catch(se){return se.name===sn.InvalidState&&V.isOpen()&&0<--V._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),V.close({disableAutoOpen:!1}),V.open().then(function(){return P(V,M,$,null,G)})):bt(se)}var ne,le=ue(G);return le&&tt(),F=_e.follow(function(){var se;(ne=G.call(K,K))&&(le?(se=ft.bind(null,null),ne.then(se,se)):typeof ne.next=="function"&&typeof ne.throw=="function"&&(ne=_i(ne)))},F),(ne&&typeof ne.then=="function"?_e.resolve(ne).then(function(se){return K.active?se:bt(new Ue.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):F.then(function(){return ne})).then(function(se){return U&&K._resolve(),K._completion.then(function(){return se})}).catch(function(se){return K._reject(se),bt(se)})})}).bind(null,this,E,T,S,p);return S?S._promise(E,q,"lock"):ze.trans?hn(ze.transless,function(){return x._whenReady(q)}):this._whenReady(q)},Pt.prototype.table=function(o){if(!R(this._allTables,o))throw new Ue.InvalidTable("Table ".concat(o," does not exist"));return this._allTables[o]},Pt);function Pt(o,f){var p=this;this._middlewares={},this.verno=0;var x=Pt.dependencies;this._options=f=s({addons:Pt.addons,autoOpen:!0,indexedDB:x.indexedDB,IDBKeyRange:x.IDBKeyRange,cache:"cloned"},f),this._deps={indexedDB:f.indexedDB,IDBKeyRange:f.IDBKeyRange},x=f.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var S,E,T,_,q,P={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:xt,dbReadyPromise:null,cancelOpen:xt,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:f.autoOpen};P.dbReadyPromise=new _e(function(M){P.dbReadyResolve=M}),P.openCanceller=new _e(function(M,$){P.cancelOpen=$}),this._state=P,this.name=o,this.on=$r(this,"populate","blocked","versionchange","close",{ready:[Ca,xt]}),this.on.ready.subscribe=Z(this.on.ready.subscribe,function(M){return function($,U){Pt.vip(function(){var G,F=p._state;F.openComplete?(F.dbOpenError||_e.resolve().then($),U&&M($)):F.onReadyBeingFired?(F.onReadyBeingFired.push($),U&&M($)):(M($),G=p,U||M(function K(){G.on.ready.unsubscribe($),G.on.ready.unsubscribe(K)}))})}}),this.Collection=(S=this,Da(ka.prototype,function(ne,K){this.db=S;var U=Kn,G=null;if(K)try{U=K()}catch(le){G=le}var F=ne._ctx,K=F.table,ne=K.hook.reading.fire;this._ctx={table:K,index:F.index,isPrimKey:!F.index||K.schema.primKey.keyPath&&F.index===K.schema.primKey.name,range:U,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:G,or:F.or,valueMapper:ne!==Cr?ne:null}})),this.Table=(E=this,Da(Wl.prototype,function(M,$,U){this.db=E,this._tx=U,this.name=M,this.schema=$,this.hook=E._allTables[M]?E._allTables[M].hook:$r(null,{creating:[Xl,xt],reading:[ar,Cr],updating:[Fl,xt],deleting:[qn,xt]})})),this.Transaction=(T=this,Da(ns.prototype,function(M,$,U,G,F){var K=this;this.db=T,this.mode=M,this.storeNames=$,this.schema=U,this.chromeTransactionDurability=G,this.idbtrans=null,this.on=$r(this,"complete","error","abort"),this.parent=F||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new _e(function(ne,le){K._resolve=ne,K._reject=le}),this._completion.then(function(){K.active=!1,K.on.complete.fire()},function(ne){var le=K.active;return K.active=!1,K.on.error.fire(ne),K.parent?K.parent._reject(ne):le&&K.idbtrans&&K.idbtrans.abort(),bt(ne)})})),this.Version=(_=this,Da(ic.prototype,function(M){this.db=_,this._cfg={version:M,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(q=this,Da(ua.prototype,function(M,$,U){if(this.db=q,this._ctx={table:M,index:$===":id"?null:$,or:U},this._cmp=this._ascending=ut,this._descending=function(G,F){return ut(F,G)},this._max=function(G,F){return 0<ut(G,F)?G:F},this._min=function(G,F){return ut(G,F)<0?G:F},this._IDBKeyRange=q._deps.IDBKeyRange,!this._IDBKeyRange)throw new Ue.MissingAPI})),this.on("versionchange",function(M){0<M.newVersion?console.warn("Another connection wants to upgrade database '".concat(p.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(p.name,"'. Closing db now to resume the delete request.")),p.close({disableAutoOpen:!1})}),this.on("blocked",function(M){!M.newVersion||M.newVersion<M.oldVersion?console.warn("Dexie.delete('".concat(p.name,"') was blocked")):console.warn("Upgrade '".concat(p.name,"' blocked by other connection holding version ").concat(M.oldVersion/10))}),this._maxKey=Ha(f.IDBKeyRange),this._createTransaction=function(M,$,U,G){return new p.Transaction(M,$,U,p._options.chromeTransactionDurability,G)},this._fireOnBlocked=function(M){p.on("blocked").fire(M),On.filter(function($){return $.name===p.name&&$!==p&&!$._state.vcFired}).map(function($){return $.on("versionchange").fire(M)})},this.use(Ao),this.use(gl),this.use(oc),this.use(sc),this.use(To);var V=new Proxy(this,{get:function(M,$,U){if($==="_vip")return!0;if($==="table")return function(F){return Oi(p.table(F),V)};var G=Reflect.get(M,$,U);return G instanceof Wl?Oi(G,V):$==="tables"?G.map(function(F){return Oi(F,V)}):$==="_createTransaction"?function(){return Oi(G.apply(this,arguments),V)}:G}});this.vip=V,x.forEach(function(M){return M(p)})}var Ga,Vn=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Oo=(yl.prototype.subscribe=function(o,f,p){return this._subscribe(o&&typeof o!="function"?o:{next:o,error:f,complete:p})},yl.prototype[Vn]=function(){return this},yl);function yl(o){this._subscribe=o}try{Ga={indexedDB:h.indexedDB||h.mozIndexedDB||h.webkitIndexedDB||h.msIndexedDB,IDBKeyRange:h.IDBKeyRange||h.webkitIDBKeyRange}}catch{Ga={indexedDB:null,IDBKeyRange:null}}function Do(o){var f,p=!1,x=new Oo(function(S){var E=ue(o),T,_=!1,q={},P={},V={get closed(){return _},unsubscribe:function(){_||(_=!0,T&&T.abort(),M&&pn.storagemutated.unsubscribe(U))}};S.start&&S.start(V);var M=!1,$=function(){return on(G)},U=function(F){dl(q,F),us(P,q)&&$()},G=function(){var F,K,ne;!_&&Ga.indexedDB&&(q={},F={},T&&T.abort(),T=new AbortController,ne=function(le){var se=L();try{E&&tt();var de=Le(o,le);return de=E?de.finally(ft):de}finally{se&&W()}}(K={subscr:F,signal:T.signal,requery:$,querier:o,trans:null}),Promise.resolve(ne).then(function(le){p=!0,f=le,_||K.signal.aborted||(q={},function(se){for(var de in se)if(R(se,de))return;return 1}(P=F)||M||(pn(qa,U),M=!0),on(function(){return!_&&S.next&&S.next(le)}))},function(le){p=!1,["DatabaseClosedError","AbortError"].includes(le?.name)||_||on(function(){_||S.error&&S.error(le)})}))};return setTimeout($,0),V});return x.hasValue=function(){return p},x.getValue=function(){return f},x}var ga=br;function ps(o){var f=Wr;try{Wr=!0,pn.storagemutated.fire(o),fs(o,!0)}finally{Wr=f}}A(ga,s(s({},An),{delete:function(o){return new ga(o,{addons:[]}).delete()},exists:function(o){return new ga(o,{addons:[]}).open().then(function(f){return f.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(o){try{return f=ga.dependencies,p=f.indexedDB,f=f.IDBKeyRange,(ul(p)?Promise.resolve(p.databases()).then(function(x){return x.map(function(S){return S.name}).filter(function(S){return S!==Fn})}):is(p,f).toCollection().primaryKeys()).then(o)}catch{return bt(new Ue.MissingAPI)}var f,p},defineClass:function(){return function(o){v(this,o)}},ignoreTransaction:function(o){return ze.trans?hn(ze.transless,o):o()},vip:ls,async:function(o){return function(){try{var f=_i(o.apply(this,arguments));return f&&typeof f.then=="function"?f:_e.resolve(f)}catch(p){return bt(p)}}},spawn:function(o,f,p){try{var x=_i(o.apply(p,f||[]));return x&&typeof x.then=="function"?x:_e.resolve(x)}catch(S){return bt(S)}},currentTransaction:{get:function(){return ze.trans||null}},waitFor:function(o,f){return f=_e.resolve(typeof o=="function"?ga.ignoreTransaction(o):o).timeout(f||6e4),ze.trans?ze.trans.waitFor(f):f},Promise:_e,debug:{get:function(){return Sn},set:function(o){hr(o)}},derive:D,extend:v,props:A,override:Z,Events:$r,on:pn,liveQuery:Do,extendObservabilitySet:dl,getByKeyPath:I,setByKeyPath:Me,delByKeyPath:function(o,f){typeof f=="string"?Me(o,f,void 0):"length"in f&&[].map.call(f,function(p){Me(o,p,void 0)})},shallowClone:Ie,deepClone:nt,getObjectDiff:hl,cmp:ut,asap:pe,minKey:-1/0,addons:[],connections:On,errnames:sn,dependencies:Ga,cache:ma,semVer:"4.0.11",version:"4.0.11".split(".").map(function(o){return parseInt(o)}).reduce(function(o,f,p){return o+f/Math.pow(10,2*p)})})),ga.maxKey=Ha(ga.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(pn(qa,function(o){Wr||(o=new CustomEvent(da,{detail:o}),Wr=!0,dispatchEvent(o),Wr=!1)}),addEventListener(da,function(o){o=o.detail,Wr||ps(o)}));var Va,Wr=!1,Ln=function(){};return typeof BroadcastChannel<"u"&&((Ln=function(){(Va=new BroadcastChannel(da)).onmessage=function(o){return o.data&&ps(o.data)}})(),typeof Va.unref=="function"&&Va.unref(),pn(qa,function(o){Wr||Va.postMessage(o)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(o){if(!br.disableBfCache&&o.persisted){Sn&&console.debug("Dexie: handling persisted pagehide"),Va?.close();for(var f=0,p=On;f<p.length;f++)p[f].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(o){!br.disableBfCache&&o.persisted&&(Sn&&console.debug("Dexie: handling persisted pageshow"),Ln(),ps({all:new gn(-1/0,[[]])}))})),_e.rejectionMapper=function(o,f){return!o||o instanceof ve||o instanceof TypeError||o instanceof SyntaxError||!o.name||!Vt[o.name]?o:(f=new Vt[o.name](f||o.message,o),"stack"in o&&k(f,"stack",{get:function(){return this.inner.stack}}),f)},hr(Sn),s(br,Object.freeze({__proto__:null,Dexie:br,liveQuery:Do,Entity:kr,cmp:ut,PropModification:za,replacePrefix:function(o,f){return new za({replacePrefix:[o,f]})},add:function(o){return new za({add:o})},remove:function(o){return new za({remove:o})},default:br,RangeSet:gn,mergeRanges:ha,rangesOverlap:Eo}),{default:br}),br})}(Hu)),Hu.exports}var fw=dw();const bf=Cp(fw),Rp=Symbol.for("Dexie"),Iu=globalThis[Rp]||(globalThis[Rp]=bf);if(bf.semVer!==Iu.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${bf.semVer} and ${Iu.semVer}`);const{liveQuery:A2,mergeRanges:_2,rangesOverlap:C2,RangeSet:O2,cmp:D2,Entity:M2,PropModification:L2,replacePrefix:z2,add:k2,remove:U2}=Iu;var er=(r=>(r.API_ERROR="API_ERROR",r.NETWORK_ERROR="NETWORK_ERROR",r.AUTHENTICATION_ERROR="AUTHENTICATION_ERROR",r.RATE_LIMIT_ERROR="RATE_LIMIT_ERROR",r.STORAGE_ERROR="STORAGE_ERROR",r.STORAGE_QUOTA_EXCEEDED="STORAGE_QUOTA_EXCEEDED",r.STORAGE_CORRUPTION="STORAGE_CORRUPTION",r.VALIDATION_ERROR="VALIDATION_ERROR",r.COMPONENT_ERROR="COMPONENT_ERROR",r.UNKNOWN_ERROR="UNKNOWN_ERROR",r))(er||{}),In=(r=>(r.LOW="LOW",r.MEDIUM="MEDIUM",r.HIGH="HIGH",r.CRITICAL="CRITICAL",r))(In||{});class Kl{static instance;errors=[];listeners=[];maxErrors=100;constructor(){this.setupGlobalErrorHandlers()}static getInstance(){return Kl.instance||(Kl.instance=new Kl),Kl.instance}setupGlobalErrorHandlers(){window.addEventListener("unhandledrejection",i=>{this.handleError(new Error(i.reason?.message||"Unhandled promise rejection"),{type:er.UNKNOWN_ERROR,severity:In.HIGH,context:{reason:i.reason}})}),window.addEventListener("error",i=>{this.handleError(new Error(i.message),{type:er.COMPONENT_ERROR,severity:In.MEDIUM,context:{filename:i.filename,lineno:i.lineno,colno:i.colno}})})}handleError(i,l={}){const s=typeof i=="string"?i:i.message,d=typeof i=="string"?void 0:i.stack,h={id:`error-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,type:l.type||er.UNKNOWN_ERROR,severity:l.severity||In.MEDIUM,message:s,details:typeof i=="string"?void 0:i.toString(),timestamp:new Date,retryable:l.retryable||!1,context:l.context,stack:d};return this.errors.unshift(h),this.errors.length>this.maxErrors&&(this.errors=this.errors.slice(0,this.maxErrors)),l.logToConsole!==!1&&console.error("Application Error:",h),this.listeners.forEach(g=>{try{g(h)}catch(b){console.error("Error in error listener:",b)}}),h}handleAPIError(i,l){let s=er.API_ERROR,d=In.MEDIUM,h=!0;return i.message.includes("network")||i.message.includes("fetch")?(s=er.NETWORK_ERROR,d=In.HIGH):i.message.includes("401")||i.message.includes("authentication")?(s=er.AUTHENTICATION_ERROR,d=In.HIGH,h=!1):(i.message.includes("429")||i.message.includes("rate limit"))&&(s=er.RATE_LIMIT_ERROR,d=In.MEDIUM),this.handleError(i,{type:s,severity:d,retryable:h,context:l,showToUser:!0})}handleStorageError(i,l){let s=er.STORAGE_ERROR,d=In.MEDIUM;return(i.message.includes("quota")||i.message.includes("storage"))&&(s=er.STORAGE_QUOTA_EXCEEDED,d=In.HIGH),this.handleError(i,{type:s,severity:d,retryable:!1,context:l,showToUser:!0})}handleValidationError(i,l){return this.handleError(i,{type:er.VALIDATION_ERROR,severity:In.LOW,retryable:!1,context:l,showToUser:!0})}async retryOperation(i,l=3,s=1e3){let d;for(let h=0;h<=l;h++)try{return await i()}catch(g){if(d=g,h===l)break;const b=s*Math.pow(2,h)+Math.random()*1e3;await new Promise(v=>setTimeout(v,b))}throw this.handleError(d,{type:er.API_ERROR,severity:In.HIGH,retryable:!1,context:{maxRetries:l,attempts:l+1}})}async checkSystemHealth(){const i={network:await this.checkNetworkStatus(),storage:await this.checkStorageStatus(),apiConnection:!1,lastChecked:new Date};try{const l=await fetch("https://www.google.com/favicon.ico",{method:"HEAD",mode:"no-cors",cache:"no-cache"});i.apiConnection=!0}catch{i.apiConnection=!1}return i}async checkNetworkStatus(){const i={isOnline:navigator.onLine},l=navigator.connection||navigator.mozConnection||navigator.webkitConnection;return l&&(i.connectionType=l.type,i.effectiveType=l.effectiveType),i}async checkStorageStatus(){try{if("storage"in navigator&&"estimate"in navigator.storage){const i=await navigator.storage.estimate();return{available:!0,quota:i.quota,usage:i.usage}}return{available:!0}}catch(i){return{available:!1,error:i.message}}}addErrorListener(i){return this.listeners.push(i),()=>{const l=this.listeners.indexOf(i);l>-1&&this.listeners.splice(l,1)}}getErrors(i,l){let s=[...this.errors];return i&&(s=s.filter(d=>d.type===i)),l&&(s=s.filter(d=>d.severity===l)),s}clearErrors(i){i?this.errors=this.errors.filter(l=>l.type!==i):this.errors=[]}getErrorStats(){const i=new Date(Date.now()-36e5),l={total:this.errors.length,byType:{},bySeverity:{},recent:this.errors.filter(s=>s.timestamp>i).length};return Object.values(er).forEach(s=>{l.byType[s]=0}),Object.values(In).forEach(s=>{l.bySeverity[s]=0}),this.errors.forEach(s=>{l.byType[s.type]++,l.bySeverity[s.severity]++}),l}}const mi=Kl.getInstance();class hw extends Iu{questions;practiceSessions;chatHistory;chatSessions;wrongQuestions;vocabularyWords;dictionaryCache;constructor(){super("TOEICPracticeDB"),this.version(1).stores({questions:"id, type, category, difficulty, createdAt",practiceSessions:"id, startTime, endTime, completed, score",chatHistory:"id, questionId, timestamp, role",chatSessions:"id, questionId, createdAt, updatedAt",wrongQuestions:"id, questionId, sessionId, lastReviewedAt, mastered, createdAt"}),this.version(2).stores({questions:"id, type, category, difficulty, createdAt",practiceSessions:"id, startTime, endTime, completed, score",chatHistory:"id, questionId, timestamp, role",chatSessions:"id, questionId, createdAt, updatedAt",wrongQuestions:"id, questionId, sessionId, lastReviewedAt, mastered, createdAt",vocabularyWords:"id, word, sourceType, sourceId, addedAt, mastered"}),this.version(3).stores({questions:"id, type, category, difficulty, createdAt",practiceSessions:"id, startTime, endTime, completed, score",chatHistory:"id, questionId, timestamp, role",chatSessions:"id, questionId, createdAt, updatedAt",wrongQuestions:"id, questionId, sessionId, lastReviewedAt, mastered, createdAt",vocabularyWords:"id, word, sourceType, sourceId, addedAt, mastered, phonetic, meanings, language, reading, jlpt, commonality",dictionaryCache:"word, phonetic, audioUrl, meanings, language, reading, jlpt, commonality, cachedAt"})}}const ot=new hw;class mw{async handleStorageOperation(i,l,s){try{return await i()}catch(d){const h=d;throw h.name==="QuotaExceededError"||h.message.includes("quota")?mi.handleStorageError(new Error(`Storage quota exceeded during ${l}`),{...s,originalError:h.message}):h.name==="DatabaseError"||h.message.includes("corrupt")?mi.handleStorageError(new Error(`Database corruption detected during ${l}`),{...s,originalError:h.message}):mi.handleStorageError(new Error(`Storage operation failed: ${l} - ${h.message}`),{...s,originalError:h.message})}}async saveQuestion(i){return this.handleStorageOperation(()=>ot.questions.put(i),"saveQuestion",{questionId:i.id,questionType:i.type})}async getQuestions(){return this.handleStorageOperation(()=>ot.questions.toArray(),"getQuestions")}async getQuestionById(i){return this.handleStorageOperation(async()=>await ot.questions.get(i)||null,"getQuestionById",{questionId:i})}async savePracticeSession(i){return this.handleStorageOperation(()=>ot.practiceSessions.put(i),"savePracticeSession",{sessionId:i.id,questionsCount:i.questions.length})}async getPracticeSessions(){return this.handleStorageOperation(()=>ot.practiceSessions.orderBy("startTime").reverse().toArray(),"getPracticeSessions")}async getPracticeSessionById(i){return this.handleStorageOperation(async()=>await ot.practiceSessions.get(i)||null,"getPracticeSessionById",{sessionId:i})}async saveChatMessage(i){return this.handleStorageOperation(()=>ot.chatHistory.put(i),"saveChatMessage",{messageId:i.id,questionId:i.questionId})}async getChatHistory(i){return this.handleStorageOperation(()=>ot.chatHistory.where("questionId").equals(i).sortBy("timestamp"),"getChatHistory",{questionId:i})}async saveChatSession(i){return this.handleStorageOperation(()=>ot.chatSessions.put(i),"saveChatSession",{sessionId:i.id,questionId:i.questionId})}async getChatSession(i){return this.handleStorageOperation(async()=>await ot.chatSessions.where("questionId").equals(i).first()||null,"getChatSession",{questionId:i})}async getAllChatSessions(){return this.handleStorageOperation(()=>ot.chatSessions.orderBy("updatedAt").reverse().toArray(),"getAllChatSessions")}async saveWrongQuestion(i){return this.handleStorageOperation(()=>ot.wrongQuestions.put(i),"saveWrongQuestion",{questionId:i.questionId,sessionId:i.sessionId})}async getWrongQuestions(){return this.handleStorageOperation(()=>ot.wrongQuestions.where("mastered").equals(0).reverse().sortBy("createdAt"),"getWrongQuestions")}async updateWrongQuestionStatus(i,l){return this.handleStorageOperation(async()=>{await ot.wrongQuestions.update(i,{mastered:l,lastReviewedAt:new Date})},"updateWrongQuestionStatus",{wrongQuestionId:i,mastered:l})}saveUserPreferences(i){try{const l=JSON.stringify(i);localStorage.setItem("userPreferences",l)}catch(l){const s=l;throw s.name==="QuotaExceededError"?mi.handleStorageError(new Error("Local storage quota exceeded while saving preferences"),{preferencesSize:JSON.stringify(i).length}):mi.handleStorageError(new Error(`Failed to save user preferences: ${s.message}`),{originalError:s.message})}}getUserPreferences(){try{const i=localStorage.getItem("userPreferences");return i?JSON.parse(i):null}catch(i){const l=i;return mi.handleStorageError(new Error(`Failed to load user preferences: ${l.message}`),{originalError:l.message}),null}}async checkStorageHealth(){const i={indexedDB:!1,localStorage:!1,quota:void 0,errors:[]};try{await ot.questions.limit(1).toArray(),i.indexedDB=!0}catch(l){i.errors.push(`IndexedDB error: ${l.message}`)}try{const l="__storage_test__";localStorage.setItem(l,"test"),localStorage.removeItem(l),i.localStorage=!0}catch(l){i.errors.push(`localStorage error: ${l.message}`)}try{if("storage"in navigator&&"estimate"in navigator.storage){const l=await navigator.storage.estimate();l.quota&&l.usage&&(i.quota={used:l.usage,available:l.quota-l.usage})}}catch(l){i.errors.push(`Quota check error: ${l.message}`)}return i}async exportData(){return this.handleStorageOperation(async()=>{const[i,l,s,d,h]=await Promise.all([this.getQuestions(),this.getPracticeSessions(),this.getAllChatSessions(),this.getWrongQuestions(),this.getVocabularyWords()]);return{questions:i,sessions:l,chatSessions:s,wrongQuestions:d,vocabularyWords:h,preferences:this.getUserPreferences(),exportDate:new Date().toISOString()}},"exportData")}async importData(i){return this.handleStorageOperation(async()=>{await ot.transaction("rw",[ot.questions,ot.practiceSessions,ot.chatSessions,ot.wrongQuestions,ot.vocabularyWords],async()=>{i.questions&&await ot.questions.bulkPut(i.questions),i.sessions&&await ot.practiceSessions.bulkPut(i.sessions),i.chatSessions&&await ot.chatSessions.bulkPut(i.chatSessions),i.wrongQuestions&&await ot.wrongQuestions.bulkPut(i.wrongQuestions),i.vocabularyWords&&await ot.vocabularyWords.bulkPut(i.vocabularyWords)}),i.preferences&&this.saveUserPreferences(i.preferences)},"importData",{questionsCount:i.questions?.length||0,sessionsCount:i.sessions?.length||0,chatSessionsCount:i.chatSessions?.length||0,wrongQuestionsCount:i.wrongQuestions?.length||0,vocabularyWordsCount:i.vocabularyWords?.length||0})}async clearAllData(){return this.handleStorageOperation(async()=>{await ot.delete(),localStorage.clear(),await ot.open()},"clearAllData")}async saveVocabularyWord(i){return this.handleStorageOperation(()=>ot.vocabularyWords.put(i),"saveVocabularyWord",{wordId:i.id,word:i.word})}async getVocabularyWords(){return this.handleStorageOperation(()=>ot.vocabularyWords.orderBy("addedAt").reverse().toArray(),"getVocabularyWords")}async getVocabularyWordById(i){return this.handleStorageOperation(async()=>await ot.vocabularyWords.get(i)||null,"getVocabularyWordById",{wordId:i})}async updateVocabularyWord(i){return this.handleStorageOperation(()=>ot.vocabularyWords.put(i),"updateVocabularyWord",{wordId:i.id,word:i.word})}async deleteVocabularyWord(i){return this.handleStorageOperation(()=>ot.vocabularyWords.delete(i),"deleteVocabularyWord",{wordId:i})}async searchVocabularyWords(i){return this.handleStorageOperation(()=>ot.vocabularyWords.filter(l=>l.word.toLowerCase().includes(i.toLowerCase())||l.context&&l.context.toLowerCase().includes(i.toLowerCase())||l.definition&&l.definition.toLowerCase().includes(i.toLowerCase())||l.notes&&l.notes.toLowerCase().includes(i.toLowerCase())).toArray(),"searchVocabularyWords",{query:i})}async saveDictionaryCache(i){return this.handleStorageOperation(()=>ot.dictionaryCache.put(i),"saveDictionaryCache",{word:i.word})}async getDictionaryCache(i){return this.handleStorageOperation(async()=>{const l=await ot.dictionaryCache.get(i.toLowerCase());if(l&&l.cachedAt){const s=Date.now()-new Date(l.cachedAt).getTime(),d=10080*60*1e3;if(s>d)return await ot.dictionaryCache.delete(i.toLowerCase()),null}return l||null},"getDictionaryCache",{word:i})}async clearExpiredDictionaryCache(){return this.handleStorageOperation(async()=>{const l=new Date(Date.now()-6048e5);return await ot.dictionaryCache.where("cachedAt").below(l).delete()},"clearExpiredDictionaryCache")}async cleanupOldData(i=30){return this.handleStorageOperation(async()=>{const l=new Date;l.setDate(l.getDate()-i);const s=await ot.practiceSessions.where("startTime").below(l).delete(),d=await ot.chatSessions.where("createdAt").below(l).delete(),h=await ot.chatHistory.where("timestamp").below(l).delete();return{deletedSessions:s,deletedChatSessions:d,deletedMessages:h}},"cleanupOldData",{daysToKeep:i})}}const dn=new mw,pw=yo((r,i)=>({currentSession:null,isLoading:!1,error:null,initializeChatSession:async l=>{r({isLoading:!0,error:null});try{const s=await dn.getChatSession(l);if(s)r({currentSession:s,isLoading:!1});else{const d={id:crypto.randomUUID(),questionId:l,messages:[],createdAt:new Date,updatedAt:new Date};await dn.saveChatSession(d),r({currentSession:d,isLoading:!1})}}catch(s){const d=s instanceof Error?s.message:"初始化对话会话失败";throw r({isLoading:!1,error:d}),s}},sendMessage:async(l,s)=>{const{currentSession:d}=i();if(!d)throw new Error("没有活动的对话会话");r({isLoading:!0,error:null});try{const h={id:crypto.randomUUID(),questionId:d.questionId,role:"user",content:l,timestamp:new Date},g=[...d.messages,h],b=$i.getState().getLanguageForAI(),v=await uw(l,{questionContext:s?{id:s.id,question:s.question,options:s.options,correctAnswer:s.correctAnswer,category:s.category,difficulty:s.difficulty,explanation:s.explanation}:void 0,conversationHistory:d.messages,languageInstruction:b}),y={id:crypto.randomUUID(),questionId:d.questionId,role:"assistant",content:v.message,timestamp:v.timestamp},j=[...g,y],R={...d,messages:j,updatedAt:new Date};await dn.saveChatSession(R),r({currentSession:R,isLoading:!1})}catch(h){const g=h instanceof Error?h.message:"发送消息失败";throw r({isLoading:!1,error:g}),h}},loadChatHistory:async l=>{r({isLoading:!0,error:null});try{const s=await dn.getChatSession(l);r({currentSession:s,isLoading:!1})}catch(s){const d=s instanceof Error?s.message:"加载对话历史失败";throw r({isLoading:!1,error:d}),s}},clearCurrentSession:()=>{r({currentSession:null,isLoading:!1,error:null})},setLoading:l=>r({isLoading:l}),setError:l=>r({error:l})})),Il=({size:r="md",className:i=""})=>{const l={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8"};return c.jsx("div",{className:`animate-spin ${l[r]} ${i}`,role:"status","aria-label":"Loading",children:c.jsxs("svg",{className:"w-full h-full text-blue-600",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})})},gw=({question:r,className:i=""})=>{const[l,s]=z.useState(""),[d,h]=z.useState(!1),g=z.useRef(null),{currentSession:b,isLoading:v,error:y,initializeChatSession:j,sendMessage:R,setError:A}=pw();z.useEffect(()=>{d||(async()=>{try{await j(r.id),h(!0)}catch(ce){console.error("Failed to initialize chat:",ce),h(!0)}})()},[r.id,j,d]),z.useEffect(()=>{b&&!d&&h(!0)},[b,d]),z.useEffect(()=>{B()},[b?.messages]);const B=()=>{g.current?.scrollIntoView({behavior:"smooth"})},k=async X=>{if(X.preventDefault(),!l.trim()||v)return;const ce=l.trim();s(""),A(null);try{await R(ce,r)}catch(Z){console.error("Failed to send message:",Z)}},D=X=>{X.key==="Enter"&&!X.shiftKey&&(X.preventDefault(),k(X))},Q=X=>new Intl.DateTimeFormat("zh-CN",{hour:"2-digit",minute:"2-digit"}).format(X);return d?c.jsxs("div",{className:`bg-white rounded-lg shadow-sm ${i}`,children:[c.jsx("div",{className:"border-b border-gray-200 p-4",children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:c.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z",clipRule:"evenodd"})})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"AI 助手"}),c.jsx("p",{className:"text-sm text-gray-600",children:"针对这道题目进行讨论"})]})]})}),c.jsxs("div",{className:"h-96 overflow-y-auto p-4 space-y-4",children:[b?.messages.length===0?c.jsxs("div",{className:"text-center py-8",children:[c.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-3",children:c.jsx("svg",{className:"w-6 h-6 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z",clipRule:"evenodd"})})}),c.jsx("p",{className:"text-gray-600 text-sm",children:"开始与AI讨论这道题目吧！你可以询问解题思路、语法知识点或相关的学习建议。"})]}):b?.messages.map(X=>c.jsx("div",{className:`flex ${X.role==="user"?"justify-end":"justify-start"}`,children:c.jsxs("div",{className:`max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${X.role==="user"?"bg-blue-600 text-white":"bg-gray-100 text-gray-900"}`,children:[c.jsx("p",{className:"text-sm whitespace-pre-wrap",children:X.content}),c.jsx("p",{className:`text-xs mt-1 ${X.role==="user"?"text-blue-100":"text-gray-500"}`,children:Q(X.timestamp)})]})},X.id)),v&&c.jsx("div",{className:"flex justify-start",children:c.jsx("div",{className:"bg-gray-100 rounded-lg px-4 py-2",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsxs("div",{className:"flex space-x-1",children:[c.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),c.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),c.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]}),c.jsx("span",{className:"text-xs text-gray-500",children:"AI正在思考..."})]})})}),c.jsx("div",{ref:g})]}),y&&c.jsx("div",{className:"border-t border-gray-200 p-4",children:c.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:c.jsxs("div",{className:"flex items-start",children:[c.jsx("svg",{className:"w-5 h-5 text-red-400 mt-0.5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-red-800",children:y}),c.jsx("button",{onClick:()=>A(null),className:"text-xs text-red-600 hover:text-red-800 mt-1",children:"关闭"})]})]})})}),c.jsxs("div",{className:"border-t border-gray-200 p-4",children:[c.jsxs("form",{onSubmit:k,className:"flex space-x-2",children:[c.jsx("div",{className:"flex-1",children:c.jsx("textarea",{value:l,onChange:X=>s(X.target.value),onKeyDown:D,placeholder:"输入你的问题...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",rows:2,disabled:v})}),c.jsx("button",{type:"submit",disabled:!l.trim()||v,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center min-w-[60px]",children:v?c.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):c.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{d:"M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"})})})]}),c.jsxs("div",{className:"mt-2 flex items-center justify-between text-xs text-gray-500",children:[c.jsx("span",{children:"按 Enter 发送，Shift + Enter 换行"}),b?.messages&&c.jsxs("span",{children:[b.messages.length," 条消息"]})]})]})]}):c.jsx("div",{className:`bg-white rounded-lg shadow-sm p-6 ${i}`,children:c.jsx("div",{className:"flex items-center justify-center h-32",children:c.jsx(Il,{})})})},yw=({question:r,isOpen:i,onClose:l})=>{const s=z.useRef(null);return z.useEffect(()=>{const d=g=>{s.current&&!s.current.contains(g.target)&&l()},h=g=>{g.key==="Escape"&&l()};return i&&(document.addEventListener("mousedown",d),document.addEventListener("keydown",h),document.body.style.overflow="hidden"),()=>{document.removeEventListener("mousedown",d),document.removeEventListener("keydown",h),document.body.style.overflow="unset"}},[i,l]),i?c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-30 z-50",children:c.jsxs("div",{ref:s,className:"absolute bottom-6 left-6 bg-white rounded-lg shadow-xl w-[520px] h-[600px] overflow-hidden flex flex-col transform transition-all duration-200 ease-out",children:[c.jsxs("div",{className:"flex items-center justify-between p-3 border-b border-gray-200",children:[c.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"与AI讨论"}),c.jsx("button",{onClick:l,className:"text-gray-400 hover:text-gray-600 transition-colors",children:c.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),c.jsxs("div",{className:"px-3 py-2 bg-gray-50 border-b border-gray-200",children:[c.jsxs("div",{className:"flex items-center space-x-2 text-xs",children:[c.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded",children:r.type==="listening"?"听力":"阅读"}),c.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-800 rounded",children:r.category})]}),c.jsx("div",{className:"text-xs text-gray-600 mt-1 truncate",children:r.question.length>40?r.question.substring(0,40)+"...":r.question})]}),c.jsx("div",{className:"flex-1 overflow-hidden",children:c.jsx(gw,{question:r})})]})}):null};class vw{PROMPT_INJECTION_PATTERNS=[/(?:^|\s)(?:system|assistant|user):/gi,/(?:^|\s)(?:ignore|forget|disregard)\s+(?:previous|above|all|everything)/gi,/(?:^|\s)(?:you are|act as|pretend to be|roleplay as).{0,50}(?:system|admin|developer)/gi,/(?:^|\s)(?:从现在开始|现在你是|假装你是|角色扮演).{0,30}(?:系统|管理员|开发者)/gi,/(?:^|\s)(?:\\n|\\r|\n|\r)(?:\s*(?:system|assistant|user):)/gi,/(?:^|\s)(?:"""|'''|```)\s*(?:system|assistant|user)/gi,/(?:^|\s)(?:<\|im_start\|>|<\|im_end\|>|<\|endoftext\|>)/gi,/(?:^|\s)(?:### Instruction|### Response|### System)/gi,/(?:^|\s)(?:指令|命令|系统|助手|用户)[:：]/gi,/(?:^|\s)(?:忽略|忘记|不要理会)(?:之前|以上|所有|全部)/gi];SCRIPT_PATTERNS=[/<script[^>]*>[\s\S]*?<\/script>/gi,/javascript:/gi,/eval\s*\(/gi,/setTimeout\s*\(/gi,/setInterval\s*\(/gi,/(?:union|select|insert|delete|update|drop|create|alter)\s+/gi,/(?:--|\/\*|\*\/|;)/g,/(?:exec|system|shell_exec|passthru)\s*\(/gi];HTML_PATTERNS=[/<[^>]+>/g,/&[a-zA-Z]+;/g];sanitizeInput(i,l={}){const s=[];let d=i,h=!1;if(typeof i!="string")return{sanitized:"",isModified:!0,warnings:["输入必须是字符串类型"]};const g=l.maxLength||2e3;d.length>g&&(d=d.substring(0,g),h=!0,s.push(`输入已截断至${g}字符`));const b=this.detectPromptInjection(d);b.detected&&(d=b.cleaned,h=!0,s.push("检测到可能的提示词注入，已清理"));const v=this.detectScripts(d);if(v.detected&&(d=v.cleaned,h=!0,s.push("检测到可能的脚本内容，已清理")),!l.allowHTML){const y=this.stripHTML(d);y!==d&&(d=y,h=!0,s.push("HTML标签已移除"))}return d=this.escapeSpecialChars(d),l.context==="chat"?d=this.sanitizeForChat(d):l.context==="question_gen"&&(d=this.sanitizeForQuestionGeneration(d)),{sanitized:d.trim(),isModified:h,warnings:s}}detectPromptInjection(i){let l=i,s=!1;for(const d of this.PROMPT_INJECTION_PATTERNS)d.test(l)&&(s=!0,l=l.replace(d," [内容已过滤] "));return{detected:s,cleaned:l}}detectScripts(i){let l=i,s=!1;for(const d of this.SCRIPT_PATTERNS)d.test(l)&&(s=!0,l=l.replace(d," [代码已过滤] "));return{detected:s,cleaned:l}}stripHTML(i){return i.replace(this.HTML_PATTERNS[0],"").replace(this.HTML_PATTERNS[1],"")}escapeSpecialChars(i){return i.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")}sanitizeForChat(i){let l=i.replace(/\n{3,}/g,`

`);return l=l.replace(/```[\s\S]*?```/g,"[代码块已移除]"),l=l.replace(/(.)\1{10,}/g,"$1$1$1..."),l}sanitizeForQuestionGeneration(i){let l=i.replace(/[{}[\]]/g,"");return l=l.replace(/["'`]/g,""),l}validateSafety(i){const l=[];for(const h of this.PROMPT_INJECTION_PATTERNS)if(h.test(i)){l.push("可能的提示词注入");break}for(const h of this.SCRIPT_PATTERNS)if(h.test(i)){l.push("可能的脚本注入");break}return i.length>5e3&&l.push("输入长度异常"),(i.match(/[<>{}[\]]/g)||[]).length/i.length>.1&&l.push("特殊字符比例异常"),{isSafe:l.length===0,risks:l}}quickSafetyCheck(i){return![/system:|assistant:|user:/gi,/ignore\s+previous/gi,/you are.{0,20}(?:system|admin)/gi,/<script/gi,/javascript:/gi].some(s=>s.test(i))}generateSafeUserId(){const i=Date.now(),l=Math.random().toString(36).substring(2,8);return`user_${i}_${l}`}}const Ag=new vw,gi=(r,i="general")=>Ag.sanitizeInput(r,{context:i}),_g=r=>Ag.validateSafety(r),xw=(r,i)=>{const{difficulty:l,count:s}=r,h=(b=>{switch(b){case 1:return"500";case 2:return"500-600";case 3:return"600-700";case 4:return"700-800";case 5:return"800";default:return"500"}})(l[0]),g=i?i.includes("Chinese")?"中文":i.includes("Japanese")?"日本語":"English":"中文";return`你是一位 TOEIC 出题专家。
请为 TOEIC 考试中的 Part 5（Incomplete Sentences）生成"${h}"分难度左右的"${s}"道题目。题目应具备中等难度，风格贴近真实 TOEIC 考卷。

质量要求：
- 题目应该测试语法、词汇和句子结构理解
- 句子应来自商务、办公或日常情境
- 语言自然，符合真实TOEIC考试标准
- 干扰选项应该合理但明确错误

请使用以下JSON格式输出题目：
[
  {
    "question": "不完整的句子，包含一个空格（用_____表示）",
    "options": ["A) 选项1", "B) 选项2", "C) 选项3", "D) 选项4"],
    "correctAnswer": [0、1、2或3 - 请确保答案在四个选项中均匀分布],
    "explanation": "用${g}解释为什么这个答案正确",
    "category": "Part 5 - 语法填空",
    "difficulty": ${l[0]}
  }
]

重要提醒：请将正确答案随机分布在A、B、C、D四个选项中，避免大部分答案都是同一选项的情况。目标是在A、B、C、D选项中大致均匀分布正确答案。

生成恰好${s}道题目。确保JSON格式正确，不要包含任何其他文本。`},bw=(r,i)=>{const{type:l,difficulty:s,categories:d,count:h}=r,g=s.map(j=>{switch(j){case 1:return"beginner (200-400 TOEIC score)";case 2:return"elementary (400-500 TOEIC score)";case 3:return"intermediate (500-700 TOEIC score)";case 4:return"upper-intermediate (700-850 TOEIC score)";case 5:return"advanced (850+ TOEIC score)";default:return"intermediate"}}).join(", "),b=d&&d.length>0?`Focus on these categories: ${d.join(", ")}.`:"",v=l==="listening"?`
For listening questions:
- Provide realistic dialogue or monologue scenarios
- Include common workplace, travel, or daily life situations
- Questions should test comprehension, inference, and detail recognition
- Consider audio cues like tone, context, and speaker relationships
`:`
For reading questions:
- Include various text types: emails, advertisements, articles, notices, forms
- Test vocabulary, grammar, and reading comprehension
- Include questions about main ideas, details, inferences, and purpose
- Use authentic business and everyday contexts
`,y=i?`${i}

`:"";return`You are a TOEIC test preparation expert with extensive knowledge of the official TOEIC format and scoring criteria. Generate ${h} high-quality ${l} questions for TOEIC practice.

${y}

Requirements:
- Question type: ${l.toUpperCase()}
- Difficulty levels: ${g}
- ${b}
- Each question must have exactly 4 multiple choice options (A, B, C, D)
- Provide clear, educational explanations for correct answers
- Questions should be realistic and follow official TOEIC format exactly
- Include appropriate context and scenarios that reflect real-world situations

${v}

Quality Standards:
- Questions should be unambiguous with only one clearly correct answer
- Distractors (wrong answers) should be plausible but clearly incorrect
- Language should be natural and appropriate for the target difficulty level
- Content should be culturally neutral and appropriate for international test-takers
- Explanations should be educational and help students understand the concept

Format your response as a JSON array with this exact structure:
[
  {
    "question": "Question text here (include any necessary context or passage)",
    "options": ["A) Option 1", "B) Option 2", "C) Option 3", "D) Option 4"],
    "correctAnswer": [0, 1, 2, or 3 - ensure balanced distribution across all answer choices],
    "explanation": "Detailed explanation of why this answer is correct and why others are wrong",
    "category": "Grammar/Vocabulary/Reading Comprehension/Listening Comprehension/etc",
    "difficulty": 1-5
  }
]

IMPORTANT: Distribute correct answers randomly across all four options (A, B, C, D). Avoid patterns where most answers are the same option. Aim for roughly equal distribution of correct answers across A, B, C, and D options.

Generate exactly ${h} questions. Ensure the JSON is valid and properly formatted. Do not include any text before or after the JSON array.`},Tp=(r,i,l)=>{const s=_g(r);s.isSafe||console.warn("Potentially unsafe chat input detected:",s.risks);const d=gi(r,"chat"),h=d.sanitized;d.warnings.length>0&&console.info("Chat input sanitized:",d.warnings);let b=`You are a TOEIC question analysis assistant. Provide direct, concise explanations focused on the specific question or concept asked.

${l?`${l}

`:""}

Guidelines:
- Answer directly without unnecessary greetings or encouragement
- Focus on analyzing the specific question or grammar point
- Explain WHY the answer is correct and WHY others are wrong
- Keep responses under 200 words/characters
- Be precise and factual

`;if(i){const v=gi(i.question||"","general"),y=i.explanation?gi(i.explanation,"general"):null;b+=`Context: The student is asking about this TOEIC question:

**Question Type:** ${"type"in i?i.type.toUpperCase():"GENERAL"}
**Category:** ${i.category}
**Difficulty:** ${i.difficulty}/5

**Question:** ${v.sanitized}

**Options:**
${i.options.map(j=>gi(j,"general").sanitized).join(`
`)}

**Correct Answer:** ${i.options[i.correctAnswer]}

${y?`**Explanation:** ${y.sanitized}`:""}

`}return b+=`**Question:** ${h}

Provide a direct analysis focusing on the specific question or concept. Be concise and factual.`,b},ww=(r,i,l,s)=>{const d=_g(i);d.isSafe||console.warn("Potentially unsafe follow-up input detected:",d.risks);const g=gi(i,"chat").sanitized;let v=`Continue analyzing TOEIC questions based on previous conversation. Stay focused and concise.

${s?`${s}

`:""}

`;if(r.forEach(y=>{const j=y.role==="user"?"Q":"A",R=y.role==="user"?gi(y.content,"chat").sanitized:y.content;v+=`**${j}:** ${R}

`}),l){const y=gi(l.question||"","general");v+=`**Question Context:**
${y.sanitized}
Options: ${l.options.map(j=>gi(j,"general").sanitized).join(", ")}
Correct: ${l.options[l.correctAnswer]}

`}return v+=`**New Question:** ${g}

Provide a direct, concise answer based on the conversation context. Stay under 200 words.`,v},Sw="https://generativelanguage.googleapis.com/v1beta",Ou="gemini-1.5-flash";class Tn extends Error{statusCode;retryable;constructor(i,l,s=!1){super(i),this.name="GeminiAPIError",this.statusCode=l,this.retryable=s}}class Du extends Tn{constructor(i="Rate limit exceeded"){super(i,429,!0),this.name="RateLimitError"}}class lf extends Tn{constructor(i="Invalid API key"){super(i,401,!1),this.name="AuthenticationError"}}class jw{_apiKey;_client;_rateLimitConfig;_requestCounts;constructor(i,l){if(!i||i.trim()==="")throw new lf("API key is required");this._apiKey=i,this._rateLimitConfig={maxRequestsPerMinute:60,maxRequestsPerDay:1e3,...l},this._requestCounts={minute:{count:0,resetTime:Date.now()+6e4},day:{count:0,resetTime:Date.now()+864e5}},this._client=Wt.create({baseURL:Sw,timeout:3e4,headers:{"Content-Type":"application/json"}}),this._client.interceptors.request.use(s=>(this._checkRateLimit(),s),s=>Promise.reject(s)),this._client.interceptors.response.use(s=>s,s=>Promise.reject(this._handleAPIError(s)))}_checkRateLimit(){const i=Date.now();if(i>=this._requestCounts.minute.resetTime&&(this._requestCounts.minute={count:0,resetTime:i+6e4}),i>=this._requestCounts.day.resetTime&&(this._requestCounts.day={count:0,resetTime:i+864e5}),this._requestCounts.minute.count>=this._rateLimitConfig.maxRequestsPerMinute)throw new Du("Minute rate limit exceeded");if(this._requestCounts.day.count>=this._rateLimitConfig.maxRequestsPerDay)throw new Du("Daily rate limit exceeded");this._requestCounts.minute.count++,this._requestCounts.day.count++}_handleAPIError(i){let l;if(i.response){const s=i.response.status,h=i.response.data?.error?.message||i.message;switch(s){case 401:l=new lf(h);break;case 429:l=new Du(h);break;case 400:l=new Tn(`Bad request: ${h}`,s,!1);break;case 500:case 502:case 503:case 504:l=new Tn(`Server error: ${h}`,s,!0);break;default:l=new Tn(`API error: ${h}`,s,!1)}}else i.request?l=new Tn("Network error: No response received",void 0,!0):l=new Tn(`Request error: ${i.message}`,void 0,!1);return mi.handleAPIError(l,{url:i.config?.url,method:i.config?.method,status:i.response?.status,responseData:i.response?.data}),l}async _makeRequest(i,l,s=3){let d;for(let h=0;h<=s;h++)try{return(await this._client.post(`${i}?key=${this._apiKey}`,l)).data}catch(g){if(d=g,!d.retryable||h===s)throw d;const b=Math.min(1e3*Math.pow(2,h),1e4)+Math.random()*1e3;await new Promise(v=>setTimeout(v,b))}throw d}async generateQuestions(i){try{const l=$i.getState().getLanguageForAI(),d=i.categories?.some(b=>b.includes("Part 5")||b.includes("语法填空"))?xw(i,l):bw(i,l),h=await this._makeRequest(`/models/${Ou}:generateContent`,{contents:[{parts:[{text:d}]}],generationConfig:{temperature:.7,topK:40,topP:.95,maxOutputTokens:4096}});if(!h.candidates||h.candidates.length===0)throw new Tn("No response generated from API");const g=h.candidates[0].content.parts[0].text;return this._parseQuestionResponse(g,i)}catch(l){if(l instanceof Tn)throw l;const s=l instanceof Error?l.message:"Unknown error";throw new Tn(`Question generation failed: ${s}`)}}async chatWithAI(i,l){try{const s=$i.getState().getLanguageForAI(),d=Tp(i,l,s),h=await this._makeRequest(`/models/${Ou}:generateContent`,{contents:[{parts:[{text:d}]}],generationConfig:{temperature:.8,topK:40,topP:.95,maxOutputTokens:2048}});if(!h.candidates||h.candidates.length===0)throw new Tn("No response generated from AI chat");return h.candidates[0].content.parts[0].text.trim()}catch(s){if(s instanceof Tn)throw s;const d=s instanceof Error?s.message:"Unknown error";throw new Tn(`AI chat failed: ${d}`)}}async chatWithContext(i){const l=Date.now();try{const s=$i.getState().getLanguageForAI();let d;i.conversationHistory&&i.conversationHistory.length>0?d=ww(i.conversationHistory.map(v=>({role:v.role,content:v.content})),i.message,i.questionContext,s):d=Tp(i.message,i.questionContext,s);const h=await this._makeRequest(`/models/${Ou}:generateContent`,{contents:[{parts:[{text:d}]}],generationConfig:{temperature:.8,topK:40,topP:.95,maxOutputTokens:2048}});if(!h.candidates||h.candidates.length===0)throw new Tn("No response generated from AI chat");const g=Date.now()-l,b=h.candidates[0].content.parts[0].text.trim();return{message:b,timestamp:new Date,processingTime:g,tokens:Math.ceil(b.length/4)}}catch(s){if(s instanceof Tn)throw s;const d=s instanceof Error?s.message:"Unknown error";throw new Tn(`AI chat failed: ${d}`)}}_parseQuestionResponse(i,l){try{const s=i.match(/\[[\s\S]*\]/);if(!s)throw new Error("No valid JSON array found in response");const d=JSON.parse(s[0]);if(!Array.isArray(d))throw new Error("Response is not an array");return d.map((h,g)=>{if(!h.question||!Array.isArray(h.options)||h.options.length!==4)throw new Error(`Invalid question format at index ${g}`);if(typeof h.correctAnswer!="number"||h.correctAnswer<0||h.correctAnswer>3)throw new Error(`Invalid correct answer at index ${g}`);return{id:`generated-${Date.now()}-${g}`,type:l.type,category:h.category||"General",question:h.question,options:h.options,correctAnswer:h.correctAnswer,explanation:h.explanation||"",difficulty:h.difficulty||l.difficulty[0]||3,createdAt:new Date,tags:l.categories||[]}})}catch(s){const d=s instanceof Error?s.message:"Unknown error";throw new Tn(`Failed to parse question response: ${d}`)}}async healthCheck(){try{const i=await this._makeRequest(`/models/${Ou}:generateContent`,{contents:[{parts:[{text:"Hello"}]}]},1);return i.candidates&&i.candidates.length>0}catch{return!1}}getRateLimitStatus(){const i=Date.now();return{minute:{used:this._requestCounts.minute.count,limit:this._rateLimitConfig.maxRequestsPerMinute,resetIn:Math.max(0,this._requestCounts.minute.resetTime-i)},day:{used:this._requestCounts.day.count,limit:this._rateLimitConfig.maxRequestsPerDay,resetIn:Math.max(0,this._requestCounts.day.resetTime-i)}}}async generateQuestionsWithFallback(i,l){try{return await this.generateQuestions(i)}catch(s){if(s instanceof Du||s instanceof lf)throw s;if(l&&l.length>0)return console.warn("Using fallback questions due to API error:",s),l.slice(0,i.count);throw s}}async validateConnection(){try{const i=await this.healthCheck(),l=this.getRateLimitStatus();return{isValid:i,rateLimitStatus:l,error:i?void 0:"API connection failed"}}catch(i){return{isValid:!1,error:i instanceof Error?i.message:"Unknown error",rateLimitStatus:this.getRateLimitStatus()}}}}const io={noun:"名词",verb:"动词",adjective:"形容词",adverb:"副词",pronoun:"代词",preposition:"介词",conjunction:"连词",interjection:"感叹词",article:"冠词",determiner:"限定词",exclamation:"感叹词","phrasal verb":"短语动词",prep:"介词",conj:"连词",aux:"助动词","modal verb":"情态动词",abbr:"缩写"},Ew={noun:"名詞",verb:"動詞",adjective:"形容詞",adverb:"副詞",pronoun:"代名詞",preposition:"前置詞",conjunction:"接続詞",interjection:"感嘆詞",particle:"助詞","auxiliary verb":"助動詞","Ichidan verb":"一段動詞","Godan verb":"五段動詞","I-adjective":"い形容詞","Na-adjective":"な形容詞","No-adjective":"の形容詞","Suru verb":"する動詞","Transitive verb":"他動詞","Intransitive verb":"自動詞"},Nw={noun:"n.",verb:"v.",adjective:"adj.",adverb:"adv.",pronoun:"pron.",preposition:"prep.",conjunction:"conj.",interjection:"int.",article:"art.",determiner:"det.",exclamation:"excl.","phrasal verb":"phr.v.","Ichidan verb":"一段v.","Godan verb":"五段v.","I-adjective":"い-adj.","Na-adjective":"な-adj.","Suru verb":"する-v."};class Rw{apiUrls={en:"https://api.dictionaryapi.dev/api/v2/entries/en",zh:"https://dict-co.iciba.com/api/dictionary.php",ja:"https://jisho.org/api/v1/search/words"};cache=new Map;pendingRequests=new Map;geminiAPI=null;async getGeminiAPI(){if(this.geminiAPI)return console.log("✓ Using cached Gemini API instance"),this.geminiAPI;try{const i="AIzaSyAdhhBEdlc8WX0RTBMVYAYAN9rQZlq5d00";return console.log("🔑 Using configured Gemini API key:",`${i.substring(0,15)}...`),console.log("🚀 Initializing Gemini API service..."),this.geminiAPI=new jw(i),console.log("✓ Gemini API service initialized successfully"),this.geminiAPI}catch(i){console.error("❌ Failed to initialize Gemini API:",i)}return null}async getWordDefinition(i){const l=i.trim().toLowerCase();if(this.cache.has(l))return this.cache.get(l);if(this.pendingRequests.has(l))return this.pendingRequests.get(l);const s=this.fetchDefinition(l);this.pendingRequests.set(l,s);try{const d=await s;return d&&this.cache.set(l,d),d}catch(d){return console.error("Failed to get word definition:",d),null}finally{this.pendingRequests.delete(l)}}getUserLanguagePreference(){try{const i=localStorage.getItem("user-store");if(i){const l=JSON.parse(i),s=l.state?.preferences?.dictionaryLanguage,d=l.state?.preferences?.language;if(s&&s!=="auto")return s;if(d)return d}}catch(i){console.warn("Failed to get user language preference:",i)}return"zh"}async fetchDefinition(i){const l=this.getUserLanguagePreference();try{switch(l){case"zh":return await this.getChineseDefinitionWithGemini(i);case"ja":return await this.getJapaneseDefinition(i);case"en":default:return await this.getEnglishDefinition(i)}}catch(s){if(console.error(`Failed to get ${l} definition for "${i}":`,s),l!=="en")try{return await this.getEnglishDefinition(i)}catch(d){console.error(`Fallback English definition also failed for "${i}":`,d)}return null}}async getChineseDefinitionWithGemini(i){try{console.log(`🔍 Getting Chinese definition for word: "${i}"`),console.log("📖 Attempting to fetch English definition first...");const l=await this.getEnglishDefinition(i);console.log(l?"✓ English definition obtained":"⚠️ No English definition found, will use Gemini only"),console.log("🤖 Attempting to get Gemini API instance...");const s=await this.getGeminiAPI();if(!s)return console.warn("⚠️ Gemini API not available"),l?(console.log("📝 Using fallback Chinese definition with English base"),this.getFallbackChineseDefinition(l)):(console.log("❌ No English definition and no Gemini API, cannot provide definition"),null);console.log("✓ Gemini API instance obtained");const d=`请为英文单词 "${i}" 提供准确的中文释义。
要求格式如下，请严格按照JSON格式回复：
{
  "meanings": [
    {
      "partOfSpeech": "词性英文",
      "partOfSpeechCN": "词性中文",
      "definitions": [
        {
          "definition": "中文释义1"
        }
      ]
    }
  ]
}

注意：
1. 只需要回复JSON，不要任何其他文字
2. 提供最常用的2-3个词性
3. 每个词性提供1-2个最准确的释义
4. 不需要提供例句，只需要简洁准确的中文释义
5. 词性要准确对应（如：noun-名词，verb-动词，adjective-形容词等）`;console.log("📡 Calling Gemini API for Chinese translation...");const h=await s.chatWithAI(d);if(console.log("📨 Gemini API response received:",h?"Success":"No response"),h)try{console.log("🔍 Parsing Gemini JSON response...");let g=h.trim();g.startsWith("```json")?g=g.replace(/^```json\s*/,"").replace(/\s*```$/,""):g.startsWith("```")&&(g=g.replace(/^```\s*/,"").replace(/\s*```$/,"")),console.log("🧹 Cleaned JSON string:",g.substring(0,200)+"...");const b=JSON.parse(g);console.log("✓ Successfully parsed Gemini response:",b);const v={word:l?.word||i,phonetic:l?.phonetic||null,audioUrl:l?.audioUrl||null,origin:l?.origin||void 0,meanings:b.meanings.map(y=>({partOfSpeech:y.partOfSpeech,partOfSpeechLocal:y.partOfSpeechCN,partOfSpeechCN:y.partOfSpeechCN,definitions:y.definitions})),language:"zh"};return console.log("🎉 Successfully created Chinese definition with Gemini!"),v}catch(g){console.error("❌ Failed to parse Gemini response:",g),console.log("📄 Raw Gemini response:",h)}else console.warn("⚠️ Gemini API returned empty response");return l?(console.log("📝 Gemini failed, using fallback Chinese definition with English base"),this.getFallbackChineseDefinition(l)):(console.log("❌ Both English API and Gemini failed, cannot provide definition"),null)}catch(l){return console.error("Failed to get Chinese definition with Gemini:",l),null}}getFallbackChineseDefinition(i){return{...i,meanings:i.meanings.map(l=>({...l,partOfSpeechLocal:io[l.partOfSpeech]||l.partOfSpeech,partOfSpeechCN:io[l.partOfSpeech]||l.partOfSpeech,definitions:l.definitions.map(s=>({...s,definition:`${s.definition} [英文释义]`}))})),language:"zh"}}async getEnglishDefinition(i){try{const l=await fetch(`${this.apiUrls.en}/${encodeURIComponent(i)}`);if(!l.ok){if(l.status===404)return null;throw new Error(`HTTP ${l.status}: ${l.statusText}`)}const s=await l.json();return!s||s.length===0?null:this.transformEnglishData(s[0])}catch(l){throw console.error("English API error:",l),l}}async getJapaneseDefinition(i){try{const l=await fetch(`${this.apiUrls.ja}?keyword=${encodeURIComponent(i)}`);if(!l.ok)throw new Error(`HTTP ${l.status}: ${l.statusText}`);const s=await l.json();return!s||!s.data||s.data.length===0?null:this.transformJishoData(s.data[0],i)}catch(l){throw console.error("Jisho API error:",l),l}}transformEnglishData(i){let l=i.phonetic||null;!l&&i.phonetics&&i.phonetics.length>0&&(l=i.phonetics.find(h=>h.text)?.text||null);let s=null;i.phonetics&&i.phonetics.length>0&&(s=i.phonetics.find(h=>h.audio)?.audio||null);const d=i.meanings.map(h=>({partOfSpeech:h.partOfSpeech,partOfSpeechLocal:io[h.partOfSpeech]||h.partOfSpeech,partOfSpeechCN:io[h.partOfSpeech]||h.partOfSpeech,definitions:h.definitions.slice(0,3).map(g=>({definition:g.definition,example:g.example,synonyms:g.synonyms?.slice(0,5)}))}));return{word:i.word,phonetic:l,audioUrl:s,meanings:d,origin:i.origin,language:"en"}}transformJishoData(i,l){const s=i.japanese?.[0],d=s?.word||s?.reading||l,h=s?.reading,g=i.senses.slice(0,3).map(b=>{const v=b.parts_of_speech?.[0]||"noun";return{partOfSpeech:v,partOfSpeechLocal:Ew[v]||v,partOfSpeechCN:io[v]||v,definitions:b.english_definitions.slice(0,3).map(y=>({definition:y,example:void 0,synonyms:b.see_also?.slice(0,3)}))}});return{word:d,phonetic:null,audioUrl:null,meanings:g,language:"ja",reading:h,jlpt:i.jlpt,commonality:i.is_common}}async getBatchDefinitions(i){const l=new Map,s=i.map(async d=>{const h=await this.getWordDefinition(d);l.set(d,h)});return await Promise.allSettled(s),l}async clearCache(){this.cache.clear()}getPartOfSpeechAbbr(i){return Nw[i]||i}}const Pu=new Rw,oo=[1,3,7,15,30,60,120,240];function Tw(r,i){const l=new Date;let s=r.easeIndex,d=r.intervalDays,h=r.reviewCount;switch(i){case"again":s=Math.max(1.3,s-.2),d=1,h=0;break;case"hard":s=Math.max(1.3,s-.15),d=Math.max(1,Math.floor(d*.8)),h++;break;case"normal":h<oo.length?d=oo[h]:d=Math.ceil(d*s),h++;break;case"easy":s=Math.min(3,s+.15),h<oo.length?d=Math.ceil(oo[h]*1.3):d=Math.ceil(d*s*1.3),h++;break}const g=new Date(l);return g.setDate(g.getDate()+d),{nextReviewDate:g,reviewCount:h,easeIndex:s,lastReviewDate:l,intervalDays:d}}function sf(){const r=new Date;return{nextReviewDate:new Date(r),reviewCount:0,easeIndex:2.5,lastReviewDate:null,intervalDays:oo[0]}}function Cg(r){return new Date>=r.nextReviewDate}function Aw(r){return r===0?"新词":r<=2?"学习中":r<=5?"熟悉":r<=10?"熟练":"精通"}const lo=r=>{const i=new Date,l=new Date(i.getTime()-10080*60*1e3),s=new Date;s.setHours(0,0,0,0);const d=new Date(s);d.setDate(d.getDate()+1);const h=r.filter(v=>v.reviewData?Cg(v.reviewData):!0).length,g=r.filter(v=>{if(!v.reviewData||!v.reviewData.lastReviewDate)return!1;const y=new Date(v.reviewData.lastReviewDate);return y>=s&&y<d}).length,b=_w(r);return{totalWords:r.length,masteredWords:r.filter(v=>v.mastered).length,recentWords:r.filter(v=>new Date(v.addedAt)>l).length,wordsNeedingReview:h,reviewedToday:g,reviewStreak:b}},_w=r=>{const i=new Date;i.setHours(0,0,0,0);let l=0;for(let s=0;s<365;s++){const d=new Date(i);d.setDate(d.getDate()-s);const h=new Date(d);if(h.setDate(h.getDate()+1),r.some(b=>{if(!b.reviewData||!b.reviewData.lastReviewDate)return!1;const v=new Date(b.reviewData.lastReviewDate);return v>=d&&v<h}))l++;else{if(s===0)break;break}}return l},$l=yo()(xb(Mf((r,i)=>({words:[],stats:{totalWords:0,masteredWords:0,recentWords:0,wordsNeedingReview:0,reviewedToday:0,reviewStreak:0},selectedText:null,showAddButton:!1,buttonPosition:null,addWord:async l=>{if(i().words.some(g=>g.word.toLowerCase()===l.word.toLowerCase()))throw new Error("WORD_ALREADY_EXISTS");const h={...l,id:`vocab_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,addedAt:new Date,mastered:!1,definitionLoading:!0,definitionError:!1,reviewData:sf()};try{await dn.saveVocabularyWord(h),r(g=>{const b=[...g.words,h];return{words:b,stats:lo(b)}}),i().fetchWordDefinition(h.id)}catch(g){throw console.error("Failed to save vocabulary word:",g),g}},fetchWordDefinition:async l=>{const d=i().words.find(h=>h.id===l);if(!(!d||d.meanings)){r(h=>({words:h.words.map(g=>g.id===l?{...g,definitionLoading:!0,definitionError:!1}:g)}));try{const h=await Pu.getWordDefinition(d.word),g={...d,definitionLoading:!1,definitionError:!1};h?(g.phonetic=h.phonetic,g.audioUrl=h.audioUrl,g.meanings=h.meanings,g.language=h.language,g.reading=h.reading,g.jlpt=h.jlpt,g.commonality=h.commonality,!d.definition&&h.meanings.length>0&&(g.definition=h.meanings[0].definitions[0]?.definition)):g.definitionError=!0,await dn.updateVocabularyWord(g),r(b=>({words:b.words.map(v=>v.id===l?g:v)}))}catch(h){console.error("Failed to fetch word definition:",h),r(g=>({words:g.words.map(b=>b.id===l?{...b,definitionLoading:!1,definitionError:!0}:b)}))}}},removeWord:async l=>{try{await dn.deleteVocabularyWord(l),r(s=>{const d=s.words.filter(h=>h.id!==l);return{words:d,stats:lo(d)}})}catch(s){throw console.error("Failed to remove vocabulary word:",s),s}},updateWordNotes:async(l,s)=>{const h=i().words.find(b=>b.id===l);if(!h)return;const g={...h,notes:s};try{await dn.updateVocabularyWord(g),r(b=>({words:b.words.map(v=>v.id===l?g:v)}))}catch(b){throw console.error("Failed to update vocabulary word notes:",b),b}},loadWords:async()=>{try{const l=await dn.getVocabularyWords(),s=l.map(h=>h.reviewData?h:{...h,reviewData:sf()}),d=s.filter((h,g)=>!l[g].reviewData&&h.reviewData);for(const h of d)await dn.updateVocabularyWord(h);r({words:s,stats:lo(s)})}catch(l){console.error("Failed to load vocabulary words:",l)}},setSelectedText:(l,s)=>{r({selectedText:l.trim(),showAddButton:!0,buttonPosition:s})},clearSelection:()=>{r({selectedText:null,showAddButton:!1,buttonPosition:null})},updateStats:()=>{const{words:l}=i();r({stats:lo(l)})},isWordExists:l=>{const{words:s}=i();return s.some(d=>d.word.toLowerCase()===l.toLowerCase())},getWordsForReview:()=>{const{words:l}=i();return l.filter(s=>s.reviewData?Cg(s.reviewData):!0).sort((s,d)=>!s.reviewData&&!d.reviewData?0:s.reviewData?d.reviewData?s.reviewData.nextReviewDate.getTime()-d.reviewData.nextReviewDate.getTime():1:-1)},markWordReviewed:async(l,s)=>{const h=i().words.find(y=>y.id===l);if(!h)return;const g=h.reviewData||sf(),b=Tw(g,s),v={...h,reviewData:b};try{await dn.updateVocabularyWord(v),r(y=>{const j=y.words.map(R=>R.id===l?v:R);return{words:j,stats:lo(j)}})}catch(y){throw console.error("Failed to mark word as reviewed:",y),y}},getTodayReviewedWords:()=>{const{words:l}=i(),s=new Date;s.setHours(0,0,0,0);const d=new Date(s);return d.setDate(d.getDate()+1),l.filter(h=>{if(!h.reviewData||!h.reviewData.lastReviewDate)return!1;const g=new Date(h.reviewData.lastReviewDate);return g>=s&&g<d})},getOverdueWords:()=>{const{words:l}=i(),s=new Date;return l.filter(d=>{if(!d.reviewData)return!1;const h=new Date(d.reviewData.nextReviewDate);return h.setDate(h.getDate()+1),s>=h}).sort((d,h)=>!d.reviewData||!h.reviewData?0:d.reviewData.nextReviewDate.getTime()-h.reviewData.nextReviewDate.getTime())}}),{name:"vocabulary-store",partialize:r=>({words:r.words,stats:r.stats})}))),Cw=()=>{const[r,i]=z.useState([]),l=z.useCallback(y=>{const j=`toast_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,R={id:j,...y};return i(A=>[...A,R]),j},[]),s=z.useCallback(y=>{i(j=>j.filter(R=>R.id!==y))},[]),d=z.useCallback((y,j)=>l({message:y,type:"success",duration:j}),[l]),h=z.useCallback((y,j)=>l({message:y,type:"error",duration:j}),[l]),g=z.useCallback((y,j)=>l({message:y,type:"warning",duration:j}),[l]),b=z.useCallback((y,j)=>l({message:y,type:"info",duration:j}),[l]),v=z.useCallback(()=>{i([])},[]);return{toasts:r,addToast:l,removeToast:s,showSuccess:d,showError:h,showWarning:g,showInfo:b,clearAllToasts:v}},Ow=({message:r,type:i,isVisible:l,onClose:s,duration:d=3e3})=>{if(z.useEffect(()=>{if(l){const b=setTimeout(()=>{s()},d);return()=>clearTimeout(b)}},[l,d,s]),!l)return null;const h=()=>{const b="fixed top-4 right-4 p-4 rounded-lg shadow-lg flex items-center gap-3 z-50 min-w-80 transform transition-all duration-300";switch(i){case"success":return`${b} bg-green-50 border border-green-200 text-green-800`;case"error":return`${b} bg-red-50 border border-red-200 text-red-800`;case"warning":return`${b} bg-yellow-50 border border-yellow-200 text-yellow-800`;case"info":return`${b} bg-blue-50 border border-blue-200 text-blue-800`;default:return`${b} bg-gray-50 border border-gray-200 text-gray-800`}},g=()=>{switch(i){case"success":return c.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})});case"error":return c.jsx("svg",{className:"w-5 h-5 text-red-600",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})});case"warning":return c.jsx("svg",{className:"w-5 h-5 text-yellow-600",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})});case"info":return c.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}};return c.jsxs("div",{className:h(),children:[g(),c.jsx("span",{className:"flex-1 text-sm font-medium",children:r}),c.jsx("button",{onClick:s,className:"p-1 hover:bg-black hover:bg-opacity-10 rounded transition-colors",children:c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})},Dw=({toasts:r,onRemove:i})=>c.jsx("div",{className:"fixed top-0 right-0 z-50",children:r.map((l,s)=>c.jsx("div",{style:{transform:`translateY(${s*80}px)`,transition:"transform 0.3s ease-in-out"},children:c.jsx(Ow,{message:l.message,type:l.type,isVisible:!0,onClose:()=>i(l.id),duration:l.duration})},l.id))}),Og=z.createContext(null),Dg=()=>{const r=z.useContext(Og);if(!r)throw new Error("useToastContext must be used within a ToastProvider");return r},Mw=({children:r})=>{const{toasts:i,removeToast:l,showSuccess:s,showError:d,showWarning:h,showInfo:g}=Cw(),b={showSuccess:z.useCallback((v,y)=>{s(v,y)},[s]),showError:z.useCallback((v,y)=>{d(v,y)},[d]),showWarning:z.useCallback((v,y)=>{h(v,y)},[h]),showInfo:z.useCallback((v,y)=>{g(v,y)},[g])};return c.jsxs(Og.Provider,{value:b,children:[r,c.jsx(Dw,{toasts:i,onRemove:l})]})},$u=({children:r,className:i="",sourceType:l,sourceId:s})=>{const d=z.useRef(null),{setSelectedText:h,clearSelection:g,showAddButton:b,addWord:v}=$l();return z.useEffect(()=>{const y=d.current;if(!y)return;let j;const R=k=>{clearTimeout(j),j=setTimeout(()=>{const D=window.getSelection();if(!D||D.rangeCount===0){g();return}const Q=D.toString().trim();if(!Q||Q.length<2){g();return}const X=D.getRangeAt(0),ce=y.getBoundingClientRect(),Z=X.getBoundingClientRect();if(Z.top<ce.top||Z.bottom>ce.bottom||Z.left<ce.left||Z.right>ce.right){g();return}const Se={x:Math.min(Z.right+5,window.innerWidth-100),y:Math.max(Z.top-5,10)},pe=y.textContent||"",I=Math.max(0,pe.indexOf(Q)-50),Me=Math.min(pe.length,pe.indexOf(Q)+Q.length+50),Ie=pe.substring(I,Me);h(Q,Se),window.__selectedWordContext=Ie,window.__selectedWordSourceType=l,window.__selectedWordSourceId=s},100)},A=()=>{g()},B=k=>{const D=k.target;!D.closest(".vocabulary-add-button")&&!y.contains(D)&&g()};return y.addEventListener("mouseup",R),y.addEventListener("mousedown",A),document.addEventListener("click",B),()=>{y.removeEventListener("mouseup",R),y.removeEventListener("mousedown",A),document.removeEventListener("click",B),clearTimeout(j)}},[h,g,l,s]),c.jsx("div",{ref:d,className:`text-selection-container ${i}`,style:{userSelect:"text",cursor:"text"},children:r})},Lw=()=>{const{selectedText:r,showAddButton:i,buttonPosition:l,clearSelection:s,addWord:d}=$l(),{showSuccess:h,showWarning:g,showError:b}=Dg();if(!i||!r||!l)return null;const v=async()=>{try{const y=window.__selectedWordContext||r,j=window.__selectedWordSourceType||"practice",R=window.__selectedWordSourceId||"";await d({word:r,context:y,sourceType:j,sourceId:R}),delete window.__selectedWordContext,delete window.__selectedWordSourceType,delete window.__selectedWordSourceId,s(),h(`"${r}" 已添加到生词本`,2e3)}catch(y){console.error("Failed to add word to vocabulary:",y),s(),y instanceof Error&&y.message==="WORD_ALREADY_EXISTS"?g(`"${r}" 已在生词本中，无需重复添加`,3e3):b("添加单词失败，请重试",3e3)}};return c.jsxs("button",{className:"vocabulary-add-button fixed z-50 bg-blue-600 hover:bg-blue-700 text-white rounded-lg px-3 py-2 shadow-lg transition-all duration-200 flex items-center gap-2 hover:shadow-xl transform hover:scale-105",style:{left:l.x+"px",top:l.y+"px"},onClick:v,title:"添加到生词本",children:[c.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),c.jsx("span",{className:"text-xs font-medium",children:"添加到生词本"})]})},zw=()=>{const[r,i]=z.useState([]);z.useEffect(()=>{const d=h=>{const{type:g,message:b,duration:v=3e3}=h.detail,y=`notification_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;i(j=>[...j,{id:y,type:g,message:b,duration:v}]),setTimeout(()=>{i(j=>j.filter(R=>R.id!==y))},v)};return window.addEventListener("showNotification",d),()=>{window.removeEventListener("showNotification",d)}},[]);const l=d=>{i(h=>h.filter(g=>g.id!==d))},s=d=>{switch(d){case"success":return c.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})});case"error":return c.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})});case"warning":return c.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})});case"info":default:return c.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}};return c.jsxs("div",{className:"fixed top-20 right-4 z-[10000] space-y-3 pointer-events-none",children:[r.map(d=>c.jsxs("div",{className:`pointer-events-auto max-w-xs w-full bg-white shadow-xl rounded-xl overflow-hidden transition-all duration-300 ease-in-out transform ${d.type==="success"?"ring-2 ring-green-400":d.type==="error"?"ring-2 ring-red-400":d.type==="warning"?"ring-2 ring-yellow-400":"ring-2 ring-blue-400"}`,style:{animation:"slideInRight 0.3s ease-out",backdropFilter:"blur(10px)"},children:[c.jsx("div",{className:"p-4",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:`flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center ${d.type==="success"?"bg-green-100 text-green-600":d.type==="error"?"bg-red-100 text-red-600":d.type==="warning"?"bg-yellow-100 text-yellow-600":"bg-blue-100 text-blue-600"}`,children:s(d.type)}),c.jsx("div",{className:"ml-3 flex-1",children:c.jsx("p",{className:"text-sm font-medium text-gray-900",children:d.message})}),c.jsx("button",{onClick:()=>l(d.id),className:"ml-2 flex-shrink-0 text-gray-400 hover:text-gray-600 focus:outline-none transition-colors",children:c.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})}),c.jsx("div",{className:`h-1 w-full ${d.type==="success"?"bg-green-500":d.type==="error"?"bg-red-500":d.type==="warning"?"bg-yellow-500":"bg-blue-500"}`,style:{animation:`progress ${d.duration}ms linear`,transformOrigin:"left"}})]},d.id)),c.jsx("style",{children:`
        @keyframes slideInRight {
          from {
            transform: translateX(100%);
            opacity: 0;
          }
          to {
            transform: translateX(0);
            opacity: 1;
          }
        }
        @keyframes progress {
          from {
            transform: scaleX(1);
          }
          to {
            transform: scaleX(0);
          }
        }
      `})]})};let kw={isVisible:!1,question:null,isModalOpen:!1},Gl=null;const of=r=>{Gl&&Gl({isVisible:!0,question:r,isModalOpen:!1})},wf=()=>{Gl&&Gl({isVisible:!1,question:null,isModalOpen:!1})},Uw=({children:r,title:i})=>{const l=Qr(),[s,d]=z.useState(kw);return z.useEffect(()=>(Gl=d,()=>{Gl=null}),[]),z.useEffect(()=>{wf()},[l.pathname]),c.jsxs("div",{className:"min-h-screen bg-gray-50",children:[c.jsx(Ab,{title:i}),c.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 pt-24",children:r||c.jsx(Ox,{})}),s.isVisible&&s.question&&c.jsx("button",{className:"w-14 h-14 bg-blue-600 hover:bg-blue-700 text-white rounded-full shadow-2xl hover:shadow-3xl transition-all duration-300 flex items-center justify-center group hover:scale-110",onClick:()=>d(h=>({...h,isModalOpen:!0})),title:"与AI讨论这道题",style:{position:"fixed",bottom:"16px",left:"16px",zIndex:9999},children:c.jsx("svg",{className:"w-6 h-6 group-hover:scale-110 transition-transform duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),s.isVisible&&s.question&&c.jsx(yw,{question:s.question,isOpen:s.isModalOpen,onClose:()=>d(h=>({...h,isModalOpen:!1}))}),c.jsx(Lw,{}),c.jsx(zw,{})]})},qw=()=>{const{pathname:r}=Qr();return z.useEffect(()=>{const i=()=>{window.scrollTo({top:0,left:0,behavior:"instant"}),document.documentElement.scrollTop=0,document.body.scrollTop=0,document.querySelectorAll('[style*="overflow"]').forEach(d=>{d instanceof HTMLElement&&(d.scrollTop=0)})};i(),requestAnimationFrame(i);const l=setTimeout(i,100);return()=>clearTimeout(l)},[r]),z.useEffect(()=>{const i=()=>{window.scrollTo({top:0,left:0,behavior:"instant"}),document.documentElement.scrollTop=0,document.body.scrollTop=0};i(),requestAnimationFrame(i);const l=setTimeout(i,100);return()=>clearTimeout(l)},[]),null},Bw={theme:"light",language:"zh",dictionaryLanguage:"auto",practiceSettings:{questionsPerSession:10,timeLimit:600,difficulty:[1,2,3,4,5]}},Mg=yo()(Mf((r,i)=>({preferences:Bw,practiceSessions:[],scoreEstimation:null,isLoading:!1,updatePreferences:l=>{const s=i().preferences,d={...s,...l,practiceSettings:{...s.practiceSettings,...l.practiceSettings||{}}};r({preferences:d})},addPracticeSession:l=>{const s=i().practiceSessions;console.log("UserStore: Adding practice session",{sessionId:l.id,completed:l.completed,score:l.score,currentSessionsCount:s.length}),r({practiceSessions:[l,...s]}),console.log("UserStore: Session added, new count:",i().practiceSessions.length)},setPracticeSessions:l=>{r({practiceSessions:l})},setScoreEstimation:l=>{r({scoreEstimation:l})},setLoading:l=>r({isLoading:l})}),{name:"user-store",partialize:r=>({preferences:r.preferences,practiceSessions:r.practiceSessions,scoreEstimation:r.scoreEstimation})}));class Hw{ACCURACY_WEIGHT=.6;SPEED_WEIGHT=.2;DIFFICULTY_WEIGHT=.2;MIN_SESSIONS_FOR_ESTIMATE=3;calculateScore(i){const l=this.getRecentSessions(i);if(l.length<this.MIN_SESSIONS_FOR_ESTIMATE)return{recentSessions:l,accuracyWeight:this.ACCURACY_WEIGHT,speedWeight:this.SPEED_WEIGHT,difficultyWeight:this.DIFFICULTY_WEIGHT,estimatedScore:0,confidence:0};const s=this.calculateAccuracyScore(l),d=this.calculateSpeedScore(l),h=this.calculateDifficultyScore(l),g=s*this.ACCURACY_WEIGHT+d*this.SPEED_WEIGHT+h*this.DIFFICULTY_WEIGHT,b=this.convertToTOEICScore(g),v=this.calculateConfidence(l);return{recentSessions:l,accuracyWeight:this.ACCURACY_WEIGHT,speedWeight:this.SPEED_WEIGHT,difficultyWeight:this.DIFFICULTY_WEIGHT,estimatedScore:b,confidence:v}}getRecentSessions(i){return i.filter(l=>l.completed&&l.score!==void 0).sort((l,s)=>{const d=l.startTime instanceof Date?l.startTime.getTime():new Date(l.startTime).getTime();return(s.startTime instanceof Date?s.startTime.getTime():new Date(s.startTime).getTime())-d}).slice(0,10)}calculateAccuracyScore(i){const l=i.reduce((d,h)=>d+h.questions.length,0),s=i.reduce((d,h)=>d+h.userAnswers.filter((g,b)=>g===h.questions[b].correctAnswer).length,0);return l>0?s/l:0}calculateSpeedScore(i){const d=6e4/(i.reduce((h,g)=>{if(!g.endTime)return h;const b=g.startTime instanceof Date?g.startTime.getTime():new Date(g.startTime).getTime(),j=((g.endTime instanceof Date?g.endTime.getTime():new Date(g.endTime).getTime())-b)/g.questions.length;return h+j},0)/i.length);return Math.min(d,1.5)/1.5}calculateDifficultyScore(i){return i.reduce((s,d)=>{const h=d.questions.reduce((g,b)=>g+b.difficulty,0)/d.questions.length;return s+h},0)/i.length/5}convertToTOEICScore(i){return Math.round(10+i*980)}calculateConfidence(i){const l=i.length,s=.95,d=Math.min(l/20,1),h=i.map(j=>j.score||0),g=h.reduce((j,R)=>j+R,0)/h.length,b=h.reduce((j,R)=>j+Math.pow(R-g,2),0)/h.length,y=1-Math.min(b/1e4,1);return Math.min(d*y*s,s)}}const Pw=new Hw,Kw=({className:r=""})=>{const{practiceSessions:i,scoreEstimation:l,setScoreEstimation:s,isLoading:d,setLoading:h}=Mg();if(z.useEffect(()=>{if(console.log("ScoreDashboard: Practice sessions changed",{totalSessions:i.length,sessions:i.map(B=>({id:B.id,completed:B.completed,score:B.score,questionsCount:B.questions?.length||0}))}),i.length>0){h(!0);try{const B=Pw.calculateScore(i);console.log("ScoreDashboard: Score calculation result",B),s(B)}catch(B){console.error("Error calculating score:",B)}finally{h(!1)}}},[i,s,h]),z.useMemo(()=>{if(!l||l.recentSessions.length<3)return"stable";const B=l.recentSessions.slice(0,3),k=l.recentSessions.slice(3,6);if(k.length===0)return"stable";const D=B.reduce((ce,Z)=>{const Se=Z.userAnswers.filter((pe,I)=>pe===Z.questions[I].correctAnswer).length/Z.questions.length;return ce+Se},0)/B.length,Q=k.reduce((ce,Z)=>{const Se=Z.userAnswers.filter((pe,I)=>pe===Z.questions[I].correctAnswer).length/Z.questions.length;return ce+Se},0)/k.length,X=(D-Q)*100;return X>5?"improving":X<-5?"declining":"stable"},[l]),d)return c.jsx("div",{className:`p-6 ${r}`,children:c.jsxs("div",{className:"animate-pulse",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:c.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 0 01-2-2z"})})}),c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:"h-6 bg-gray-200 rounded w-20 mb-1"}),c.jsx("div",{className:"h-4 bg-gray-200 rounded w-16"})]})]}),c.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),c.jsx("div",{className:"h-3 bg-gray-200 rounded"})]})});if(!l||l.estimatedScore===0)return c.jsx("div",{className:`p-6 ${r}`,children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"md:col-span-2 bg-gray-50 rounded-xl border border-gray-200 p-6",children:[c.jsx("div",{className:"flex items-center justify-between mb-4",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"予測スコア"}),c.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})]})}),c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-6xl font-bold text-gray-400 mb-2",children:"--"}),c.jsx("div",{className:"text-lg text-gray-500 mb-4",children:"/ 990"}),c.jsxs("div",{className:"flex justify-center gap-8 text-sm text-gray-600",children:[c.jsxs("div",{children:[c.jsx("div",{className:"font-medium text-gray-400",children:"LC--"}),c.jsx("div",{className:"text-xs text-gray-500",children:"リスニング"})]}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium text-gray-400",children:"RC--"}),c.jsx("div",{className:"text-xs text-gray-500",children:"リーディング"})]})]})]})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"bg-gray-50 rounded-xl border border-gray-200 p-6",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:c.jsx("span",{className:"text-blue-600",children:"🔥"})}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm font-medium text-gray-600",children:"連続学習日数"}),c.jsx("div",{className:"text-2xl font-bold text-gray-400",children:"0日"})]})]})}),c.jsx("div",{className:"bg-gray-50 rounded-xl border border-gray-200 p-6",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:c.jsx("div",{className:"w-4 h-4 border-2 border-blue-400 rounded-full"})}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm font-medium text-gray-600",children:"目標達成率"}),c.jsx("div",{className:"text-2xl font-bold text-gray-400",children:"0%"})]})]})})]})]})});const{estimatedScore:g,confidence:b}=l;Math.round(l.recentSessions.reduce((B,k)=>{const D=k.userAnswers.filter((Q,X)=>Q===k.questions[X].correctAnswer).length;return B+D/k.questions.length},0)/l.recentSessions.length*100);const v=Math.round(g*.53),y=g-v,j=l.recentSessions.length>0?Math.min(l.recentSessions.length,30):0,A=Math.min(Math.round(g/600*100),100);return c.jsx("div",{className:`p-6 ${r}`,children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"md:col-span-2 bg-gray-50 rounded-xl border border-gray-200 p-6",children:[c.jsx("div",{className:"flex items-center justify-between mb-4",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"予測スコア"}),c.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})]})}),c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-6xl font-bold text-gray-900 mb-2",children:g}),c.jsx("div",{className:"text-lg text-gray-500 mb-4",children:"/ 990"}),c.jsxs("div",{className:"flex justify-center gap-8 text-sm text-gray-600",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"font-medium",children:["LC",v]}),c.jsx("div",{className:"text-xs text-gray-500",children:"リスニング"})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"font-medium",children:["RC",y]}),c.jsx("div",{className:"text-xs text-gray-500",children:"リーディング"})]})]})]})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"bg-gray-50 rounded-xl border border-gray-200 p-6",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:c.jsx("span",{className:"text-blue-600",children:"🔥"})}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm font-medium text-gray-600",children:"連続学習日数"}),c.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[j,"日"]})]})]})}),c.jsx("div",{className:"bg-gray-50 rounded-xl border border-gray-200 p-6",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:c.jsx("div",{className:"w-4 h-4 border-2 border-blue-400 rounded-full relative",children:c.jsx("div",{className:"absolute top-0 left-0 bg-blue-400 rounded-full transition-all duration-300",style:{width:`${Math.min(A/25,1)*100}%`,height:`${Math.min(A/25,1)*100}%`}})})}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm font-medium text-gray-600",children:"目標達成率"}),c.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[A,"%"]})]})]})})]})]})})},wn=({children:r})=>{const[i,l]=z.useState(!1),s=Qr();return z.useEffect(()=>{l(!1);const d=setTimeout(()=>{l(!0)},100);return()=>clearTimeout(d)},[s.pathname]),c.jsx("div",{className:`transition-all duration-500 ease-out ${i?"opacity-100 translate-y-0 scale-100":"opacity-0 translate-y-6 scale-95"}`,children:r})},Qw=()=>{const{stats:r,loadWords:i}=$l(),{t:l}=_r(),s=Fu();return z.useEffect(()=>{i()},[i]),z.useEffect(()=>{const d=h=>{if(!(document.activeElement?.tagName==="INPUT"||document.activeElement?.tagName==="TEXTAREA"))switch(h.key){case"p":case"P":s("/practice");break;case"r":case"R":s("/review");break}};return window.addEventListener("keydown",d),()=>window.removeEventListener("keydown",d)},[s]),c.jsx(wn,{children:c.jsxs("div",{className:"min-h-screen bg-gray-50",children:[c.jsxs("div",{className:"text-center py-8 bg-white shadow-sm",children:[c.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:l("home.title")}),c.jsx("p",{className:"text-lg text-gray-600",children:l("home.subtitle")})]}),c.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[c.jsx("div",{className:"bg-white rounded-xl shadow-lg mb-8",children:c.jsx(Kw,{})}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs(yi,{to:"/practice",className:"group bg-white rounded-lg shadow-md hover:shadow-lg transition-all duration-300 p-6 text-center focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 hover:bg-blue-50 border border-transparent hover:border-blue-200","aria-label":l("practice.startPractice"),children:[c.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4 group-hover:bg-blue-200 transition-colors",children:c.jsx("svg",{className:"w-8 h-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})}),c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2 group-hover:text-blue-700 transition-colors",children:l("practice.startPractice")}),c.jsx("p",{className:"text-gray-600 text-sm group-hover:text-blue-600 transition-colors",children:"AI生成题目，开始练习"})]}),c.jsxs(yi,{to:"/review",className:"group bg-white rounded-lg shadow-md hover:shadow-lg transition-all duration-300 p-6 text-center focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 hover:bg-purple-50 border border-transparent hover:border-purple-200","aria-label":l("practice.review"),children:[c.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4 group-hover:bg-purple-200 transition-colors",children:c.jsx("svg",{className:"w-8 h-8 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2 group-hover:text-purple-700 transition-colors",children:l("practice.review")}),c.jsx("p",{className:"text-gray-600 text-sm group-hover:text-purple-600 transition-colors",children:"复习错题，巩固知识"})]}),c.jsxs(yi,{to:r.totalWords>0&&r.wordsNeedingReview>0?"/vocabulary/review":"/vocabulary",className:`group rounded-lg shadow-md hover:shadow-lg transition-all duration-300 p-6 text-center focus:outline-none focus:ring-2 focus:ring-offset-2 border ${r.wordsNeedingReview>0?"bg-gradient-to-r from-orange-50 to-red-50 hover:from-orange-100 hover:to-red-100 border-orange-200 hover:border-orange-300 focus:ring-orange-500":"bg-white hover:bg-green-50 border-transparent hover:border-green-200 focus:ring-green-500"}`,"aria-label":"单词复习",children:[c.jsxs("div",{className:`relative w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4 transition-colors ${r.wordsNeedingReview>0?"bg-orange-100 group-hover:bg-orange-200":"bg-green-100 group-hover:bg-green-200"}`,children:[c.jsx("svg",{className:`w-8 h-8 ${r.wordsNeedingReview>0?"text-orange-600":"text-green-600"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),r.wordsNeedingReview>0&&c.jsx("span",{className:"absolute -top-1 -right-1 w-6 h-6 bg-red-500 rounded-full flex items-center justify-center",children:c.jsx("span",{className:"text-white text-xs font-bold",children:r.wordsNeedingReview>99?"99+":r.wordsNeedingReview})})]}),c.jsx("h3",{className:`text-lg font-semibold text-gray-900 mb-2 transition-colors ${r.wordsNeedingReview>0?"group-hover:text-orange-700":"group-hover:text-green-700"}`,children:"单词复习"}),c.jsx("p",{className:`text-sm transition-colors ${r.wordsNeedingReview>0?"text-orange-700 group-hover:text-orange-800":"text-gray-600 group-hover:text-green-600"}`,children:r.totalWords>0?r.wordsNeedingReview>0?`${r.wordsNeedingReview}个单词需要复习`:"间隔复习，巩固记忆":"开始积累生词本"}),r.reviewStreak>0&&c.jsxs("div",{className:"mt-2 text-xs text-yellow-600 font-medium",children:["🔥 连续复习 ",r.reviewStreak," 天"]})]})]}),c.jsx("div",{className:"mt-8 text-center",children:c.jsxs("div",{className:"inline-flex items-center gap-4 text-sm text-gray-500 bg-white px-6 py-3 rounded-lg shadow-sm border",children:[c.jsx("span",{className:"font-medium",children:l("shortcuts.title")}),c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx("kbd",{className:"px-2 py-1 bg-gray-100 border border-gray-300 rounded text-xs font-medium",children:"P"}),l("shortcuts.practice")]}),c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx("kbd",{className:"px-2 py-1 bg-gray-100 border border-gray-300 rounded text-xs font-medium",children:"R"}),l("shortcuts.review")]})]})})]})]})})},Ap=[{id:"demo-1",type:"reading",category:"Grammar",question:"The meeting will be held _____ next Tuesday at 2 PM.",options:["in","on","at","by"],correctAnswer:1,explanation:'表示具体某一天时使用介词"on"。"next Tuesday"是具体的某一天，所以用"on"。',difficulty:3,createdAt:new Date,tags:["preposition","time"]},{id:"demo-2",type:"reading",category:"Vocabulary",question:"The company decided to _____ its operations to include international markets.",options:["expand","expense","expect","explain"],correctAnswer:0,explanation:'"expand"意思是扩展、扩大。根据句意，公司决定扩大运营范围以包括国际市场。',difficulty:3,createdAt:new Date,tags:["business","vocabulary"]},{id:"demo-3",type:"reading",category:"Grammar",question:"If you _____ any questions about the project, please don't hesitate to contact me.",options:["have","has","having","had"],correctAnswer:0,explanation:"If条件句中，当主语是you时，动词用原形。这是第一条件句的用法。",difficulty:2,createdAt:new Date,tags:["conditional","grammar"]},{id:"demo-4",type:"reading",category:"Reading Comprehension",question:"According to the email, what should employees do before attending the training session?",options:["Submit a request form","Complete the online survey","Review the training materials","Contact the HR department"],correctAnswer:2,explanation:"根据邮件内容，员工在参加培训之前应该先复习培训材料。这是为了确保培训效果。",difficulty:4,createdAt:new Date,tags:["reading comprehension","workplace"]},{id:"demo-5",type:"reading",category:"Vocabulary",question:"The new software has significantly _____ our productivity levels.",options:["decreased","improved","maintained","ignored"],correctAnswer:1,explanation:'根据语境，新软件应该是"改善"了生产力水平。"improved"最符合积极的语境。',difficulty:3,createdAt:new Date,tags:["technology","workplace"]}],Gw=(r=5)=>Ap.slice(0,Math.min(r,Ap.length)),Uf=yo((r,i)=>({currentSession:null,currentQuestionIndex:0,isLoading:!1,error:null,showResults:!1,initializePracticeSession:async l=>{r({isLoading:!0,error:null});try{let s;try{const h=$i.getState().getLanguageForAI();s=await ow(l,h),console.info(`成功生成 ${s.length} 道题目`)}catch(h){if(console.warn("API generation failed, falling back to demo questions:",h),h instanceof Pr){if(h.code==="RATE_LIMIT_EXCEEDED")throw r({isLoading:!1,error:"请求过于频繁，请稍后再试",currentSession:null}),h;h.code==="NETWORK_ERROR"&&console.warn("Network error, falling back to demo questions")}s=Gw(l.count),console.info(`API不可用，使用演示题目 ${s.length} 道`)}if(s.length===0)throw new Error("没有生成任何题目");for(const h of s)await dn.saveQuestion(h);const d={id:crypto.randomUUID(),questions:s,userAnswers:new Array(s.length).fill(null),startTime:new Date,completed:!1};await dn.savePracticeSession(d),r({currentSession:d,currentQuestionIndex:0,isLoading:!1,error:null})}catch(s){const d=s instanceof Error?s.message:"初始化练习会话失败";throw r({isLoading:!1,error:d,currentSession:null}),s}},startPracticeSession:l=>{const s={id:crypto.randomUUID(),questions:l,userAnswers:new Array(l.length).fill(null),startTime:new Date,completed:!1};r({currentSession:s,currentQuestionIndex:0,error:null})},submitAnswer:l=>{const{currentSession:s,currentQuestionIndex:d}=i();if(!s)return;const h=[...s.userAnswers];h[d]=l,r({currentSession:{...s,userAnswers:h}})},nextQuestion:async()=>{const{currentSession:l,currentQuestionIndex:s}=i();if(!l)return;const d=s+1;d>=l.questions.length?await i().completePracticeSession():r({currentQuestionIndex:d})},previousQuestion:()=>{const{currentQuestionIndex:l}=i();l>0&&r({currentQuestionIndex:l-1})},goToQuestion:l=>{const{currentSession:s}=i();s&&l>=0&&l<s.questions.length&&r({currentQuestionIndex:l})},completePracticeSession:async()=>{const{currentSession:l}=i();if(!l)return;const s=l.userAnswers.filter((g,b)=>g===l.questions[b].correctAnswer).length,d=Math.round(s/l.questions.length*100),h={...l,endTime:new Date,score:d,completed:!0};try{for(let g=0;g<l.questions.length;g++){const b=l.userAnswers[g],v=l.questions[g];if(b!==null&&b!==v.correctAnswer){const y={id:crypto.randomUUID(),questionId:v.id,sessionId:l.id,userAnswer:b,reviewCount:0,mastered:!1,createdAt:new Date};await dn.saveWrongQuestion(y)}}await dn.savePracticeSession(h),console.log("PracticeStore: Dispatching practiceSessionCompleted event",h),window.dispatchEvent(new CustomEvent("practiceSessionCompleted",{detail:{session:h}})),console.log("PracticeStore: Event dispatched")}catch(g){console.error("Failed to save practice session data:",g)}r({currentSession:h,showResults:!0})},setLoading:l=>r({isLoading:l}),setError:l=>r({error:l}),resetPractice:()=>r({currentSession:null,currentQuestionIndex:0,isLoading:!1,error:null,showResults:!1})})),Vw=({question:r,selectedAnswer:i,onAnswerSelect:l,disabled:s=!1,showCorrectAnswer:d=!1,showExplanation:h=!1,questionNumber:g,totalQuestions:b,onPrevious:v,onNext:y,showNavigation:j=!1,sessionId:R})=>{const A=D=>{const Q="w-full text-left p-4 rounded-lg border-2 transition-all duration-200";if(d){if(D===r.correctAnswer)return`${Q} border-green-500 bg-green-50 text-green-800`;if(D===i&&D!==r.correctAnswer)return`${Q} border-red-500 bg-red-50 text-red-800`}return s?`${Q} border-gray-200 bg-gray-50 text-gray-600 cursor-not-allowed`:i===D?`${Q} border-blue-500 bg-blue-50 text-blue-800`:`${Q} border-gray-200 hover:border-blue-300 hover:bg-blue-50 cursor-pointer`},B=D=>{switch(D){case 1:return"text-green-600 bg-green-100";case 2:return"text-blue-600 bg-blue-100";case 3:return"text-yellow-600 bg-yellow-100";case 4:return"text-orange-600 bg-orange-100";case 5:return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},k=D=>{switch(D){case 1:return"很简单";case 2:return"简单";case 3:return"中等";case 4:return"困难";case 5:return"很困难";default:return"未知"}};return c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[c.jsxs("div",{className:"flex justify-between items-start mb-6",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${r.type==="listening"?"bg-purple-100 text-purple-800":"bg-blue-100 text-blue-800"}`,children:r.type==="listening"?"听力":"阅读"}),c.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${B(r.difficulty)}`,children:k(r.difficulty)}),g&&b&&c.jsxs("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:[g," / ",b]})]}),c.jsx("div",{className:"text-sm text-gray-500",children:r.category})]}),c.jsx($u,{sourceType:"practice",sourceId:R||"practice-session",className:"mb-6",children:c.jsx("h2",{className:"text-lg font-medium text-gray-900 leading-relaxed",children:r.question})}),c.jsx("div",{className:"space-y-3 mb-6",children:r.options.map((D,Q)=>c.jsx($u,{sourceType:"practice",sourceId:R||"practice-session",children:c.jsx("button",{onClick:()=>!s&&l(Q),disabled:s,className:A(Q),children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("span",{className:"flex-shrink-0 w-6 h-6 rounded-full border-2 border-current flex items-center justify-center text-sm font-medium mr-3",children:String.fromCharCode(65+Q)}),c.jsx("span",{className:"flex-1",children:D}),d&&Q===r.correctAnswer&&c.jsx("svg",{className:"w-5 h-5 text-green-600 ml-2",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),d&&Q===i&&Q!==r.correctAnswer&&c.jsx("svg",{className:"w-5 h-5 text-red-600 ml-2",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})]})})},Q))}),h&&r.explanation&&c.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[c.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-2",children:"解析："}),c.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:r.explanation})]}),j&&(v||y)&&c.jsx("div",{className:"border-t border-gray-200 pt-4 mt-4",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("button",{onClick:v,disabled:!v,className:"flex items-center gap-2 px-4 py-2 text-sm text-gray-600 hover:text-gray-900 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"上一题"]}),c.jsx("div",{className:"text-sm text-gray-500",children:i!==null?"已回答":"请选择答案"}),c.jsxs("button",{onClick:y,disabled:!y,className:"flex items-center gap-2 px-4 py-2 text-sm text-gray-600 hover:text-gray-900 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:["下一题",c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})}),c.jsx("div",{className:"border-t border-gray-100 pt-4 mt-4",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("button",{onClick:v,disabled:!v,className:"flex items-center gap-2 px-4 py-2 text-sm bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"上一题"]}),c.jsx("div",{className:"text-sm text-gray-500",children:i!==null?"已选择":"请选择答案"}),c.jsxs("button",{onClick:y,disabled:!y,className:"flex items-center gap-2 px-4 py-2 text-sm bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:["下一题",c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})})]})},Yw=({current:r,total:i,answered:l,className:s="",onQuestionClick:d,userAnswers:h,correctAnswers:g,showResults:b=!1})=>{const v=r/i*100,y=l/i*100;return c.jsxs("div",{className:`w-full ${s}`,children:[c.jsxs("div",{className:"flex justify-between items-center mb-3",children:[c.jsxs("div",{className:"flex items-center gap-6",children:[c.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["进度: ",r," / ",i]}),c.jsxs("span",{className:"text-sm text-gray-600",children:["已回答: ",l]})]}),c.jsxs("span",{className:"text-sm font-medium text-blue-600",children:[Math.round(v),"%"]})]}),c.jsxs("div",{className:"relative w-full h-4 bg-gray-200 rounded-full overflow-hidden",children:[c.jsx("div",{className:"absolute top-0 left-0 h-full bg-green-200 transition-all duration-300 ease-out",style:{width:`${y}%`}}),c.jsx("div",{className:"absolute top-0 left-0 h-full bg-blue-500 transition-all duration-300 ease-out",style:{width:`${v}%`}}),c.jsx("div",{className:"absolute top-0 left-0 w-full h-full flex items-center",style:{transform:"translateY(-2px)"},children:Array.from({length:i},(j,R)=>{const A=(R+.5)/i*100,B=h?h[R]!==null:R<l,k=R===r-1;let D="bg-gray-300 border-gray-400";if(b&&h&&g){const Q=h[R],X=g[R];Q!==null&&(D=Q===X?"bg-green-500 border-green-600":"bg-red-500 border-red-600")}else B&&(D="bg-green-500 border-green-600");return k&&(D="bg-white border-blue-600 scale-125"),c.jsx("div",{className:"absolute transform -translate-x-1/2",style:{left:`${A}%`},children:c.jsx("button",{onClick:()=>d?.(R),disabled:!d,className:`w-3 h-3 rounded-full border-2 transition-all duration-200 ${D} ${d?"hover:scale-110 cursor-pointer":""} ${d?"":"cursor-default"}`,title:`题目 ${R+1}${B?" (已回答)":""}`})},R)})})]}),c.jsxs("div",{className:"flex justify-between items-center mt-3 text-xs text-gray-500",children:[c.jsxs("div",{className:"flex items-center gap-6",children:[c.jsxs("div",{className:"flex items-center gap-1.5",children:[c.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),c.jsx("span",{children:"当前位置"})]}),c.jsxs("div",{className:"flex items-center gap-1.5",children:[c.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),c.jsx("span",{children:b?"正确":"已回答"})]}),b&&c.jsxs("div",{className:"flex items-center gap-1.5",children:[c.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500"}),c.jsx("span",{children:"错误"})]}),c.jsxs("div",{className:"flex items-center gap-1.5",children:[c.jsx("div",{className:"w-2 h-2 rounded-full bg-gray-300"}),c.jsx("span",{children:"未回答"})]})]}),c.jsx("span",{className:"font-medium",children:b?`正确率: ${Math.round(l/i*100)}%`:`剩余: ${i-l} 题`})]})]})},Iw=({session:r})=>{const i=Fu(),{resetPractice:l}=Uf();_r(),z.useEffect(()=>{(async()=>{try{await dn.savePracticeSession(r)}catch(A){console.error("Failed to update learning progress:",A)}})()},[r]);const s=r.userAnswers.filter((R,A)=>R===r.questions[A].correctAnswer).length,d=r.userAnswers.filter((R,A)=>R!==null&&R!==r.questions[A].correctAnswer).length,h=r.questions.length,g=Math.round(s/h*100),b=()=>{i(`/review/${r.id}`)},v=()=>{l(),i("/practice")},y=()=>{i("/")},j=({correct:R,wrong:A,total:B,size:k=200})=>{const D=(k-20)/2,Q=D*2*Math.PI,X=R/B*100,ce=A/B*100,Z=2,Se=Math.max(0,X/100*Q-Z/100*Q),pe=Math.max(0,ce/100*Q-Z/100*Q),I=`${Se} ${Q}`,Me=`${pe} ${Q}`,Ie=7/360*Q,Ye=-(X/100*Q+Z/100*Q-Ie);return c.jsxs("div",{className:"relative inline-flex items-center justify-center",children:[c.jsxs("svg",{width:k,height:k,className:"transform -rotate-90",children:[c.jsx("circle",{cx:k/2,cy:k/2,r:D,stroke:"currentColor",strokeWidth:"10",fill:"none",className:"text-gray-200"}),c.jsx("circle",{cx:k/2,cy:k/2,r:D,stroke:"currentColor",strokeWidth:"10",fill:"none",strokeDasharray:I,className:"text-emerald-400 transition-all duration-1000 ease-out",style:{strokeLinecap:"round",filter:"blur(0.5px)",opacity:.7}}),c.jsx("circle",{cx:k/2,cy:k/2,r:D,stroke:"currentColor",strokeWidth:"10",fill:"none",strokeDasharray:Me,strokeDashoffset:Ye,className:"text-red-400 transition-all duration-1000 ease-out",style:{strokeLinecap:"round",filter:"blur(0.5px)",opacity:.7}})]}),c.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[c.jsxs("div",{className:"text-4xl font-bold text-gray-900 mb-1",children:[g,"%"]}),c.jsx("div",{className:"text-sm text-gray-600",children:"正确率"})]})]})};return c.jsxs("div",{className:"max-w-2xl mx-auto px-4 py-8",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"练习完成！"}),c.jsx("p",{className:"text-gray-600",children:"查看你的答题情况"})]}),c.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 mb-8",children:[c.jsx("div",{className:"text-center mb-6",children:c.jsx(j,{correct:s,wrong:d,total:h,size:200})}),c.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[c.jsxs("div",{className:"p-4",children:[c.jsxs("div",{className:"flex items-center justify-center mb-2",children:[c.jsx("div",{className:"w-4 h-4 rounded-full mr-2",style:{background:"rgba(52, 211, 153, 0.5)",backdropFilter:"blur(4px)"}}),c.jsx("span",{className:"font-medium text-gray-900",children:"答对"})]}),c.jsx("div",{className:"text-2xl font-bold text-emerald-400",children:s}),c.jsx("div",{className:"text-sm text-gray-500",children:"题"})]}),c.jsxs("div",{className:"p-4",children:[c.jsxs("div",{className:"flex items-center justify-center mb-2",children:[c.jsx("div",{className:"w-4 h-4 rounded-full mr-2",style:{background:"rgba(248, 113, 113, 0.4)",backdropFilter:"blur(4px)"}}),c.jsx("span",{className:"font-medium text-gray-900",children:"答错"})]}),c.jsx("div",{className:"text-2xl font-bold text-red-400",children:d}),c.jsx("div",{className:"text-sm text-gray-500",children:"题"})]}),c.jsxs("div",{className:"p-4",children:[c.jsxs("div",{className:"flex items-center justify-center mb-2",children:[c.jsx("div",{className:"w-4 h-4 bg-gray-400 rounded-full mr-2"}),c.jsx("span",{className:"font-medium text-gray-900",children:"总题数"})]}),c.jsx("div",{className:"text-2xl font-bold text-gray-600",children:h}),c.jsx("div",{className:"text-sm text-gray-500",children:"题"})]})]})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("button",{onClick:b,className:"w-full px-6 py-4 bg-white border border-gray-300 text-gray-900 rounded-xl hover:bg-gray-50 transition-colors font-medium text-lg flex items-center justify-center gap-2",children:[c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"查看解析"]}),c.jsxs("button",{onClick:v,className:"w-full px-6 py-4 bg-white border border-gray-300 text-gray-900 rounded-xl hover:bg-gray-50 transition-colors font-medium text-lg flex items-center justify-center gap-2",children:[c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"再做一组题"]}),c.jsxs("button",{onClick:y,className:"w-full px-6 py-4 bg-white border border-gray-300 text-gray-900 rounded-xl hover:bg-gray-50 transition-colors font-medium text-lg flex items-center justify-center gap-2",children:[c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),"回到主界面"]})]})]})},$w=()=>{const{currentSession:r,currentQuestionIndex:i,isLoading:l,error:s,showResults:d,submitAnswer:h,nextQuestion:g,previousQuestion:b,goToQuestion:v,completePracticeSession:y,setError:j}=Uf(),{t:R}=_r(),[A,B]=z.useState(!1);z.useEffect(()=>{if(!r)return;const Se=setInterval(async()=>{try{await dn.savePracticeSession(r)}catch(pe){console.error("Failed to save practice session:",pe)}},3e4);return()=>clearInterval(Se)},[r]);const k=async Z=>{if(h(Z),r)try{const Se={...r,userAnswers:[...r.userAnswers]};Se.userAnswers[i]=Z,await dn.savePracticeSession(Se),setTimeout(()=>{i<r.questions.length-1?g():y()},400)}catch(Se){console.error("Failed to save answer:",Se)}},D=()=>{g()},Q=Z=>{v(Z)},X=()=>{b()};if(!r)return c.jsx("div",{className:"max-w-4xl mx-auto",children:c.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6",children:c.jsx("p",{className:"text-yellow-800",children:R("practiceSession.notFound")})})});if(A)return c.jsxs("div",{className:"max-w-4xl mx-auto flex flex-col items-center justify-center min-h-[400px]",children:[c.jsx(Il,{}),c.jsx("p",{className:"mt-4 text-gray-600",children:R("practiceSession.saving")})]});if(d)return c.jsx(Iw,{session:r});if(s)return c.jsx("div",{className:"max-w-4xl mx-auto",children:c.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:[c.jsx("h2",{className:"text-lg font-semibold text-red-800 mb-2",children:R("practiceSetup.error")}),c.jsx("p",{className:"text-red-600",children:s})]})});const ce=r.questions[i];return r.questions.length-1,r.userAnswers[i],c.jsxs("div",{className:"max-w-4xl mx-auto",children:[c.jsx("div",{className:"mb-8",children:c.jsx(Yw,{current:i+1,total:r.questions.length,answered:r.userAnswers.filter(Z=>Z!==null).length,onQuestionClick:Q,userAnswers:r.userAnswers})}),c.jsx("div",{className:"mb-6",children:c.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:["题目 ",i+1," / ",r.questions.length]})}),c.jsx("div",{className:"mb-8",children:c.jsx(Vw,{question:ce,selectedAnswer:r.userAnswers[i],onAnswerSelect:k,disabled:l,questionNumber:i+1,totalQuestions:r.questions.length,onPrevious:i>0?X:void 0,onNext:i<r.questions.length-1?D:void 0,showNavigation:!1,sessionId:r.id})}),c.jsx("div",{className:"mt-8 bg-gray-50 rounded-lg p-4",children:c.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-2xl font-bold text-blue-600",children:r.userAnswers.filter(Z=>Z!==null).length}),c.jsx("div",{className:"text-sm text-gray-600",children:"已回答"})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-2xl font-bold text-gray-600",children:r.questions.length-r.userAnswers.filter(Z=>Z!==null).length}),c.jsx("div",{className:"text-sm text-gray-600",children:"剩余"})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[Math.round(r.userAnswers.filter(Z=>Z!==null).length/r.questions.length*100),"%"]}),c.jsx("div",{className:"text-sm text-gray-600",children:"进度"})]})]})})]})},Xw=({onStart:r,isLoading:i,error:l})=>{const{t:s}=_r(),d=()=>{try{const D=localStorage.getItem("practice_settings");if(D)return JSON.parse(D)}catch(D){console.error("Error loading stored settings:",D)}return{type:"reading",count:10,difficulty:[3],categories:["Part 5 - 语法填空"]}},[h,g]=z.useState(d()),b=D=>{try{localStorage.setItem("practice_settings",JSON.stringify(D))}catch(Q){console.error("Error saving settings:",Q)}};z.useEffect(()=>{b(h)},[h]);const v=D=>{D.preventDefault(),r(h)},y=D=>{const Q=D==="listening"?["Part 1 - 照片描述"]:["Part 5 - 语法填空"];g(X=>({...X,type:D,categories:Q}))},j=D=>{g(Q=>({...Q,count:D}))},R=D=>{g(Q=>({...Q,difficulty:[D]}))},A=D=>{g(Q=>({...Q,categories:[D]}))},B=()=>h.type==="listening"?["Part 1 - 照片描述","Part 2 - 应答问题","Part 3 - 对话理解","Part 4 - 说明文理解"]:["Part 5 - 语法填空","Part 6 - 短文填空","Part 7 - 阅读理解"],k=D=>{switch(D){case 1:return"500分以下";case 2:return"500-600分";case 3:return"600-700分";case 4:return"700-800分";case 5:return"800分以上"}};return c.jsxs("form",{onSubmit:v,className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:s("setup.questionType")}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsx("button",{type:"button",onClick:()=>y("listening"),className:`p-3 rounded-lg border-2 transition-colors ${h.type==="listening"?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300"}`,children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-lg font-medium",children:s("setup.listening")}),c.jsx("div",{className:"text-sm text-gray-500",children:"Listening"})]})}),c.jsx("button",{type:"button",onClick:()=>y("reading"),className:`p-3 rounded-lg border-2 transition-colors ${h.type==="reading"?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300"}`,children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-lg font-medium",children:s("setup.reading")}),c.jsx("div",{className:"text-sm text-gray-500",children:"Reading"})]})})]})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:[s("setup.questionCount"),": ",h.count]}),c.jsx("input",{type:"range",min:"5",max:"20",step:"5",value:h.count,onChange:D=>j(Number(D.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),c.jsxs("div",{className:"flex justify-between text-sm text-gray-500 mt-1",children:[c.jsxs("span",{children:["5",s("setup.questions")]}),c.jsxs("span",{children:["10",s("setup.questions")]}),c.jsxs("span",{children:["15",s("setup.questions")]}),c.jsxs("span",{children:["20",s("setup.questions")]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:s("setup.difficultyLevel")}),c.jsx("div",{className:"grid grid-cols-5 gap-2",children:[1,2,3,4,5].map(D=>c.jsx("button",{type:"button",onClick:()=>R(D),className:`p-2 rounded-lg border-2 text-sm transition-colors ${h.difficulty.includes(D)?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300"}`,children:k(D)},D))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:s("setup.questionCategory")}),c.jsx("div",{className:"grid grid-cols-2 gap-2",children:B().map(D=>c.jsx("button",{type:"button",onClick:()=>A(D),className:`p-2 rounded-lg border-2 text-sm transition-colors ${h.categories?.includes(D)?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300"}`,children:D},D))})]}),l&&c.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:c.jsx("p",{className:"text-red-600 text-sm",children:l})}),c.jsx("div",{className:"flex justify-end gap-3",children:c.jsxs("button",{type:"submit",disabled:i,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2",children:[i&&c.jsx(Il,{className:"w-4 h-4"}),s(i?"setup.generating":"setup.startPractice")]})}),c.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 text-sm",children:[c.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:s("setup.previewTitle")}),c.jsxs("ul",{className:"space-y-1 text-gray-600",children:[c.jsxs("li",{children:["• ",s("setup.type"),": ",h.type==="reading"?s("setup.reading"):s("setup.listening")]}),c.jsxs("li",{children:["• ",s("setup.count"),": ",h.count," ",s("setup.questions")]}),c.jsxs("li",{children:["• ",s("setup.difficulty"),": ",h.difficulty.map(D=>k(D)).join(", ")]}),c.jsxs("li",{children:["• ",s("setup.category"),": ",h.categories?.join(", ")||s("setup.allCategories")]})]})]})]})},Fw=()=>{const{currentSession:r,isLoading:i,error:l,initializePracticeSession:s}=Uf(),{t:d}=_r(),[h,g]=z.useState(!1);z.useEffect(()=>{g(!!r)},[r]);const b=async v=>{try{await s(v)}catch(y){console.error("Failed to start practice:",y)}};return i?c.jsx(wn,{children:c.jsx("div",{className:"max-w-4xl mx-auto flex justify-center items-center min-h-[400px]",children:c.jsx(Il,{})})}):l?c.jsx(wn,{children:c.jsx("div",{className:"max-w-4xl mx-auto",children:c.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:[c.jsx("h2",{className:"text-lg font-semibold text-red-800 mb-2",children:d("practiceSetup.error")}),c.jsx("p",{className:"text-red-600",children:l})]})})}):h&&r?c.jsx(wn,{children:c.jsx($w,{})}):c.jsx(wn,{children:c.jsxs("div",{className:"max-w-4xl mx-auto",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:d("practiceSetup.title")}),c.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:c.jsx(Xw,{onStart:b,isLoading:i,error:l})})]})})},Ww=({sessions:r,selectedFilter:i,onFilterChange:l})=>{_r();const s=r.reduce((v,y)=>v+y.questions.length,0),d=r.length,h=r.length>0?Math.round(r.reduce((v,y)=>v+(y.score||0),0)/r.length):0,g=r.reduce((v,y)=>(y.questions.forEach(j=>{const A={图片描述:"Part 1",应答问题:"Part 2",简短对话:"Part 3",简短独白:"Part 4",语法填空:"Part 5",短文填空:"Part 6",阅读理解:"Part 7",Grammar:"Part 5",Vocabulary:"Part 5",Conjunctions:"Part 5",Idioms:"Part 5","Reading Comprehension":"Part 7","Part 5 - Grammar":"Part 5","Part 5 - Vocabulary":"Part 5","Part 5 - Conjunctions":"Part 5","Part 5 - Idioms":"Part 5","Part 5 - 语法填空":"Part 5","Part 5 - 词汇":"Part 5","Part 7 - 阅读理解":"Part 7"}[j.category]||j.category||"Unknown";v[A]||(v[A]={total:0,correct:0}),v[A].total++;const B=y.questions.findIndex(D=>D.id===j.id);y.userAnswers[B]===j.correctAnswer&&v[A].correct++}),v),{}),b=[{value:"all",label:"全部"},{value:"Part 1",label:"Part 1"},{value:"Part 2",label:"Part 2"},{value:"Part 3",label:"Part 3"},{value:"Part 4",label:"Part 4"},{value:"Part 5",label:"Part 5"},{value:"Part 6",label:"Part 6"},{value:"Part 7",label:"Part 7"}];return c.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:[c.jsxs("div",{className:"mb-8",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"练习统计"}),c.jsxs("div",{className:"text-3xl font-bold text-red-500",children:[s,"问"]})]}),c.jsxs("div",{className:"text-sm text-gray-600 mb-4",children:["条件に合致した问题数（全",d,"セッションのうち）"]})]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"问题种别"}),c.jsx("div",{className:"space-y-3",children:Object.entries(g).sort(([v],[y])=>{const j=["Part 1","Part 2","Part 3","Part 4","Part 5","Part 6","Part 7"],R=j.indexOf(v),A=j.indexOf(y);return R===-1&&A===-1?v.localeCompare(y):R===-1?1:A===-1?-1:R-A}).map(([v,y])=>{const j=y.total>0?Math.round(y.correct/y.total*100):0;return c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-gray-700",children:v}),c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs("span",{className:"text-sm text-gray-500",children:[y.correct,"/",y.total]}),c.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[j,"%"]})]})]},v)})})]}),c.jsxs("div",{className:"border-t pt-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-sm font-medium text-gray-700",children:"筛选:"}),c.jsx("button",{onClick:()=>l("all"),className:"px-3 py-1 text-sm bg-red-500 text-white rounded-md hover:bg-red-600 transition-colors",children:"变更"})]}),c.jsxs("div",{className:"mt-3",children:[c.jsx("div",{className:"mb-2",children:c.jsx("button",{onClick:()=>l("all"),className:`px-3 py-1 text-sm rounded-full border transition-colors ${i==="all"?"bg-blue-100 border-blue-500 text-blue-700":"bg-gray-50 border-gray-200 text-gray-700 hover:bg-gray-100"}`,children:"全部"})}),c.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:b.slice(1,5).map(v=>c.jsx("button",{onClick:()=>l(v.value),className:`px-3 py-1 text-sm rounded-full border transition-colors ${i===v.value?"bg-blue-100 border-blue-500 text-blue-700":"bg-gray-50 border-gray-200 text-gray-700 hover:bg-gray-100"}`,children:v.label},v.value))}),c.jsx("div",{className:"flex flex-wrap gap-2",children:b.slice(5).map(v=>c.jsx("button",{onClick:()=>l(v.value),className:`px-3 py-1 text-sm rounded-full border transition-colors ${i===v.value?"bg-blue-100 border-blue-500 text-blue-700":"bg-gray-50 border-gray-200 text-gray-700 hover:bg-gray-100"}`,children:v.label},v.value))})]})]}),c.jsx("div",{className:"mt-6 pt-4 border-t",children:c.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-2xl font-bold text-blue-600",children:d}),c.jsx("div",{className:"text-sm text-gray-600",children:"练习次数"})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[h,"%"]}),c.jsx("div",{className:"text-sm text-gray-600",children:"平均正确率"})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-2xl font-bold text-purple-600",children:s}),c.jsx("div",{className:"text-sm text-gray-600",children:"总题数"})]})]})})]})},Zw=({sessions:r,onSessionSelect:i,filter:l})=>{_r();const s=j=>({图片描述:"Part 1",应答问题:"Part 2",简短对话:"Part 3",简短独白:"Part 4",语法填空:"Part 5",短文填空:"Part 6",阅读理解:"Part 7",Grammar:"Part 5",Vocabulary:"Part 5",Conjunctions:"Part 5",Idioms:"Part 5","Reading Comprehension":"Part 7","Part 5 - Grammar":"Part 5","Part 5 - Vocabulary":"Part 5","Part 5 - Conjunctions":"Part 5","Part 5 - Idioms":"Part 5","Part 5 - 语法填空":"Part 5","Part 5 - 词汇":"Part 5","Part 7 - 阅读理解":"Part 7"})[j]||j,d=r.filter(j=>l==="all"?!0:j.questions.some(R=>s(R.category)===l)),h=j=>{const R=j instanceof Date?j:new Date(j);return new Intl.DateTimeFormat("zh-CN",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(R)},g=j=>j>=80?"text-green-600 bg-green-50":j>=60?"text-yellow-600 bg-yellow-50":"text-red-600 bg-red-50",b=j=>{const R=j.questions.reduce((A,B)=>{const k=B.category||"Unknown";return A[k]=(A[k]||0)+1,A},{});return Object.entries(R).map(([A,B])=>`${A}(${B})`).join(", ")},v=j=>{const R=j.questions.filter(k=>k.type==="listening").length,A=j.questions.filter(k=>k.type==="reading").length,B=[];return R>0&&B.push(`听力 ${R}题`),A>0&&B.push(`阅读 ${A}题`),B.join(" / ")},y=j=>j.questions.filter((R,A)=>j.userAnswers[A]===j.questions[A].correctAnswer).length;return d.length===0?c.jsxs("div",{className:"text-center py-12",children:[c.jsx("div",{className:"text-gray-500 text-lg mb-4",children:"暂无符合条件的练习记录"}),c.jsx("p",{className:"text-gray-400",children:"尝试调整筛选条件或开始新的练习"})]}):c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"练习记录"}),c.jsxs("span",{className:"text-sm text-gray-500",children:[d.length," 条记录"]})]}),d.map(j=>c.jsxs("div",{onClick:()=>i(j),className:"bg-white rounded-lg border border-gray-200 p-4 cursor-pointer hover:shadow-md hover:border-blue-300 transition-all duration-200",children:[c.jsxs("div",{className:"flex justify-between items-start mb-3",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-gray-900 text-lg",children:h(j.startTime)}),c.jsxs("p",{className:"text-sm text-gray-500",children:[j.questions.length," 题 • ",v(j)]})]}),c.jsxs("div",{className:`px-3 py-1 rounded-full text-sm font-medium ${g(j.score||0)}`,children:[j.score||0,"%"]})]}),c.jsxs("div",{className:"mb-3",children:[c.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"包含部分:"}),c.jsx("div",{className:"text-sm text-gray-700 bg-gray-50 rounded px-2 py-1",children:b(j)})]}),c.jsxs("div",{className:"flex justify-between items-center text-sm",children:[c.jsxs("div",{className:"flex space-x-4",children:[c.jsxs("span",{className:"text-green-600",children:["✓ ",y(j)]}),c.jsxs("span",{className:"text-red-600",children:["✗ ",j.questions.length-y(j)]})]}),c.jsxs("div",{className:"flex items-center text-gray-500",children:[j.timeSpent&&c.jsxs("span",{children:[Math.round(j.timeSpent/6e4),"分钟"]}),c.jsx("svg",{className:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]}),c.jsx("div",{className:"mt-3",children:c.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:c.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${j.score||0}%`}})})})]},j.id))]})},Jw=({question:r,userAnswer:i,questionIndex:l,sessionId:s})=>{const d=i===r.correctAnswer,h=b=>{const v="p-3 rounded-lg border text-left transition-colors";return b===r.correctAnswer?`${v} border-green-500 bg-green-50 text-green-800`:b===i&&!d?`${v} border-red-500 bg-red-50 text-red-800`:`${v} border-gray-200 bg-gray-50 text-gray-700`},g=b=>b===r.correctAnswer?c.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}):b===i&&!d?c.jsx("svg",{className:"w-5 h-5 text-red-600",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})}):null;return c.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[c.jsx("div",{className:"mb-6",children:c.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["第 ",l+1," 题"]})}),c.jsxs("div",{className:"mb-6",children:[c.jsx("h4",{className:"text-base font-medium text-gray-900 mb-3",children:"题目"}),c.jsxs($u,{sourceType:"review",sourceId:s||"review-session",className:"bg-gray-50 rounded-lg p-4",children:[c.jsx("p",{className:"text-gray-800 whitespace-pre-wrap",children:r.question}),r.audioUrl&&c.jsx("div",{className:"mt-3",children:c.jsxs("audio",{controls:!0,className:"w-full",children:[c.jsx("source",{src:r.audioUrl,type:"audio/mpeg"}),"您的浏览器不支持音频播放。"]})}),r.imageUrl&&c.jsx("div",{className:"mt-3",children:c.jsx("img",{src:r.imageUrl,alt:"题目图片",className:"max-w-full h-auto rounded-lg"})})]})]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("h4",{className:"text-base font-medium text-gray-900 mb-3",children:"选项"}),c.jsx("div",{className:"space-y-2",children:r.options.map((b,v)=>c.jsx($u,{sourceType:"review",sourceId:s||"review-session",className:h(v),children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-start space-x-3",children:[c.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-white border border-gray-300 rounded-full flex items-center justify-center text-sm font-medium",children:String.fromCharCode(65+v)}),c.jsx("span",{className:"flex-1",children:b})]}),c.jsx("div",{className:"flex-shrink-0",children:g(v)})]})},v))})]}),c.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[c.jsx("h4",{className:"text-base font-medium text-gray-900 mb-3",children:"答案解析"}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-start space-x-3",children:[c.jsx("span",{className:"flex-shrink-0 text-sm font-medium text-gray-600",children:"正确答案:"}),c.jsxs("span",{className:"text-green-600 font-medium",children:[String.fromCharCode(65+r.correctAnswer)," - ",r.options[r.correctAnswer]]})]}),c.jsxs("div",{className:"flex items-start space-x-3",children:[c.jsx("span",{className:"flex-shrink-0 text-sm font-medium text-gray-600",children:"你的答案:"}),c.jsx("span",{className:i!==null?d?"text-green-600":"text-red-600":"text-gray-500",children:i!==null?`${String.fromCharCode(65+i)} - ${r.options[i]}`:"未作答"})]}),r.explanation&&c.jsxs("div",{className:"mt-4",children:[c.jsx("span",{className:"block text-sm font-medium text-gray-600 mb-2",children:"详细解析:"}),c.jsx("div",{className:"bg-blue-50 rounded-lg p-4",children:c.jsx("p",{className:"text-gray-800 whitespace-pre-wrap",children:r.explanation})})]}),!r.explanation&&c.jsx("div",{className:"mt-4",children:c.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:c.jsx("p",{className:"text-yellow-800 text-sm",children:"暂无详细解析，你可以在下方与AI讨论这道题目。"})})})]})]}),r.tags&&r.tags.length>0&&c.jsxs("div",{className:"border-t border-gray-200 pt-4 mt-4",children:[c.jsx("h4",{className:"text-sm font-medium text-gray-600 mb-2",children:"标签"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:r.tags.map((b,v)=>c.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:b},v))})]})]})},e2=({session:r,onBack:i,selectedQuestionIndex:l,onQuestionSelect:s})=>{_r();const[d,h]=z.useState("all"),g=j=>{const R=j instanceof Date?j:new Date(j);return new Intl.DateTimeFormat("zh-CN",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(R)},v=r.questions.map((j,R)=>{const A=r.userAnswers[R],B=A===j.correctAnswer;return{question:j,index:R,userAnswer:A,isCorrect:B}}).filter(j=>d==="correct"?j.isCorrect:d==="incorrect"?!j.isCorrect:!0),y=r.questions.filter((j,R)=>r.userAnswers[R]===r.questions[R].correctAnswer).length;return c.jsxs("div",{className:"max-w-6xl mx-auto",children:[c.jsx("div",{className:"flex items-center mb-6",children:c.jsxs("button",{onClick:i,className:"flex items-center text-gray-600 hover:text-gray-900 transition-colors",children:[c.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"返回练习记录"]})}),c.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:[c.jsxs("div",{className:"flex justify-between items-start mb-4",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:g(r.startTime)}),c.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[c.jsxs("span",{children:[r.questions.length," 题"]}),c.jsxs("span",{children:[r.timeSpent?Math.round(r.timeSpent/6e4):0," 分钟"]}),c.jsxs("span",{children:["听力 ",r.questions.filter(j=>j.type==="listening").length," 题 / 阅读 ",r.questions.filter(j=>j.type==="reading").length," 题"]})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("div",{className:`text-3xl font-bold mb-1 ${(r.score||0)>=80?"text-green-600":(r.score||0)>=60?"text-yellow-600":"text-red-600"}`,children:[r.score||0,"%"]}),c.jsxs("div",{className:"text-sm text-gray-500",children:[y,"/",r.questions.length," 正确"]})]})]}),c.jsx("div",{className:"border-t pt-4",children:c.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-lg font-semibold text-green-600",children:y}),c.jsx("div",{className:"text-sm text-gray-600",children:"正确"})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-lg font-semibold text-red-600",children:r.questions.length-y}),c.jsx("div",{className:"text-sm text-gray-600",children:"错误"})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-lg font-semibold text-gray-600",children:r.userAnswers.filter(j=>j===null).length}),c.jsx("div",{className:"text-sm text-gray-600",children:"未答"})]})]})})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[c.jsxs("div",{className:"lg:col-span-1",children:[c.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-3 mb-4",children:[c.jsxs("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:["题目列表 (",v.length,")"]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("button",{onClick:()=>h("all"),className:`w-full px-2 py-1 rounded text-xs ${d==="all"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"全部"}),c.jsx("button",{onClick:()=>h("correct"),className:`w-full px-2 py-1 rounded text-xs ${d==="correct"?"bg-green-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"正确"}),c.jsx("button",{onClick:()=>h("incorrect"),className:`w-full px-2 py-1 rounded text-xs ${d==="incorrect"?"bg-red-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"错误"})]})]}),c.jsx("div",{className:"bg-white rounded-lg shadow-sm",children:v.length===0?c.jsx("div",{className:"p-8 text-center text-gray-600",children:"没有符合条件的题目"}):c.jsx("div",{className:"divide-y divide-gray-200",children:v.map(({question:j,index:R,userAnswer:A,isCorrect:B})=>c.jsx("button",{onClick:()=>s(R),className:`w-full text-left p-3 hover:bg-gray-50 transition-colors ${l===R?"bg-blue-50 border-r-4 border-blue-500":""}`,children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"mb-2",children:c.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:["第 ",R+1," 题"]})}),c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx("span",{className:"text-xs px-2 py-1 bg-gray-100 text-gray-800 rounded w-fit",children:j.category}),c.jsx("span",{className:"text-xs px-2 py-1 bg-blue-100 text-blue-800 rounded w-fit",children:j.type==="listening"?"听力":"阅读"})]})]}),c.jsx("div",{className:"ml-3 flex-shrink-0",children:c.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${B?"bg-green-500":"bg-red-500"}`,children:B?c.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}):c.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})})]})},j.id))})})]}),c.jsx("div",{className:"lg:col-span-3",children:l!==null?c.jsx(Jw,{question:r.questions[l],userAnswer:r.userAnswers[l],questionIndex:l,sessionId:r.id}):c.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 text-center text-gray-500",children:[c.jsx("svg",{className:"w-12 h-12 mx-auto mb-4 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),c.jsx("p",{className:"text-sm",children:"选择一道题目查看详情"})]})})]})]})},_p=()=>{const{t:r}=_r(),{sessionId:i}=fx(),[l,s]=z.useState([]),[d,h]=z.useState(null),[g,b]=z.useState(null),[v,y]=z.useState(!0),[j,R]=z.useState(null),[A,B]=z.useState("all");z.useEffect(()=>{k()},[]),z.useEffect(()=>{if(i&&l.length>0){const Z=l.find(Se=>Se.id===i);Z&&(h(Z),Z.questions.length>0&&(b(0),of(Z.questions[0])))}},[i,l]),z.useEffect(()=>()=>{wf()},[]);const k=async()=>{try{y(!0);const Se=(await dn.getPracticeSessions()).filter(pe=>pe.completed);s(Se)}catch(Z){R(r("reviewPage.loadError")),console.error("Error loading sessions:",Z)}finally{y(!1)}},D=Z=>{h(Z),Z.questions.length>0&&(b(0),of(Z.questions[0]))},Q=()=>{h(null),b(null),wf()},X=Z=>{b(Z),d&&d.questions[Z]&&of(d.questions[Z])},ce=Z=>{B(Z)};return v?c.jsx(wn,{children:c.jsx("div",{className:"flex justify-center items-center h-64",children:c.jsx(Il,{})})}):j?c.jsx(wn,{children:c.jsx("div",{className:"max-w-4xl mx-auto",children:c.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[c.jsx("p",{className:"text-red-600",children:j}),c.jsx("button",{onClick:k,className:"mt-2 px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700",children:r("reviewPage.retry")})]})})}):l.length===0?c.jsx(wn,{children:c.jsxs("div",{className:"max-w-4xl mx-auto",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:r("reviewPage.title")}),c.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8 text-center",children:[c.jsx("svg",{className:"w-16 h-16 mx-auto mb-4 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),c.jsx("p",{className:"text-gray-600 mb-4 text-lg",children:"还没有完成的练习记录"}),c.jsx("p",{className:"text-gray-500 mb-6",children:"开始你的第一次TOEIC练习，积累错题进行复习"}),c.jsx("a",{href:"/practice",className:"inline-block px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:r("reviewPage.startPracticeButton")})]})]})}):d?c.jsx(wn,{children:c.jsx(e2,{session:d,onBack:Q,selectedQuestionIndex:g,onQuestionSelect:X})}):c.jsx(wn,{children:c.jsxs("div",{className:"max-w-7xl mx-auto",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:r("reviewPage.title")}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[c.jsx("div",{className:"lg:col-span-1",children:c.jsx(Ww,{sessions:l,selectedFilter:A,onFilterChange:ce})}),c.jsx("div",{className:"lg:col-span-3",children:c.jsx(Zw,{sessions:l,onSessionSelect:D,filter:A})})]})]})})},t2=({word:r})=>{const{updateWordNotes:i,removeWord:l,fetchWordDefinition:s}=$l(),[d,h]=z.useState(!1),[g,b]=z.useState(r.notes||""),[v,y]=z.useState(!1),[j,R]=z.useState(!1),A=async()=>{try{await i(r.id,g),h(!1)}catch(ce){console.error("Failed to update notes:",ce)}},B=()=>{b(r.notes||""),h(!1)},k=async()=>{try{await l(r.id),y(!1)}catch(ce){console.error("Failed to delete word:",ce)}},D=async()=>{if(!(!r.audioUrl||j))try{R(!0);const ce=new Audio(r.audioUrl);ce.onended=()=>R(!1),ce.onerror=()=>R(!1),await ce.play()}catch(ce){console.error("Failed to play audio:",ce),R(!1)}},Q=async()=>{try{await Pu.clearCache(),s(r.id)}catch(ce){console.error("Failed to retry definition:",ce)}},X=async()=>{try{await Pu.clearCache(),s(r.id)}catch(ce){console.error("Failed to refresh definition:",ce)}};return c.jsx("div",{className:"p-6 bg-white transition-colors",children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("div",{className:"flex items-center gap-3 mb-3",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("h3",{className:"text-xl font-bold text-gray-900",children:r.word}),r.phonetic&&c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("span",{className:"text-sm text-gray-600",children:r.phonetic}),r.audioUrl&&c.jsx("button",{onClick:D,disabled:j,className:"p-1 hover:bg-gray-100 rounded-full transition-colors",title:"播放发音",children:c.jsx("svg",{className:`w-4 h-4 text-gray-500 ${j?"animate-pulse":""}`,fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.617.744L4.375 13H2a1 1 0 01-1-1V8a1 1 0 011-1h2.375l4.008-3.744a1 1 0 011.617.744zM14.657 5.343a1 1 0 010 1.414A4.972 4.972 0 0116 10a4.972 4.972 0 01-1.343 3.243 1 1 0 01-1.414-1.414A2.972 2.972 0 0014 10a2.972 2.972 0 00-.757-1.829 1 1 0 010-1.414z",clipRule:"evenodd"})})})]})]})}),r.definitionLoading&&c.jsx("div",{className:"mb-3 p-3 bg-blue-50 rounded-lg",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("svg",{className:"animate-spin w-4 h-4 text-blue-600",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"m4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),c.jsx("span",{className:"text-sm text-blue-700",children:"正在获取词汇信息..."})]})}),r.definitionError&&!r.meanings&&c.jsx("div",{className:"mb-3 p-3 bg-yellow-50 rounded-lg",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("svg",{className:"w-4 h-4 text-yellow-600",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),c.jsx("span",{className:"text-sm text-yellow-700",children:"词汇信息获取失败"})]}),c.jsx("button",{onClick:Q,className:"text-sm text-blue-600 hover:text-blue-800 underline",children:"重试"})]})}),r.meanings&&r.meanings.length>0&&c.jsx("div",{className:"mb-3",children:c.jsx("div",{className:"space-y-3",children:r.meanings.map((ce,Z)=>c.jsxs("div",{className:"border-l-4 border-blue-200 pl-3",children:[c.jsx("div",{className:"flex items-center gap-2 mb-2",children:c.jsxs("span",{className:"inline-block px-2 py-1 bg-blue-100 text-blue-800 text-xs font-medium rounded",children:[Pu.getPartOfSpeechAbbr(ce.partOfSpeech)," ",ce.partOfSpeechLocal||ce.partOfSpeechCN]})}),c.jsx("div",{className:"space-y-2",children:ce.definitions.slice(0,2).map((Se,pe)=>c.jsxs("div",{className:"text-sm",children:[c.jsxs("p",{className:"text-gray-800 mb-1",children:["• ",Se.definition]}),Se.synonyms&&Se.synonyms.length>0&&c.jsxs("div",{className:"pl-4 mt-1",children:[c.jsx("span",{className:"text-xs text-gray-500",children:"同义词："}),c.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:Se.synonyms.slice(0,3).map((I,Me)=>c.jsx("span",{className:"inline-block px-1 py-0.5 bg-gray-100 text-gray-700 text-xs rounded",children:I},Me))})]})]},pe))})]},Z))})}),(r.reading||r.jlpt&&r.jlpt.length>0||r.commonality!==void 0)&&c.jsx("div",{className:"mb-3",children:c.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.reading&&c.jsxs("span",{className:"inline-block px-2 py-1 bg-purple-100 text-purple-800 text-xs font-medium rounded",children:["读音: ",r.reading]}),r.jlpt&&r.jlpt.length>0&&c.jsxs("span",{className:"inline-block px-2 py-1 bg-orange-100 text-orange-800 text-xs font-medium rounded",children:["JLPT: ",r.jlpt.join(", ")]}),r.commonality&&c.jsx("span",{className:"inline-block px-2 py-1 bg-green-100 text-green-800 text-xs font-medium rounded",children:"常用词"})]})}),r.context&&c.jsxs("div",{className:"mb-3",children:[c.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"出现语境："}),c.jsx("p",{className:"text-gray-800 bg-gray-50 rounded p-3 text-sm leading-relaxed",children:r.context})]}),c.jsxs("div",{className:"mb-3",children:[c.jsxs("div",{className:"flex items-center justify-between mb-1",children:[c.jsx("p",{className:"text-sm text-gray-600",children:"我的笔记："}),!d&&c.jsx("button",{onClick:()=>h(!0),className:"text-blue-600 hover:text-blue-700 text-sm",children:r.notes?"编辑":"添加笔记"})]}),d?c.jsxs("div",{className:"space-y-2",children:[c.jsx("textarea",{value:g,onChange:ce=>b(ce.target.value),placeholder:"添加你的学习笔记...",className:"w-full p-3 border border-gray-300 rounded-lg text-sm resize-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:A,className:"px-3 py-1 bg-blue-600 text-white text-sm rounded hover:bg-blue-700",children:"保存"}),c.jsx("button",{onClick:B,className:"px-3 py-1 bg-gray-300 text-gray-700 text-sm rounded hover:bg-gray-400",children:"取消"})]})]}):c.jsx("p",{className:"text-gray-800 text-sm min-h-[1.5rem]",children:r.notes||"暂无笔记"})]})]}),c.jsxs("div",{className:"ml-4 flex flex-col gap-2",children:[c.jsx("button",{onClick:X,className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded transition-colors",title:"刷新释义（重新获取中文释义）",children:c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),v?c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx("button",{onClick:k,className:"px-3 py-1 bg-red-600 text-white text-sm rounded hover:bg-red-700",children:"确认删除"}),c.jsx("button",{onClick:()=>y(!1),className:"px-3 py-1 bg-gray-300 text-gray-700 text-sm rounded hover:bg-gray-400",children:"取消"})]}):c.jsx("button",{onClick:()=>y(!0),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded transition-colors",title:"删除单词",children:c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})})},n2=({words:r})=>{const[i,l]=z.useState("addedAt"),[s,d]=z.useState("desc"),h=[...r].sort((v,y)=>{let j=0;switch(i){case"addedAt":j=new Date(v.addedAt).getTime()-new Date(y.addedAt).getTime();break;case"word":j=v.word.toLowerCase().localeCompare(y.word.toLowerCase());break;case"mastered":j=(v.mastered?1:0)-(y.mastered?1:0);break}return s==="asc"?j:-j}),g=v=>{i===v?d(s==="asc"?"desc":"asc"):(l(v),d("desc"))},b=({field:v,children:y})=>c.jsxs("button",{onClick:()=>g(v),className:`flex items-center gap-1 px-3 py-1 rounded-md text-sm font-medium transition-colors ${i===v?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[y,c.jsx("svg",{className:`w-4 h-4 transition-transform ${i===v&&s==="desc"?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]});return c.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[c.jsx("div",{className:"border-b border-gray-200 px-6 py-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["单词列表 (",r.length,")"]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-sm text-gray-600 mr-2",children:"排序："}),c.jsx(b,{field:"addedAt",children:"添加时间"}),c.jsx(b,{field:"word",children:"字母顺序"}),c.jsx(b,{field:"mastered",children:"掌握状态"})]})]})}),c.jsx("div",{className:"divide-y divide-gray-200",children:h.map(v=>c.jsx(t2,{word:v},v.id))})]})},r2=({stats:r})=>{const i=r.totalWords>0?Math.round(r.masteredWords/r.totalWords*100):0;return c.jsxs("div",{className:"space-y-8 mb-8",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsx("div",{className:`rounded-lg shadow-sm p-6 ${r.wordsNeedingReview>0?"bg-gradient-to-r from-red-50 to-orange-50 border border-orange-200":"bg-white"}`,children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:`p-3 rounded-full ${r.wordsNeedingReview>0?"bg-red-100":"bg-gray-100"}`,children:c.jsx("svg",{className:`w-6 h-6 ${r.wordsNeedingReview>0?"text-red-600":"text-gray-400"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})})}),c.jsxs("div",{className:"ml-4",children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:"需要复习"}),c.jsx("p",{className:`text-2xl font-bold ${r.wordsNeedingReview>0?"text-red-600":"text-gray-400"}`,children:r.wordsNeedingReview})]})]})}),c.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"p-3 rounded-full bg-blue-100",children:c.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})})}),c.jsxs("div",{className:"ml-4",children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:"今日已复习"}),c.jsx("p",{className:"text-2xl font-bold text-blue-600",children:r.reviewedToday})]})]})}),c.jsx("div",{className:`rounded-lg shadow-sm p-6 ${r.reviewStreak>0?"bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200":"bg-white"}`,children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:`p-3 rounded-full ${r.reviewStreak>0?"bg-green-100":"bg-gray-100"}`,children:c.jsxs("svg",{className:`w-6 h-6 ${r.reviewStreak>0?"text-green-600":"text-gray-400"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 18.657A8 8 0 016.343 7.343S7 9 9 10c0-2 .5-5 2.986-7C14 5 16.09 5.777 17.656 7.343A7.975 7.975 0 0120 13a7.975 7.975 0 01-2.343 5.657z"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.879 16.121A3 3 0 1012.015 11L11 14H9c0 .768.293 1.536.879 2.121z"})]})}),c.jsxs("div",{className:"ml-4",children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:"连续复习"}),c.jsxs("p",{className:`text-2xl font-bold ${r.reviewStreak>0?"text-green-600":"text-gray-400"}`,children:[r.reviewStreak,r.reviewStreak>0&&c.jsx("span",{className:"text-sm ml-1",children:"天"})]})]})]})})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[c.jsxs("div",{className:"flex justify-between items-center mb-2",children:[c.jsx("span",{className:"text-sm font-medium text-gray-700",children:"学习进度"}),c.jsxs("span",{className:"text-sm text-gray-600",children:[r.masteredWords," / ",r.totalWords]})]}),c.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:c.jsx("div",{className:"bg-gradient-to-r from-green-400 to-green-600 h-3 rounded-full transition-all duration-500 ease-out",style:{width:`${i}%`}})}),c.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-2",children:[c.jsx("span",{children:"开始学习"}),c.jsx("span",{children:"完全掌握"})]})]}),r.recentWords>0&&c.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg border border-blue-200 p-4",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("svg",{className:"w-5 h-5 text-blue-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),c.jsxs("span",{className:"text-sm text-blue-800",children:["过去一周你添加了 ",c.jsx("span",{className:"font-semibold",children:r.recentWords})," 个新单词，继续保持！"]})]})})]})},a2=()=>{_r();const{words:r,stats:i,loadWords:l,getWordsForReview:s}=$l(),[d,h]=z.useState(!0),[g,b]=z.useState(""),[v,y]=z.useState("all");z.useEffect(()=>{(async()=>{try{await l()}catch(A){console.error("Failed to load vocabulary:",A)}finally{h(!1)}})()},[l]);const j=r.filter(R=>{const A=R.word.toLowerCase().includes(g.toLowerCase())||R.context&&R.context.toLowerCase().includes(g.toLowerCase())||R.definition&&R.definition.toLowerCase().includes(g.toLowerCase())||R.notes&&R.notes.toLowerCase().includes(g.toLowerCase()),B=v==="all"||v==="mastered"&&R.mastered;return A&&B});return d?c.jsx(wn,{children:c.jsx("div",{className:"max-w-6xl mx-auto flex justify-center items-center min-h-[400px]",children:c.jsx(Il,{})})}):c.jsx(wn,{children:c.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-6",children:[c.jsx(r2,{stats:i}),r.length>0&&c.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg p-6 mb-6 border border-blue-100",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:c.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:"间隔复习"}),c.jsxs("p",{className:"text-gray-600 text-sm",children:[i.wordsNeedingReview>0?`有 ${i.wordsNeedingReview} 个单词需要复习`:"暂无需要复习的单词",i.reviewedToday>0&&` • 今日已复习 ${i.reviewedToday} 个`,i.reviewStreak>0&&` • 连续复习 ${i.reviewStreak} 天`]})]})]}),i.wordsNeedingReview>0?c.jsxs(yi,{to:"/vocabulary/review",className:"px-6 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"开始复习"]}):c.jsxs("div",{className:"px-6 py-3 bg-green-100 text-green-700 font-medium rounded-lg flex items-center gap-2",children:[c.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"复习完成"]})]})}),c.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[c.jsx("div",{className:"flex-1",children:c.jsxs("div",{className:"relative",children:[c.jsx("svg",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),c.jsx("input",{type:"text",placeholder:"搜索单词、释义或笔记...",value:g,onChange:R=>b(R.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{onClick:()=>y("all"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${v==="all"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["全部 (",i.totalWords,")"]}),c.jsxs("button",{onClick:()=>y("mastered"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${v==="mastered"?"bg-green-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["已掌握 (",i.masteredWords,")"]})]})]})}),j.length===0?c.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-12 text-center",children:[c.jsx("div",{className:"text-gray-400 mb-4",children:c.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})}),c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:g||v!=="all"?"没有找到匹配的单词":"生词本是空的"}),c.jsx("p",{className:"text-gray-500",children:g||v!=="all"?"尝试调整搜索条件或筛选器":"在练习和复习时选中单词，点击收藏按钮添加到生词本"})]}):c.jsx(n2,{words:j})]})})},i2=()=>{const r=Fu(),{showSuccess:i,showError:l}=Dg(),{getWordsForReview:s,markWordReviewed:d}=$l(),[h,g]=z.useState([]),[b,v]=z.useState(0),[y,j]=z.useState(!1),[R,A]=z.useState(0),[B,k]=z.useState(!1),[D,Q]=z.useState({proficient:0,remembered:0,forgotten:0}),[X,ce]=z.useState(20),[Z,Se]=z.useState(!1),[pe,I]=z.useState(null),[Me,Ie]=z.useState(!1);z.useEffect(()=>{const ue=s();g(ue),ue.length===0?k(!0):(Se(!0),ce(20))},[s]),z.useEffect(()=>{let ue;return Z&&X>0?ue=setTimeout(()=>{ce(X-1)},1e3):Z&&X===0&&Ye(),()=>clearTimeout(ue)},[X,Z]);const Ye=()=>{ct&&(Se(!1),Ie(!0),j(!0),I(20))},Ct=()=>{j(!1),ce(20),Se(!0),I(null),Ie(!1)},ct=h[b],jt=()=>{Z&&(Se(!1),I(20-X),j(!0))},nt=async(ue,Ne)=>{if(ct)try{await d(ct.id,ue),A(De=>De+1),Q(De=>({...De,[Ne]:De[Ne]+1})),b+1<h.length?(v(b+1),Ct()):k(!0);const ve={proficient:"熟练掌握",remembered:"记得但不够熟练",forgotten:"需要重新学习"};i(`单词 "${ct.word}" - ${ve[Ne]}`)}catch(ve){console.error("Failed to mark word reviewed:",ve),l("复习记录保存失败，请重试")}},yt=()=>{pe!==null&&pe<=5?nt("easy","proficient"):nt("normal","remembered")},vt=()=>{nt("again","forgotten")},te=()=>{nt("again","forgotten")},je=()=>{r("/vocabulary")},Ce=()=>{const ue=s();g(ue),v(0),j(!1),A(0),k(!1),Q({proficient:0,remembered:0,forgotten:0}),ce(20),Se(!0),I(null),Ie(!1)};if(B)return c.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:c.jsx("div",{className:"container mx-auto px-4",children:c.jsx("div",{className:"max-w-2xl mx-auto",children:c.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 text-center",children:[c.jsx("div",{className:"mb-6",children:c.jsx("svg",{className:"w-20 h-20 text-green-500 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),c.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:R>0?"复习完成！":"暂无需要复习的单词"}),R>0?c.jsxs(c.Fragment,{children:[c.jsxs("p",{className:"text-lg text-gray-600 mb-6",children:["今天已复习 ",c.jsx("span",{className:"font-semibold text-blue-600",children:R})," 个单词，做得很棒！"]}),c.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 mb-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4 text-center",children:"本次复习统计"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs("div",{className:"text-center p-4 bg-white rounded-lg shadow-sm",children:[c.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:D.proficient}),c.jsx("div",{className:"text-sm font-medium text-gray-800 mb-1",children:"熟练掌握"}),c.jsx("div",{className:"text-xs text-gray-600",children:"5秒内回答正确"})]}),c.jsxs("div",{className:"text-center p-4 bg-white rounded-lg shadow-sm",children:[c.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:D.remembered}),c.jsx("div",{className:"text-sm font-medium text-gray-800 mb-1",children:"记得但不熟"}),c.jsx("div",{className:"text-xs text-gray-600",children:"5秒后回答正确"})]}),c.jsxs("div",{className:"text-center p-4 bg-white rounded-lg shadow-sm",children:[c.jsx("div",{className:"text-3xl font-bold text-red-600 mb-2",children:D.forgotten}),c.jsx("div",{className:"text-sm font-medium text-gray-800 mb-1",children:"需要重新学习"}),c.jsx("div",{className:"text-xs text-gray-600",children:"回答错误或超时"})]})]}),D.forgotten>0&&c.jsx("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:c.jsxs("div",{className:"flex items-start gap-2",children:[c.jsx("svg",{className:"w-5 h-5 text-yellow-600 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),c.jsxs("div",{className:"text-sm text-yellow-800",children:[c.jsx("p",{className:"font-medium mb-1",children:"复习建议"}),c.jsxs("p",{children:["有 ",D.forgotten," 个单词需要重新学习，建议加强这些单词的记忆，它们会更频繁地出现在复习中。"]})]})]})}),D.proficient>=R*.7&&c.jsx("div",{className:"mt-4 p-3 bg-green-50 border border-green-200 rounded-lg",children:c.jsxs("div",{className:"flex items-start gap-2",children:[c.jsx("svg",{className:"w-5 h-5 text-green-600 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),c.jsxs("div",{className:"text-sm text-green-800",children:[c.jsx("p",{className:"font-medium mb-1",children:"优秀表现！"}),c.jsx("p",{children:"大部分单词都能快速准确地回忆起来，你的词汇掌握程度很好！"})]})]})})]})]}):c.jsx("p",{className:"text-lg text-gray-600 mb-6",children:"所有单词都在计划内，继续保持学习节奏！"}),c.jsxs("div",{className:"flex gap-4 justify-center",children:[c.jsx("button",{onClick:je,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"返回单词本"}),R>0&&c.jsx("button",{onClick:Ce,className:"px-6 py-3 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:"继续复习"})]})]})})})});if(!ct)return c.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600",children:"加载中..."})]})});const Ze=(b+1)/h.length*100,O=ct.reviewData?Aw(ct.reviewData.reviewCount):"新词";return c.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:c.jsx("div",{className:"container mx-auto px-4",children:c.jsxs("div",{className:"max-w-4xl mx-auto",children:[c.jsxs("div",{className:"mb-8",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("button",{onClick:je,className:"flex items-center text-blue-600 hover:text-blue-700 transition-colors",children:[c.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"返回单词本"]}),c.jsxs("div",{className:"text-sm text-gray-600",children:[b+1," / ",h.length]})]}),c.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:c.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-500 h-2 rounded-full transition-all duration-300",style:{width:`${Ze}%`}})})]}),c.jsxs("div",{className:"bg-white rounded-xl shadow-xl p-8 mb-6",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsxs("div",{className:"flex items-center justify-center gap-4 mb-4",children:[c.jsx("h1",{className:"text-4xl font-bold text-gray-900",children:ct.word}),c.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 text-sm font-medium rounded-full",children:O})]}),ct.phonetic&&c.jsx("p",{className:"text-lg text-gray-600 mb-4",children:ct.phonetic}),c.jsxs("div",{className:"text-sm text-gray-500 bg-gray-50 rounded-lg p-4 mb-6",children:[c.jsx("p",{className:"font-medium mb-2",children:"出现语境："}),c.jsx("p",{className:"leading-relaxed",children:ct.context})]})]}),y?c.jsxs("div",{children:[ct.meanings&&ct.meanings.length>0&&c.jsxs("div",{className:"mb-8",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"词义："}),c.jsx("div",{className:"space-y-4",children:ct.meanings.slice(0,2).map((ue,Ne)=>c.jsxs("div",{className:"border-l-4 border-blue-200 pl-4",children:[c.jsx("div",{className:"flex items-center gap-2 mb-2",children:c.jsx("span",{className:"inline-block px-2 py-1 bg-blue-100 text-blue-800 text-sm font-medium rounded",children:ue.partOfSpeechLocal||ue.partOfSpeechCN||ue.partOfSpeech})}),c.jsx("div",{className:"space-y-1",children:ue.definitions.slice(0,2).map((ve,De)=>c.jsxs("p",{className:"text-gray-800",children:["• ",ve.definition]},De))})]},Ne))})]}),c.jsx("div",{children:Me?c.jsxs("div",{className:"text-center",children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("div",{className:"text-red-600 text-lg font-semibold mb-2",children:"⏰ 时间到！"}),c.jsx("p",{className:"text-gray-600",children:"请查看正确答案，这个单词将安排更频繁的复习"})]}),c.jsx("button",{onClick:te,className:"px-8 py-4 bg-blue-600 text-white text-lg font-medium rounded-lg hover:bg-blue-700 transition-colors",children:"知道了，下一个"})]}):c.jsxs(c.Fragment,{children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"你答对了吗？"}),pe!==null&&pe<20&&c.jsx("div",{className:"mb-4 text-center",children:c.jsxs("span",{className:`inline-block px-4 py-2 rounded-full text-sm font-medium ${pe<=5?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:["查看用时：",pe,"秒 ",pe<=5?"(快速反应)":"(需要思考)"]})}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("button",{onClick:yt,className:"p-6 text-center border-2 border-green-200 bg-green-50 hover:bg-green-100 rounded-lg transition-colors",children:[c.jsx("div",{className:"text-2xl mb-2",children:"✓"}),c.jsx("div",{className:"text-green-600 font-bold text-lg mb-1",children:"正确"}),c.jsx("div",{className:"text-xs text-green-600",children:pe!==null&&pe<=5?"熟练掌握":"记得但不够熟练"})]}),c.jsxs("button",{onClick:vt,className:"p-6 text-center border-2 border-red-200 bg-red-50 hover:bg-red-100 rounded-lg transition-colors",children:[c.jsx("div",{className:"text-2xl mb-2",children:"✗"}),c.jsx("div",{className:"text-red-600 font-bold text-lg mb-1",children:"错误"}),c.jsx("div",{className:"text-xs text-red-600",children:"需要重新学习"})]})]})]})})]}):c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"text-lg text-gray-700 mb-6",children:"你还记得这个单词的意思吗？"}),c.jsxs("div",{className:"mb-8",children:[c.jsx("div",{className:`text-6xl font-bold mb-4 ${X<=5?"text-red-600":X<=10?"text-orange-500":"text-blue-600"}`,children:X}),c.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-4",children:c.jsx("div",{className:`h-2 rounded-full transition-all duration-1000 ${X<=5?"bg-red-500":X<=10?"bg-orange-500":"bg-blue-500"}`,style:{width:`${X/20*100}%`}})})]}),c.jsx("button",{onClick:jt,disabled:!Z,className:`px-8 py-4 text-lg font-medium rounded-lg transition-colors ${Z?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:Z?"显示答案":"时间到！"}),pe!==null&&c.jsxs("p",{className:"text-sm text-gray-500 mt-4",children:["查看答案用时：",pe," 秒"]})]})]}),c.jsxs("div",{className:"text-center text-sm text-gray-600",children:["已复习 ",R," 个单词，还有 ",h.length-b-1," 个待复习"]})]})})})};class l2 extends z.Component{retryCount=0;maxRetries=3;constructor(i){super(i),this.state={hasError:!1}}static getDerivedStateFromError(i){return{hasError:!0,error:i}}componentDidCatch(i,l){const s=mi.handleError(i,{type:er.COMPONENT_ERROR,severity:this.props.level==="page"?In.HIGH:In.MEDIUM,context:{componentStack:l.componentStack,errorBoundaryLevel:this.props.level||"component",retryCount:this.retryCount},logToConsole:!0});this.setState({errorInfo:l,errorId:s.id}),this.props.onError&&this.props.onError(i,l)}handleRetry=()=>{this.retryCount<this.maxRetries&&(this.retryCount++,this.setState({hasError:!1,error:void 0,errorInfo:void 0}))};handleReload=()=>{window.location.reload()};handleReportError=()=>{if(this.state.error&&this.state.errorInfo){const i={error:this.state.error.toString(),stack:this.state.error.stack,componentStack:this.state.errorInfo.componentStack,userAgent:navigator.userAgent,url:window.location.href,timestamp:new Date().toISOString()};navigator.clipboard.writeText(JSON.stringify(i,null,2)).then(()=>{alert("错误报告已复制到剪贴板")}).catch(()=>{console.error("Failed to copy error report")})}};render(){if(this.state.hasError){if(this.props.fallback)return this.props.fallback;const i=this.props.level==="page",l=this.retryCount<this.maxRetries;return c.jsx("div",{className:`
          ${i?"min-h-screen":"min-h-64"} 
          flex items-center justify-center bg-gray-50 p-4
        `,children:c.jsxs("div",{className:"max-w-md w-full bg-white shadow-lg rounded-lg p-6",children:[c.jsx("div",{className:"flex items-center justify-center w-12 h-12 mx-auto bg-red-100 rounded-full mb-4",children:c.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),c.jsx("h2",{className:"text-lg font-semibold text-gray-900 text-center mb-2",children:i?"页面加载失败":"组件出现错误"}),c.jsx("p",{className:"text-gray-600 text-center mb-4",children:i?"页面遇到了意外错误，请尝试刷新页面。":"此组件遇到了错误，您可以尝试重新加载或刷新页面。"}),this.retryCount>0&&c.jsxs("p",{className:"text-sm text-gray-500 text-center mb-4",children:["已重试 ",this.retryCount," 次"]}),c.jsxs("div",{className:"flex flex-col space-y-2",children:[l&&!i&&c.jsx("button",{onClick:this.handleRetry,className:"w-full bg-blue-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"重新加载组件"}),c.jsx("button",{onClick:this.handleReload,className:"w-full bg-blue-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"刷新页面"}),c.jsx("button",{onClick:this.handleReportError,className:"w-full bg-gray-200 text-gray-800 px-4 py-2 rounded-lg font-medium hover:bg-gray-300 transition-colors",children:"复制错误报告"})]}),!1]})})}return this.props.children}}const s2=tb([{path:"/",element:c.jsxs(l2,{children:[c.jsx(qw,{}),c.jsx(Uw,{})]}),children:[{index:!0,element:c.jsx(wn,{children:c.jsx(Qw,{})})},{path:"practice",element:c.jsx(wn,{children:c.jsx(Fw,{})})},{path:"review",element:c.jsx(wn,{children:c.jsx(_p,{})})},{path:"review/:sessionId",element:c.jsx(wn,{children:c.jsx(_p,{})})},{path:"vocabulary",element:c.jsx(wn,{children:c.jsx(a2,{})})},{path:"vocabulary/review",element:c.jsx(wn,{children:c.jsx(i2,{})})}]}]),o2=()=>c.jsx(mb,{router:s2});function u2(){return z.useEffect(()=>{const r=async i=>{try{const s=i.detail.session;console.log("App: Received completed session",s);const{addPracticeSession:d}=Mg.getState();d(s),console.log("App: Session added to userStore")}catch(l){console.error("App: Failed to handle completed practice session:",l)}};return window.addEventListener("practiceSessionCompleted",r),()=>{window.removeEventListener("practiceSessionCompleted",r)}},[]),c.jsx(Mw,{children:c.jsx(o2,{})})}"scrollRestoration"in history&&(history.scrollRestoration="manual");av.createRoot(document.getElementById("root")).render(c.jsx(z.StrictMode,{children:c.jsx(u2,{})}));
