import { getDifficultyDescription } from '../index.js';

export const part7QuestionPrompt = (difficulty: string, count: number, topic?: string, customPrompt?: string): string => {
  return `
作为TOEIC题目生成专家，请生成${count}道阅读Part7 阅读理解题目。

要求：
- 难度：${getDifficultyDescription(difficulty)}
- 题目类型：READING_PART7
- 返回格式：严格的JSON数组，每个题目包含以下字段：
  {
    "id": "唯一标识符",
    "type": "READING_PART7",
    "difficulty": "${difficulty}",
    "question": "题目内容",
    "options": ["选项A", "选项B", "选项C", "选项D"],
    "correctAnswer": [0、1、2或3 - 确保答案均匀分布在四个选项中],
    "explanation": "详细解释",
    "passage": "完整阅读材料"
  }

${topic ? `题目主题：${topic}` : ''}
${customPrompt ? `特殊要求：${customPrompt}` : ''}

Part7 阅读理解特殊要求：
- 基于完整的商务文档或材料
- 文章长度：150-400词
- 问题类型涵盖：细节理解、主旨大意、推理判断、词汇理解
- 材料应该真实反映商务环境中的文档

阅读材料类型：
- 电子邮件：商务往来、客户服务、内部沟通
- 通知公告：会议通知、政策变更、活动安排
- 广告宣传：产品介绍、服务推广、招聘信息
- 新闻报道：公司新闻、行业动态、市场分析
- 说明文档：产品手册、操作指南、政策条款
- 表格图表：时间表、价格表、统计数据

问题类型分布：
- 40% 细节理解题（时间、地点、价格、联系方式等具体信息）
- 25% 主旨大意题（文章主要目的、核心主题）
- 20% 推理判断题（隐含意思、作者态度、后续行动）
- 10% 词汇理解题（根据语境理解词汇含义）
- 5% 文档类型题（识别文档性质和用途）

文章结构建议：
- 邮件：主题→问候→正文→结尾→联系信息
- 通知：标题→时间地点→内容详情→注意事项
- 广告：标题→产品/服务介绍→优势特点→联系方式
- 报道：标题→导语→主体内容→总结
- 说明：标题→概述→具体步骤/条款→联系信息

细节设计要求：
- 包含具体的时间、地点、人名、公司名
- 提供联系方式（电话、邮箱、网址）
- 包含数字信息（价格、数量、时间）
- 体现真实的商务语境和专业表达

干扰选项设计：
- 文章中提到但不是答案的信息
- 逻辑上合理但文章未提及的推测
- 部分正确但不完整的表述
- 同义转换但意思有偏差的表达

请确保题目符合TOEIC考试标准，答案解释清晰准确。

**重要提醒：请将正确答案随机分布在A、B、C、D四个选项中，避免大部分答案都是同一选项的情况。目标是在A、B、C、D选项中大致均匀分布正确答案。**

**重要：请直接返回JSON数组，不要使用Markdown代码块包装，不要添加任何其他文本。**
  `;
};

